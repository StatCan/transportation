!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var h=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),g=(h.version,t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),i=t(function(t){var e="__core-js_shared__",n=g[e]||(g[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:h.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),e=0,n=Math.random(),u=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))},r=t(function(t){var e=i("wks"),n=g.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:u)("Symbol."+t))}).store=e}),o=function(t){return"object"==typeof t?null!==t:"function"==typeof t},a=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t},c=function(t){try{return!!t()}catch(t){return!0}},s=!c(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),l=g.document,f=o(l)&&o(l.createElement),p=function(t){return f?l.createElement(t):{}},d=!s&&!c(function(){return 7!=Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a}),y=Object.defineProperty,v={f:s?Object.defineProperty:function(t,e,n){if(a(t),e=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),a(n),d)try{return y(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},_=s?function(t,e,n){return v.f(t,e,S(1,n))}:function(t,e,n){return t[e]=n,t},b=r("unscopables"),m=Array.prototype;null==m[b]&&_(m,b,{});var x=function(t){m[b][t]=!0},O=function(t,e){return{value:e,done:!!t}},j={},k={}.toString,w=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==(e=t,k.call(e).slice(8,-1))?t.split(""):Object(t);var e},L=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},T=function(t){return w(L(t))},P={}.hasOwnProperty,A=function(t,e){return P.call(t,e)},C=t(function(t){var o=u("src"),e="toString",n=Function[e],a=(""+n).split(e);h.inspectSource=function(t){return n.call(t)},(t.exports=function(t,e,n,r){var i="function"==typeof n;i&&(A(n,"name")||_(n,"name",e)),t[e]!==n&&(i&&(A(n,o)||_(n,o,t[e]?""+t[e]:a.join(String(e)))),t===g?t[e]=n:r?t[e]?t[e]=n:_(t,e,n):(delete t[e],_(t,e,n)))})(Function.prototype,e,function(){return"function"==typeof this&&this[o]||n.call(this)})}),M=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},E=function(r,i,t){if(M(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}},F="prototype",D=function(t,e,n){var r,i,o,a,u=t&D.F,c=t&D.G,s=t&D.S,l=t&D.P,f=t&D.B,p=c?g:s?g[e]||(g[e]={}):(g[e]||{})[F],d=c?h:h[e]||(h[e]={}),y=d[F]||(d[F]={});for(r in c&&(n=e),n)o=((i=!u&&p&&void 0!==p[r])?p:n)[r],a=f&&i?E(o,g):l&&"function"==typeof o?E(Function.call,o):o,p&&C(p,r,o,t&D.U),d[r]!=o&&_(d,r,a),l&&y[r]!=o&&(y[r]=o)};g.core=h,D.F=1,D.G=2,D.S=4,D.P=8,D.B=16,D.W=32,D.U=64,D.R=128;var I=D,N=Math.ceil,R=Math.floor,V=function(t){return isNaN(t=+t)?0:(0<t?R:N)(t)},z=Math.min,G=Math.max,B=Math.min,K=function(l){return function(t,e,n){var r,i,o,a,u=T(t),c=0<(r=u.length)?z(V(r),9007199254740991):0,s=(o=c,(i=V(i=n))<0?G(i+o,0):B(i,o));if(l&&e!=e){for(;s<c;)if((a=u[s++])!=a)return!0}else for(;s<c;s++)if((l||s in u)&&u[s]===e)return l||s||0;return!l&&-1}},H=i("keys"),Y=function(t){return H[t]||(H[t]=u(t))},Q=K(!1),U=Y("IE_PROTO"),W="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),q=Object.keys||function(t){return function(t,e){var n,r=T(t),i=0,o=[];for(n in r)n!=U&&A(r,n)&&o.push(n);for(;e.length>i;)A(r,n=e[i++])&&(~Q(o,n)||o.push(n));return o}(t,W)},J=s?Object.defineProperties:function(t,e){a(t);for(var n,r=q(e),i=r.length,o=0;o<i;)v.f(t,n=r[o++],e[n]);return t},X=g.document,Z=X&&X.documentElement,tt=Y("IE_PROTO"),et=function(){},nt="prototype",rt=function(){var t,e=p("iframe"),n=W.length;for(e.style.display="none",Z.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),rt=t.F;n--;)delete rt[nt][W[n]];return rt()},it=Object.create||function(t,e){var n;return null!==t?(et[nt]=a(t),n=new et,et[nt]=null,n[tt]=t):n=rt(),void 0===e?n:J(n,e)},ot=v.f,at=r("toStringTag"),ut=function(t,e,n){t&&!A(t=n?t:t.prototype,at)&&ot(t,at,{configurable:!0,value:e})},ct={};_(ct,r("iterator"),function(){return this});var st=function(t){return Object(L(t))},lt=Y("IE_PROTO"),ft=Object.prototype,pt=Object.getPrototypeOf||function(t){return t=st(t),A(t,lt)?t[lt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ft:null},dt=r("iterator"),yt=!([].keys&&"next"in[].keys()),ht="values",gt=function(){return this},vt=function(t,e,n,r,i,o,a){var u,c,s;c=e,s=r,(u=n).prototype=it(ct,{next:S(1,s)}),ut(u,c+" Iterator");var l,f,p,d=function(t){if(!yt&&t in v)return v[t];switch(t){case"keys":case ht:return function(){return new n(this,t)}}return function(){return new n(this,t)}},y=e+" Iterator",h=i==ht,g=!1,v=t.prototype,b=v[dt]||v["@@iterator"]||i&&v[i],m=b||d(i),x=i?h?d("entries"):m:void 0,O="Array"==e&&v.entries||b;if(O&&(p=pt(O.call(new t)))!==Object.prototype&&p.next&&(ut(p,y,!0),"function"!=typeof p[dt]&&_(p,dt,gt)),h&&b&&b.name!==ht&&(g=!0,m=function(){return b.call(this)}),(yt||g||!v[dt])&&_(v,dt,m),j[e]=m,j[y]=gt,i)if(l={values:h?m:d(ht),keys:o?m:d("keys"),entries:x},a)for(f in l)f in v||C(v,f,l[f]);else I(I.P+I.F*(yt||g),e,l);return l}(Array,"Array",function(t,e){this._t=T(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,O(1)):O(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");j.Arguments=j.Array,x("keys"),x("values"),x("entries");for(var bt=r("iterator"),mt=r("toStringTag"),xt=j.Array,Ot={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},St=q(Ot),_t=0;_t<St.length;_t++){var jt,kt=St[_t],wt=Ot[kt],Lt=g[kt],Tt=Lt&&Lt.prototype;if(Tt&&(Tt[bt]||_(Tt,bt,xt),Tt[mt]||_(Tt,mt,kt),j[kt]=xt,wt))for(jt in vt)Tt[jt]||C(Tt,jt,vt[jt],!0)}var Pt,At,Ct,Mt;Pt="keys",At=function(){return function(t){return q(st(t))}},Ct=(h.Object||{})[Pt]||Object[Pt],(Mt={})[Pt]=At(Ct),I(I.S+I.F*c(function(){Ct(1)}),"Object",Mt);var Et=function(t,e){return!!t&&c(function(){e?t.call(null,function(){},1):t.call(null)})},Ft=[].sort,Dt=[1,2,3];I(I.P+I.F*(c(function(){Dt.sort(void 0)})||!c(function(){Dt.sort(null)})||!Et(Ft)),"Array",{sort:function(t){return void 0===t?Ft.call(st(this)):Ft.call(st(this),M(t))}});var It=K(!1),Nt=[].indexOf,Rt=!!Nt&&1/[1].indexOf(1,-0)<0;I(I.P+I.F*(Rt||!Et(Nt)),"Array",{indexOf:function(t){return Rt?Nt.apply(this,arguments)||0:It(this,t,arguments[1])}});var Vt,zt,Gt={alt:i18next.t("alt",{ns:"area"}),margin:{top:20,bottom:50,left:80},filterData:function(t){return t.numMov},x:{getLabel:function(){return i18next.t("x_label",{ns:"area"})},getValue:function(t){return new Date(t.year+"-01")},getText:function(t){return t.year},ticks:7},y:{label:i18next.t("y_label",{ns:"area"}),getLabel:function(){return i18next.t("y_label",{ns:"area"})},getValue:function(t,e){return"string"==typeof t[e]||t[e]instanceof String?0:1*t[e]/1e3},getText:function(t,e){return"string"==typeof t[e]||t[e]instanceof String?t[e]:1*t[e]/1e3},ticks:5},z:{label:i18next.t("z_label",{ns:"area"}),getId:function(t){return t.key},getKeys:function(t){var e=Object.keys(t[0]);return e.splice(e.indexOf("year"),1),-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),e},getClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.z.getId.apply(this,e)},getText:function(t){return i18next.t(t.key,{ns:"area"})}},datatable:!1,transition:!0,width:400},Bt={alt:i18next.t("alt",{ns:"areaAirport"}),aspectRatio:4,margin:{top:20,right:10,bottom:50,left:50},filterData:function(t){return t.numMov},x:{getValue:function(t){return new Date(t.year+"-01")},getText:function(t){return t.year},ticks:10},y:{getValue:function(t,e){return"string"==typeof t[e]||t[e]instanceof String?0:1*t[e]/1e3},getText:function(t,e){return"string"==typeof t[e]||t[e]instanceof String?t[e]:1*t[e]/1e3},ticks:3},z:{getId:function(t){return t.key},getKeys:function(t){var e=Object.keys(t[0]);return e.splice(e.indexOf("year"),1),-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),e},getClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.z.getId.apply(this,e)},getText:function(t){return i18next.t(t.key,{ns:"areaAirport"})}},datatable:!1,transition:!1,width:500},Kt=d3.select(".dashboard .map").append("svg"),Ht=d3.select(".data").append("svg").attr("id","svg_areaChartAir"),Yt=d3.select("#lineChart").append("svg").attr("id","svg_lineChart"),Qt={},Ut="CANADA",Wt={};function qt(){var e=function(){areaChart(Ht,Gt,Qt[Ut])};if(!Qt[Ut])return d3.json("data/air/".concat(Ut,"_passengers_MOCK.json"),function(t){Qt[Ut]=t,e()});e()}var $t=getCanadaMap(Kt).on("loaded",function(){var r=this;d3.select(".dashboard .map").selectAll("path").style("stroke","black");for(var t={BC:1131,AB:630,SK:149,MB:225,ON:1233,QC:621,NB:231,NS:84,PE:0,NL:87,NT:51,NU:0,YK:32},e=[],n=Object.keys(t),i=0;i<n.length;i++){var o=n[i];e.push(t[o])}e.sort(function(t,e){return t-e});var a=d3.extent(e),u=d3.scaleLinear().domain([a[0],a[1]]).range(["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"]);for(var c in t)t.hasOwnProperty(c)&&d3.select(".dashboard .map").select("."+c).style("fill",u(t[c]));d3.json("geojson/vennAirport_with_dataFlag.geojson",function(t,e){if(t)throw t;var n=Kt.append("g");zt=d3.geoPath().projection(r.settings.projection).pointRadius(1.5),n.selectAll("path").data(e.features).enter().append("path").attr("d",zt).attr("id",function(t,e){return"airport"+t.properties.id}).attr("class",function(t,e){return"airport "+t.properties.hasPlanedData}).on("mouseover",function(t){Vt=t.properties.id,"noYears"!==t.properties.hasPlanedData&&("YQT"!==t.properties.id&&"YQG"!==t.properties.id||function(){if(!Wt[Vt]){var t="data/air/".concat(Vt,"_passengers_planed.json");return d3.json(t,function(t){t&&(Wt[Vt]=t,areaChart(Yt,Bt,Wt[Vt]),d3.select("#svg_lineChart").select(".airptChartTitle").text(i18next.t(Vt,{ns:"airports"})))})}areaChart(Yt,Bt,Wt[Vt]),d3.select("#svg_lineChart").select(".airptChartTitle").text(i18next.t(Vt,{ns:"airports"}))}())})})});Kt.on("click",function(){var t=d3.transition().duration(1e3),e=d3.event.target.classList;if("airport"!==e[0]){if("zoomed"===e[1]||0===e.length)return zt.pointRadius(function(t,e){return 1.5}),d3.transition(t).selectAll(".airport").style("stroke-width",.5).attr("d",zt),$t.zoom();zt.pointRadius(function(t,e){return.5}),d3.transition(t).selectAll(".airport").style("stroke-width",.1).attr("d",zt),$t.zoom(e[0])}}),i18n.load(["src/i18n"],function(){Gt.x.label=i18next.t("x_label",{ns:"area"}),Gt.y.label=i18next.t("y_label",{ns:"area"}),Bt.x.label=i18next.t("x_label",{ns:"areaAirport"}),Bt.y.label=i18next.t("y_label",{ns:"areaAirport"}),qt()}),$(document).on("change",function(t){"groups"===t.target.id&&(Ut=document.getElementById("groups").value,qt())})}();