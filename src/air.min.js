!function(){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function t(t,e){return t(e={exports:{}},e.exports),e.exports}var g=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),y=(g.version,t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),o=t(function(t){var e="__core-js_shared__",n=y[e]||(y[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:g.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),e=0,n=Math.random(),s=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))},u=t(function(t){var e=o("wks"),n=y.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:s)("Symbol."+t))}).store=e}),p=function(t){return"object"==typeof t?null!==t:"function"==typeof t},N=function(t){if(!p(t))throw TypeError(t+" is not an object!");return t},f=function(t){try{return!!t()}catch(t){return!0}},r=!f(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),i=y.document,c=p(i)&&p(i.createElement),d=function(t){return c?i.createElement(t):{}},h=!r&&!f(function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a}),v=function(t,e){if(!p(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!p(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},m=Object.defineProperty,b={f:r?Object.defineProperty:function(t,e,n){if(N(t),e=v(e,!0),N(n),h)try{return m(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},_=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=r?function(t,e,n){return b.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t},x=u("unscopables"),C=Array.prototype;null==C[x]&&w(C,x,{});var A=function(t){C[x][t]=!0},S=function(t,e){return{value:e,done:!!t}},T={},O={}.toString,I=function(t){return O.call(t).slice(8,-1)},j=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==I(t)?t.split(""):Object(t)},P=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},E=function(t){return j(P(t))},M={}.hasOwnProperty,F=function(t,e){return M.call(t,e)},k=t(function(t){var o=s("src"),e="toString",n=Function[e],i=(""+n).split(e);g.inspectSource=function(t){return n.call(t)},(t.exports=function(t,e,n,r){var a="function"==typeof n;a&&(F(n,"name")||w(n,"name",e)),t[e]!==n&&(a&&(F(n,o)||w(n,o,t[e]?""+t[e]:i.join(String(e)))),t===y?t[e]=n:r?t[e]?t[e]=n:w(t,e,n):(delete t[e],w(t,e,n)))})(Function.prototype,e,function(){return"function"==typeof this&&this[o]||n.call(this)})}),D=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},L=function(r,a,t){if(D(r),void 0===a)return r;switch(t){case 1:return function(t){return r.call(a,t)};case 2:return function(t,e){return r.call(a,t,e)};case 3:return function(t,e,n){return r.call(a,t,e,n)}}return function(){return r.apply(a,arguments)}},Y="prototype",B=function(t,e,n){var r,a,o,i,s=t&B.F,l=t&B.G,c=t&B.S,u=t&B.P,f=t&B.B,d=l?y:c?y[e]||(y[e]={}):(y[e]||{})[Y],p=l?g:g[e]||(g[e]={}),h=p[Y]||(p[Y]={});for(r in l&&(n=e),n)o=((a=!s&&d&&void 0!==d[r])?d:n)[r],i=f&&a?L(o,y):u&&"function"==typeof o?L(Function.call,o):o,d&&k(d,r,o,t&B.U),p[r]!=o&&w(p,r,i),u&&h[r]!=o&&(h[r]=o)};y.core=g,B.F=1,B.G=2,B.S=4,B.P=8,B.B=16,B.W=32,B.U=64,B.R=128;var R=B,H=Math.ceil,V=Math.floor,G=function(t){return isNaN(t=+t)?0:(0<t?V:H)(t)},U=Math.min,z=function(t){return 0<t?U(G(t),9007199254740991):0},J=Math.max,Q=Math.min,W=function(c){return function(t,e,n){var r,a,o,i=E(t),s=z(i.length),l=(a=s,(r=G(r=n))<0?J(r+a,0):Q(r,a));if(c&&e!=e){for(;l<s;)if((o=i[l++])!=o)return!0}else for(;l<s;l++)if((c||l in i)&&i[l]===e)return c||l||0;return!c&&-1}},X=o("keys"),K=function(t){return X[t]||(X[t]=s(t))},Z=W(!1),q=K("IE_PROTO"),tt=function(t,e){var n,r=E(t),a=0,o=[];for(n in r)n!=q&&F(r,n)&&o.push(n);for(;e.length>a;)F(r,n=e[a++])&&(~Z(o,n)||o.push(n));return o},et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),nt=Object.keys||function(t){return tt(t,et)},rt=r?Object.defineProperties:function(t,e){N(t);for(var n,r=nt(e),a=r.length,o=0;o<a;)b.f(t,n=r[o++],e[n]);return t},at=y.document,ot=at&&at.documentElement,it=K("IE_PROTO"),st=function(){},lt="prototype",ct=function(){var t,e=d("iframe"),n=et.length;for(e.style.display="none",ot.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ct=t.F;n--;)delete ct[lt][et[n]];return ct()},ut=Object.create||function(t,e){var n;return null!==t?(st[lt]=N(t),n=new st,st[lt]=null,n[it]=t):n=ct(),void 0===e?n:rt(n,e)},ft=b.f,dt=u("toStringTag"),pt=function(t,e,n){t&&!F(t=n?t:t.prototype,dt)&&ft(t,dt,{configurable:!0,value:e})},ht={};w(ht,u("iterator"),function(){return this});var gt=function(t){return Object(P(t))},yt=K("IE_PROTO"),vt=Object.prototype,mt=Object.getPrototypeOf||function(t){return t=gt(t),F(t,yt)?t[yt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?vt:null},bt=u("iterator"),xt=!([].keys&&"next"in[].keys()),Nt="values",_t=function(){return this},wt=function(t,e,n,r,a,o,i){var s,l,c;l=e,c=r,(s=n).prototype=ut(ht,{next:_(1,c)}),pt(s,l+" Iterator");var u,f,d,p=function(t){if(!xt&&t in v)return v[t];switch(t){case"keys":case Nt:return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",g=a==Nt,y=!1,v=t.prototype,m=v[bt]||v["@@iterator"]||a&&v[a],b=m||p(a),x=a?g?p("entries"):b:void 0,N="Array"==e&&v.entries||m;if(N&&(d=mt(N.call(new t)))!==Object.prototype&&d.next&&(pt(d,h,!0),"function"!=typeof d[bt]&&w(d,bt,_t)),g&&m&&m.name!==Nt&&(y=!0,b=function(){return m.call(this)}),(xt||y||!v[bt])&&w(v,bt,b),T[e]=b,T[h]=_t,a)if(u={values:g?b:p(Nt),keys:o?b:p("keys"),entries:x},i)for(f in u)f in v||k(v,f,u[f]);else R(R.P+R.F*(xt||y),e,u);return u},Ct=wt(Array,"Array",function(t,e){this._t=E(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,S(1)):S(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");T.Arguments=T.Array,A("keys"),A("values"),A("entries");for(var At=u("iterator"),St=u("toStringTag"),Tt=T.Array,Ot={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},It=nt(Ot),jt=0;jt<It.length;jt++){var Pt,Et=It[jt],Mt=Ot[Et],Ft=y[Et],kt=Ft&&Ft.prototype;if(kt&&(kt[At]||w(kt,At,Tt),kt[St]||w(kt,St,Et),T[Et]=Tt,Mt))for(Pt in Ct)kt[Pt]||k(kt,Pt,Ct[Pt],!0)}var Dt={f:{}.propertyIsEnumerable},Lt=Dt.f,Yt=function(s){return function(t){for(var e,n=E(t),r=nt(n),a=r.length,o=0,i=[];o<a;)Lt.call(n,e=r[o++])&&i.push(s?[e,n[e]]:n[e]);return i}},Bt=Yt(!0);R(R.S,"Object",{entries:function(t){return Bt(t)}});var Rt,Ht,Vt,Gt=u("toStringTag"),Ut="Arguments"==I(function(){return arguments}()),zt=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Gt))?n:Ut?I(e):"Object"==(r=I(e))&&"function"==typeof e.callee?"Arguments":r},Jt=function(e,t,n,r){try{return r?t(N(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&N(a.call(e)),t}},Qt=u("iterator"),Wt=Array.prototype,$t=function(t){return void 0!==t&&(T.Array===t||Wt[Qt]===t)},Xt=u("iterator"),Kt=g.getIteratorMethod=function(t){if(null!=t)return t[Xt]||t["@@iterator"]||T[zt(t)]},Zt=t(function(t){var d={},p={},e=t.exports=function(t,e,n,r,a){var o,i,s,l,c=a?function(){return t}:Kt(t),u=L(n,r,e?2:1),f=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if($t(c)){for(o=z(t.length);f<o;f++)if((l=e?u(N(i=t[f])[0],i[1]):u(t[f]))===d||l===p)return l}else for(s=c.call(t);!(i=s.next()).done;)if((l=Jt(s,u,i.value,e))===d||l===p)return l};e.BREAK=d,e.RETURN=p}),qt=u("species"),te=function(t,e){var n,r=N(t).constructor;return void 0===r||null==(n=N(r)[qt])?e:D(n)},ee=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},ne=y.process,re=y.setImmediate,ae=y.clearImmediate,oe=y.MessageChannel,ie=y.Dispatch,se=0,le={},ce="onreadystatechange",ue=function(){var t=+this;if(le.hasOwnProperty(t)){var e=le[t];delete le[t],e()}},fe=function(t){ue.call(t.data)};re&&ae||(re=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return le[++se]=function(){ee("function"==typeof t?t:Function(t),e)},Rt(se),se},ae=function(t){delete le[t]},"process"==I(ne)?Rt=function(t){ne.nextTick(L(ue,t,1))}:ie&&ie.now?Rt=function(t){ie.now(L(ue,t,1))}:oe?(Vt=(Ht=new oe).port2,Ht.port1.onmessage=fe,Rt=L(Vt.postMessage,Vt,1)):y.addEventListener&&"function"==typeof postMessage&&!y.importScripts?(Rt=function(t){y.postMessage(t+"","*")},y.addEventListener("message",fe,!1)):Rt=ce in d("script")?function(t){ot.appendChild(d("script"))[ce]=function(){ot.removeChild(this),ue.call(t)}}:function(t){setTimeout(L(ue,t,1),0)});var de={set:re,clear:ae},pe=de.set,he=y.MutationObserver||y.WebKitMutationObserver,ge=y.process,ye=y.Promise,ve="process"==I(ge);function me(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=D(n),this.reject=D(r)}var be={f:function(t){return new me(t)}},xe=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Ne=y.navigator,_e=Ne&&Ne.userAgent||"",we=u("species"),Ce=u("iterator"),Ae=!1;try{[7][Ce]().return=function(){Ae=!0}}catch(t){}var Se,Te,Oe,Ie,je,Pe=function(t,e){if(!e&&!Ae)return!1;var n=!1;try{var r=[7],a=r[Ce]();a.next=function(){return{done:n=!0}},r[Ce]=function(){return a},t(r)}catch(t){}return n},Ee=de.set,Me=function(){var n,r,a,t=function(){var t,e;for(ve&&(t=ge.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?a():r=void 0,t}}r=void 0,t&&t.enter()};if(ve)a=function(){ge.nextTick(t)};else if(!he||y.navigator&&y.navigator.standalone)if(ye&&ye.resolve){var e=ye.resolve(void 0);a=function(){e.then(t)}}else a=function(){pe.call(y,t)};else{var o=!0,i=document.createTextNode("");new he(t).observe(i,{characterData:!0}),a=function(){i.data=o=!o}}return function(t){var e={fn:t,next:void 0};r&&(r.next=e),n||(n=e,a()),r=e}}(),Fe="Promise",ke=y.TypeError,De=y.process,Le=De&&De.versions,Ye=Le&&Le.v8||"",Be=y[Fe],Re="process"==zt(De),He=function(){},Ve=Te=be.f,Ge=!!function(){try{var t=Be.resolve(1),e=(t.constructor={})[u("species")]=function(t){t(He,He)};return(Re||"function"==typeof PromiseRejectionEvent)&&t.then(He)instanceof e&&0!==Ye.indexOf("6.6")&&-1===_e.indexOf("Chrome/66")}catch(t){}}(),Ue=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},ze=function(u,n){if(!u._n){u._n=!0;var r=u._c;Me(function(){for(var l=u._v,c=1==u._s,t=0,e=function(t){var e,n,r,a=c?t.ok:t.fail,o=t.resolve,i=t.reject,s=t.domain;try{a?(c||(2==u._h&&We(u),u._h=1),!0===a?e=l:(s&&s.enter(),e=a(l),s&&(s.exit(),r=!0)),e===t.promise?i(ke("Promise-chain cycle")):(n=Ue(e))?n.call(e,o,i):o(e)):i(l)}catch(t){s&&!r&&s.exit(),i(t)}};r.length>t;)e(r[t++]);u._c=[],u._n=!1,n&&!u._h&&Je(u)})}},Je=function(o){Ee.call(y,function(){var t,e,n,r=o._v,a=Qe(o);if(a&&(t=xe(function(){Re?De.emit("unhandledRejection",r,o):(e=y.onunhandledrejection)?e({promise:o,reason:r}):(n=y.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=Re||Qe(o)?2:1),o._a=void 0,a&&t.e)throw t.v})},Qe=function(t){return 1!==t._h&&0===(t._a||t._c).length},We=function(e){Ee.call(y,function(){var t;Re?De.emit("rejectionHandled",e):(t=y.onrejectionhandled)&&t({promise:e,reason:e._v})})},$e=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),ze(e,!0))},Xe=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw ke("Promise can't be resolved itself");(n=Ue(t))?Me(function(){var e={_w:r,_d:!1};try{n.call(t,L(Xe,e,1),L($e,e,1))}catch(t){$e.call(e,t)}}):(r._v=t,r._s=1,ze(r,!1))}catch(t){$e.call({_w:r,_d:!1},t)}}};Ge||(Be=function(t){!function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")}(this,Be,Fe,"_h"),D(t),Se.call(this);try{t(L(Xe,this,1),L($e,this,1))}catch(t){$e.call(this,t)}},(Se=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)k(t,r,e[r],n);return t}(Be.prototype,{then:function(t,e){var n=Ve(te(this,Be));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Re?De.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&ze(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Oe=function(){var t=new Se;this.promise=t,this.resolve=L(Xe,t,1),this.reject=L($e,t,1)},be.f=Ve=function(t){return t===Be||t===Ie?new Oe(t):Te(t)}),R(R.G+R.W+R.F*!Ge,{Promise:Be}),pt(Be,Fe),je=y[Fe],r&&je&&!je[we]&&b.f(je,we,{configurable:!0,get:function(){return this}}),Ie=g[Fe],R(R.S+R.F*!Ge,Fe,{reject:function(t){var e=Ve(this);return(0,e.reject)(t),e.promise}}),R(R.S+R.F*!Ge,Fe,{resolve:function(t){return function(t,e){if(N(t),p(e)&&e.constructor===t)return e;var n=be.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),R(R.S+R.F*!(Ge&&Pe(function(t){Be.all(t).catch(He)})),Fe,{all:function(t){var i=this,e=Ve(i),s=e.resolve,l=e.reject,n=xe(function(){var r=[],a=0,o=1;Zt(t,!1,function(t){var e=a++,n=!1;r.push(void 0),o++,i.resolve(t).then(function(t){n||(n=!0,r[e]=t,--o||s(r))},l)}),--o||s(r)});return n.e&&l(n.v),e.promise},race:function(t){var e=this,n=Ve(e),r=n.reject,a=xe(function(){Zt(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return a.e&&r(a.v),n.promise}});var Ke=Array.isArray||function(t){return"Array"==I(t)},Ze=u("species"),qe=function(t,e){return Ke(n=t)&&("function"!=typeof(r=n.constructor)||r!==Array&&!Ke(r.prototype)||(r=void 0),p(r)&&null===(r=r[Ze])&&(r=void 0)),new(void 0===r?Array:r)(e);var n,r},tn=function(f,t){var d=1==f,p=2==f,h=3==f,g=4==f,y=6==f,v=5==f||y,m=t||qe;return function(t,e,n){for(var r,a,o=gt(t),i=j(o),s=L(e,n,3),l=z(i.length),c=0,u=d?m(t,l):p?m(t,0):void 0;c<l;c++)if((v||c in i)&&(a=s(r=i[c],c,o),f))if(d)u[c]=a;else if(a)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:u.push(r)}else if(g)return!1;return y?-1:h||g?g:u}},en=function(t,e){return!!t&&f(function(){e?t.call(null,function(){},1):t.call(null)})},nn=tn(1);R(R.P+R.F*!en([].map,!0),"Array",{map:function(t){return nn(this,t,arguments[1])}});var rn=Date.prototype.getTime,an=Date.prototype.toISOString,on=function(t){return 9<t?t:"0"+t},sn=f(function(){return"0385-07-25T07:06:39.999Z"!=an.call(new Date(-5e13-1))})||!f(function(){an.call(new Date(NaN))})?function(){if(!isFinite(rn.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":9999<e?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+on(t.getUTCMonth()+1)+"-"+on(t.getUTCDate())+"T"+on(t.getUTCHours())+":"+on(t.getUTCMinutes())+":"+on(t.getUTCSeconds())+"."+(99<n?n:"0"+on(n))+"Z"}:an;R(R.P+R.F*(Date.prototype.toISOString!==sn),"Date",{toISOString:sn});var ln=W(!1),cn=[].indexOf,un=!!cn&&1/[1].indexOf(1,-0)<0;R(R.P+R.F*(un||!en(cn)),"Array",{indexOf:function(t){return un?cn.apply(this,arguments)||0:ln(this,t,arguments[1])}});var fn=Object.getOwnPropertyDescriptor,dn={f:r?fn:function(t,e){if(t=E(t),e=v(e,!0),h)try{return fn(t,e)}catch(t){}if(F(t,e))return _(!Dt.f.call(t,e),t[e])}},pn=function(t,e){if(N(t),!p(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},hn={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=L(Function.call,dn.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return pn(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:pn}.set,gn=et.concat("length","prototype"),yn={f:Object.getOwnPropertyNames||function(t){return tt(t,gn)}},vn="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",mn="["+vn+"]",bn=RegExp("^"+mn+mn+"*"),xn=RegExp(mn+mn+"*$"),Nn=function(t,e,n){var r={},a=f(function(){return!!vn[t]()||"​"!="​"[t]()}),o=r[t]=a?e(_n):vn[t];n&&(r[n]=o),R(R.P+R.F*a,"String",r)},_n=Nn.trim=function(t,e){return t=String(P(t)),1&e&&(t=t.replace(bn,"")),2&e&&(t=t.replace(xn,"")),t},wn=Nn,Cn=yn.f,An=dn.f,Sn=b.f,Tn=wn.trim,On="Number",In=y[On],jn=In,Pn=In.prototype,En=I(ut(Pn))==On,Mn="trim"in String.prototype,Fn=function(t){var e=v(t,!1);if("string"==typeof e&&2<e.length){var n,r,a,o=(e=Mn?e.trim():Tn(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+e}for(var i,s=e.slice(2),l=0,c=s.length;l<c;l++)if((i=s.charCodeAt(l))<48||a<i)return NaN;return parseInt(s,r)}}return+e};if(!In(" 0o1")||!In("0b1")||In("+0x1")){In=function(t){var e,n,r,a,o=arguments.length<1?0:t,i=this;return i instanceof In&&(En?f(function(){Pn.valueOf.call(i)}):I(i)!=On)?(e=new jn(Fn(o)),n=In,(a=i.constructor)!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&p(r)&&hn&&hn(e,r),e):Fn(o)};for(var kn,Dn=r?Cn(jn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ln=0;Dn.length>Ln;Ln++)F(jn,kn=Dn[Ln])&&!F(In,kn)&&Sn(In,kn,An(jn,kn));(In.prototype=Pn).constructor=In,k(y,On,In)}var Yn,Bn,Rn=u("match"),Hn=function(s){return function(t,e){var n,r,a=String(P(t)),o=G(e),i=a.length;return o<0||i<=o?s?"":void 0:(n=a.charCodeAt(o))<55296||56319<n||o+1===i||(r=a.charCodeAt(o+1))<56320||57343<r?s?a.charAt(o):n:s?a.slice(o,o+2):r-56320+(n-55296<<10)+65536}},Vn=Hn(!0),Gn=RegExp.prototype.exec,Un=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==zt(t))throw new TypeError("RegExp#exec called on incompatible receiver");return Gn.call(t,e)},zn=RegExp.prototype.exec,Jn=String.prototype.replace,Qn=zn,Wn="lastIndex",$n=(Yn=/a/,Bn=/b*/g,zn.call(Yn,"a"),zn.call(Bn,"a"),0!==Yn[Wn]||0!==Bn[Wn]),Xn=void 0!==/()??/.exec("")[1];($n||Xn)&&(Qn=function(t){var e,n,r,a,o=this;return Xn&&(n=new RegExp("^"+o.source+"$(?!\\s)",function(){var t=N(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(o))),$n&&(e=o[Wn]),r=zn.call(o,t),$n&&r&&(o[Wn]=o.global?r.index+r[0].length:e),Xn&&r&&1<r.length&&Jn.call(r[0],n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),r});var Kn=Qn;R({target:"RegExp",proto:!0,forced:Kn!==/./.exec},{exec:Kn});var Zn=u("species"),qn=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),tr=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),er=Math.min,nr=[].push,rr="split",ar="length",or="lastIndex",ir=4294967295,sr=!f(function(){});!function(n,t,e){var r=u(n),o=!f(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),a=o?!f(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[Zn]=function(){return e}),e[r](""),!t}):void 0;if(!o||!a||"replace"===n&&!qn||"split"===n&&!tr){var i=/./[r],s=e(P,r,""[n],function(t,e,n,r,a){return e.exec===Kn?o&&!a?{done:!0,value:i.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),l=s[0],c=s[1];k(String.prototype,n,l),w(RegExp.prototype,r,2==t?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}}("split",2,function(a,o,m,b){var x;return x="c"=="abbc"[rr](/(b)*/)[1]||4!="test"[rr](/(?:)/,-1)[ar]||2!="ab"[rr](/(?:ab)*/)[ar]||4!="."[rr](/(.?)(.?)/)[ar]||1<"."[rr](/()()/)[ar]||""[rr](/.?/)[ar]?function(t,e){var n,r,a=String(this);if(void 0===t&&0===e)return[];if(!p(n=t)||(void 0!==(r=n[Rn])?!r:"RegExp"!=I(n)))return m.call(a,t,e);for(var o,i,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=void 0===e?ir:e>>>0,d=new RegExp(t.source,c+"g");(o=Kn.call(d,a))&&!(u<(i=d[or])&&(l.push(a.slice(u,o.index)),1<o[ar]&&o.index<a[ar]&&nr.apply(l,o.slice(1)),s=o[0][ar],u=i,l[ar]>=f));)d[or]===o.index&&d[or]++;return u===a[ar]?!s&&d.test("")||l.push(""):l.push(a.slice(u)),l[ar]>f?l.slice(0,f):l}:"0"[rr](void 0,0)[ar]?function(t,e){return void 0===t&&0===e?[]:m.call(this,t,e)}:m,[function(t,e){var n=a(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):x.call(String(n),t,e)},function(t,e){var n=b(x,t,this,e,x!==m);if(n.done)return n.value;var r=N(t),a=String(this),o=te(r,RegExp),i=r.unicode,s=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(sr?"y":"g"),l=new o(sr?r:"^(?:"+r.source+")",s),c=void 0===e?ir:e>>>0;if(0===c)return[];if(0===a.length)return null===Un(l,a)?[a]:[];for(var u,f,d=0,p=0,h=[];p<a.length;){l.lastIndex=sr?p:0;var g,y=Un(l,sr?a:a.slice(p));if(null===y||(g=er(z(l.lastIndex+(sr?0:p)),a.length))===d)u=a,p=(f=p)+(i?Vn(u,f).length:1);else{if(h.push(a.slice(d,p)),h.length===c)return h;for(var v=1;v<=y.length-1;v++)if(h.push(y[v]),h.length===c)return h;p=d=g}}return h.push(a.slice(d)),h}]});var lr,cr,ur,fr;lr="keys",cr=function(){return function(t){return nt(gt(t))}},ur=(g.Object||{})[lr]||Object[lr],(fr={})[lr]=cr(ur),R(R.S+R.F*f(function(){ur(1)}),"Object",fr);var dr=[].sort,pr=[1,2,3];R(R.P+R.F*(f(function(){pr.sort(void 0)})||!f(function(){pr.sort(null)})||!en(dr)),"Array",{sort:function(t){return void 0===t?dr.call(gt(this)):dr.call(gt(this),D(t))}});var hr=tn(2);R(R.P+R.F*!en([].filter,!0),"Array",{filter:function(t){return hr(this,t,arguments[1])}});var gr={alt:i18next.t("alt",{ns:"airPassengers"}),margin:{top:50,left:90,right:30,bottom:50},aspectRatio:16/11,filterData:function(t){var l=JSON.parse(JSON.stringify(t));l.push({date:new Date(l[l.length-1].date,0,10,0,0,0,0),domestic:l[l.length-1].domestic,international:l[l.length-1].international,transborder:l[l.length-1].transborder,total:l[l.length-1].total}),l.filter(function(t){parseFloat(t.domestic)&&parseFloat(t.transborder)&&parseFloat(t.international)?t.flag=0:parseFloat(t.domestic)||parseFloat(t.transborder)||parseFloat(t.international)?t.flag=1:parseFloat(t.domestic)||parseFloat(t.transborder)||parseFloat(t.international)||(t.flag=-999)});var c=0;return l.filter(function(t){if(t.isCopy=null,1===t.flag||-999===t.flag){var e=0<=c-1?c-1:0;if(1===t.flag&&0===l[e].flag){if(Number(l[e].total)!==Number(l[e].domestic)+Number(l[e].transborder)+Number(l[e].international)){var n=new Date(l[e].date,11,31,0,0,0,0);l.push({date:n,domestic:l[e].domestic,international:l[e].international,transborder:l[e].transborder,total:l[e].total,flag:l[e].flag,isCopy:!0})}}else if(1===t.flag||1===t.flag){var r=parseFloat(t.domestic)+parseFloat(l[e].domestic),a=parseFloat(t.transborder)+parseFloat(l[e].transborder),o=parseFloat(t.internationa)+parseFloat(l[e].international);if(!r&&!a&&!o){var i=new Date(l[e].date,11,31,0,0,0,0);l.push({date:i,domestic:l[e].domestic,international:l[e].international,transborder:l[e].transborder,total:l[e].total,flag:l[e].flag,isCopy:!0})}}else if(-999===t.flag&&-999!==l[e].flag){var s=new Date(l[e].date,11,31,0,0,0,0);l.push({date:s,domestic:l[e].domestic,international:l[e].international,transborder:l[e].transborder,total:l[e].total,flag:l[e].flag,isCopy:!0})}}c++}),l.sort(function(t,e){return new Date(t.date)-new Date(e.date)}),yr(l)},x:{getLabel:function(){return i18next.t("x_label",{ns:"airPassengers"})},getValue:function(t,e){return new Date(t.date)},getText:function(t){return t.date},ticks:7,tickSizeOuter:0},y:{label:i18next.t("y_label",{ns:"airPassengers"}),getLabel:function(){return i18next.t("y_label",{ns:"airPassengers"})},getValue:function(t,e){return"x"===t[e]||".."===t[e]?void 0:1*Number(t[e])/1e3},getTotal:function(t,e,n){var r,a,o=this;if(!t[o.y.totalProperty]){a=o.z.getKeys.call(o,n);for(var i=r=0;i<a.length;i++)r+=o.y.getValue.call(o,t,a[i],n);t[o.y.totalProperty]=r}return isNaN(Number(t[o.y.totalProperty]))?0:1*Number(t[o.y.totalProperty])/1e3},getText:function(t,e){return isNaN(Number(t[e]))?t[e]:1*Number(t[e])/1e3},ticks:5,tickSizeOuter:0},z:{label:i18next.t("z_label",{ns:"airPassengers"}),getId:function(t){if("flag"!==t.key&&"isCopy"!==t.key)return t.key},getKeys:function(t){var e=Object.keys(t[0]);return e.splice(e.indexOf("date"),1),-1!==e.indexOf("flag")&&e.splice(e.indexOf("flag"),1),-1!==e.indexOf("isCopy")&&e.splice(e.indexOf("isCopy"),1),-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),e},origData:function(t){return yr(t)},getClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.z.getId.apply(this,e)},getText:function(t){return i18next.t(t.key,{ns:"airPassengers"})}},datatable:!0,dataTableTotal:!0,areaTableID:"areaTable",transition:!0,width:1050},yr=function(t){for(var e=new Date("2010"),n=[],r=0;r<t.length;r++){e<=new Date(t[r].date)&&n.push(t[r])}return n},vr={margin:{top:50,left:90,right:30,bottom:50},aspectRatio:16/11,filterData:function(e){var n=0;return e.filter(function(t){t.isLast=n===e.length-1,n++}),mr(e)},x:{getLabel:function(){return i18next.t("x_label",{ns:"airMajorAirports"})},getValue:function(t,e){if(t.isLast){var n=new Date(t.date);return n.setDate(n.getDate()+10)}return new Date(t.date+"-01")},getText:function(t){return t.date},ticks:42},y:{label:i18next.t("y_label",{ns:"airMajorAirports"}),getLabel:function(){return i18next.t("y_label",{ns:"airMajorAirports"})},getValue:function(t,e){return"x"===t[e]||".."===t[e]?0:Number(t[e])},getTotal:function(t,e,n){var r,a,o=this;if(!t[o.y.totalProperty]){a=o.z.getKeys.call(o,n);for(var i=r=0;i<a.length;i++)r+=o.y.getValue.call(o,t,a[i],n);t[o.y.totalProperty]=r}return t[o.y.totalProperty]},getText:function(t,e){return isNaN(Number(t[e]))?t[e]:Number(t[e])},ticks:5,tickSizeOuter:0},z:{getId:function(t){if("isLast"!==t.key)return t.key},getKeys:function(t){var e=Object.keys(t[0]);return e.splice(e.indexOf("date"),1),-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),-1!==e.indexOf("isLast")&&e.splice(e.indexOf("isLast"),1),e},origData:function(t){var e=JSON.parse(JSON.stringify(t));return e.filter(function(t){t.date="".concat(i18next.t(t.date.substring(5,7),{ns:"modesMonth"})," ").concat(t.date.substring(0,4))}),e},getClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.z.getId.apply(this,e)},getText:function(t){return i18next.t(t.key,{ns:"airMajorAirports"})}},datatable:!0,dataTableTotal:!0,areaTableID:"areaTable",transition:!0,width:1050},mr=function(t){for(var e=new Date("2010"),n=[],r=0;r<t.length;r++){e<=new Date(t[r].date)&&n.push(t[r])}return n},br=Hn(!0);wt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=br(e,n),this._i+=t.length,{value:t,done:!1})});var xr=function(t,e,n){e in t?b.f(t,e,_(0,n)):t[e]=n};R(R.S+R.F*!Pe(function(t){}),"Array",{from:function(t){var e,n,r,a,o=gt(t),i="function"==typeof this?this:Array,s=arguments.length,l=1<s?arguments[1]:void 0,c=void 0!==l,u=0,f=Kt(o);if(c&&(l=L(l,2<s?arguments[2]:void 0,2)),null==f||i==Array&&$t(f))for(n=new i(e=z(o.length));u<e;u++)xr(n,u,c?l(o[u],u):o[u]);else for(a=f.call(o),n=new i;!(r=a.next()).done;u++)xr(n,u,c?Jt(a,l,[r.value,u],!0):r.value);return n.length=u,n}});var Nr=Yt(!1);R(R.S,"Object",{values:function(t){return Nr(t)}});var _r=[].slice,wr={},Cr=Function.bind||function(e){var n=D(this),r=_r.call(arguments,1),a=function(){var t=r.concat(_r.call(arguments));return this instanceof a?function(t,e,n){if(!(e in wr)){for(var r=[],a=0;a<e;a++)r[a]="a["+a+"]";wr[e]=Function("F,a","return new F("+r.join(",")+")")}return wr[e](t,n)}(n,t.length,t):ee(n,t,e)};return p(n.prototype)&&(a.prototype=n.prototype),a};R(R.P,"Function",{bind:Cr});var Ar=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.pNode=t||document.createElement("div"),this.options=e||{},this.nodes={},this.data=null,this.instanceNumber=++n.n,this.class=this.options.class||""}var t,e,r;return t=n,(e=[{key:"build",value:function(t){t&&(this.options=t),t.pNode&&(this.pNode=t.pNode),t.class&&(this.class=t.class),this.root=document.createElement("div"),this.root.setAttribute("class","copy-button button-"+this.instanceNumber+" "+this.class),this.pNode.appendChild(this.root),this.nodes.btnCopy=document.createElement("button"),this.nodes.btnCopy.setAttribute("type","button"),this.nodes.btnCopy.setAttribute("class","btn btn-primary copy button-"+this.instanceNumber+" "+this.class),this.nodes.btnCopy.setAttribute("title",this.options.title||""),this.root.appendChild(this.nodes.btnCopy);var e=document.createElement("span");e.setAttribute("class","fa fa-clipboard clipboard button-"+this.instanceNumber+" "+this.class),this.nodes.btnCopy.appendChild(e);var n=document.createElement("span");n.setAttribute("class","wb-inv button-"+this.instanceNumber+" "+this.class),n.innerHTML=this.options.accessibility||"",this.nodes.btnCopy.appendChild(n),this.nodes.msgCopyConfirm=document.createElement("div"),this.nodes.msgCopyConfirm.setAttribute("class","copy-confirm button-"+this.instanceNumber+" "+this.class),this.nodes.msgCopyConfirm.setAttribute("aria-live","polite"),this.nodes.msgCopyConfirm.innerHTML=this.options.msgCopyConfirm||"",this.root.appendChild(this.nodes.msgCopyConfirm),this.nodes.btnCopy.addEventListener("click",this.onBtnClick.bind(this))}},{key:"onBtnClick",value:function(t){this.copyData(this.data)}},{key:"copyData",value:function(t){var e=t||[];this.clipboard(this.toCSV("\t",e),this.root),this.fade(this.nodes.msgCopyConfirm,!0),setTimeout(function(t){this.fade(this.nodes.msgCopyConfirm,!1)}.bind(this),1500)}},{key:"toCSV",value:function(e,t){return t.map(function(t){return t.join(e)}).join("\r\n")}},{key:"clipboard",value:function(t,e){if(this.isIE())window.clipboardData.setData("Text",t);else{var n=document.createElement("textarea");n.textContent=t,e.appendChild(n),n.select(),document.execCommand("copy"),e.removeChild(n)}}},{key:"fade",value:function(t,e){var n=["copy-confirm button-"+this.instanceNumber+" "+this.class],r=e?"fadeIn":"fadeOut";n.push(r),t.setAttribute("class",n.join(" "))}},{key:"appendTo",value:function(t){this.pNode=t,this.pNode.appendChild(this.root),this.nodes.msgCopyConfirm.setAttribute("class","copy-confirm button-"+this.instanceNumber+" "+this.class)}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return 0<r&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}}])&&a(t.prototype,e),r&&a(t,r),n}();Ar.n=0;var Sr,Tr,Or,Ir,jr,Pr,Er,Mr,Fr,kr,Dr,Lr=new Ar,Yr=d3.format(",d"),Br={passengers:{},major_airports:{}},Rr=[{fullName:"Canada",code:"CANADA",type:"geo"},{fullName:"Newfoundland and Labrador",code:"NL",type:"geo"},{fullName:"St John's International",code:"YYT",type:"airport"},{fullName:"Prince Edward Island",code:"PE",type:"geo"},{fullName:"Nova Scotia",code:"NS",data:"no",type:"geo"},{fullName:"Halifax/Robert L. Stanfield International",code:"YHZ",type:"airport"},{fullName:"New Brunswick",code:"NB",data:"no",type:"geo"},{fullName:"Moncton/Greater Moncton International",code:"YQM",type:"airport"},{fullName:"Quebec",code:"QC",type:"geo"},{fullName:"Montréal/Pierre Elliott Trudeau International",code:"YUL",type:"airport"},{fullName:"Québec/Jean Lesage International",code:"YQB",type:"airport"},{fullName:"Ontario",code:"ON",type:"geo"},{fullName:"Ottawa/Macdonald-Cartier International",code:"YOW",type:"airport"},{fullName:"Toronto/Lester B Pearson International",code:"YYZ",type:"airport"},{fullName:"Manitoba",code:"MB",type:"geo"},{fullName:"Winnipeg/James Armstrong Richardson International",code:"YWG",type:"airport"},{fullName:"Saskatchewan",code:"SK",type:"geo"},{fullName:"Alberta",code:"AB",type:"geo"},{fullName:"Calgary International",code:"YYC",type:"airport"},{fullName:"Edmonton International",code:"YEG",type:"airport"},{fullName:"British Columbia",code:"BC",type:"geo"},{fullName:"Vancouver International",code:"YVR",type:"airport"},{fullName:"Victoria International",code:"YYJ",type:"airport"},{fullName:"Yukon",code:"YT",data:"no",type:"geo"},{fullName:"Northwest Territories",code:"NT",type:"geo"},{fullName:"Nunavut",code:"NU",type:"geo"}],Hr=[{fullName:"Canada",code:"CANADA",type:"geo"},{fullName:"Newfoundland and Labrador",code:"NL",type:"geo"},{fullName:"St John's International",code:"YYT",type:"airport"},{fullName:"Prince Edward Island",code:"PE",type:"geo"},{fullName:"Charlottetown",code:"YYG",type:"airport"},{fullName:"Nova Scotia",code:"NS",type:"geo"},{fullName:"Halifax/Robert L. Stanfield International",code:"YHZ",type:"airport"},{fullName:"New Brunswick",code:"NB",type:"geo"},{fullName:"Moncton/Greater Moncton International",code:"YQM",type:"airport"},{fullName:"Fredericton International",code:"YFC",type:"airport"},{fullName:"Saint John",code:"YSJ",type:"airport"},{fullName:"Quebec",code:"QC",type:"geo"},{fullName:"Montréal/Pierre Elliott Trudeau International",code:"YUL",type:"airport"},{fullName:"Québec/Jean Lesage International",code:"YQB",type:"airport"},{fullName:"Montréal Mirabel International",code:"YMX",type:"airport"},{fullName:"Ontario",code:"ON",type:"geo"},{fullName:"Ottawa/Macdonald-Cartier International",code:"YOW",type:"airport"},{fullName:"Toronto/Lester B Pearson International",code:"YYZ",type:"airport"},{fullName:"Thunder Bay International",code:"YQT",type:"airport"},{fullName:"London International",code:"YXU",type:"airport"},{fullName:"Manitoba",code:"MB",type:"geo"},{fullName:"Winnipeg/James Armstrong Richardson International",code:"YWG",type:"airport"},{fullName:"Saskatchewan",code:"SK",type:"geo"},{fullName:"Regina International",code:"YQR",type:"airport"},{fullName:"Saskatoon John G. Diefenbaker International",code:"YXE",type:"airport"},{fullName:"Alberta",code:"AB",type:"geo"},{fullName:"Calgary International",code:"YYC",type:"airport"},{fullName:"Edmonton International",code:"YEG",type:"airport"},{fullName:"British Columbia",code:"BC",type:"geo"},{fullName:"Vancouver International",code:"YVR",type:"airport"},{fullName:"Victoria International",code:"YYJ",type:"airport"},{fullName:"Kelowna International",code:"YLW",type:"airport"},{fullName:"Prince George Airport",code:"YXS",type:"airport"},{fullName:"Yukon",code:"YT",type:"geo"},{fullName:"Erik Nielsen Whitehorse International",code:"YXY",type:"airport"},{fullName:"Northwest Territories",code:"NT",type:"geo"},{fullName:"Yellowknife",code:"YZF",type:"airport"},{fullName:"Nunavut",code:"NU",type:"geo"},{fullName:"Iqaluit",code:"YFB",type:"airport"}],Vr=Rr,Gr="passengers",Ur="2017",zr="01",Jr=Ur,Qr="CANADA",Wr=gr,$r=1e3,Xr={},Kr={},Zr={},qr={},ta={},ea=qr,na=d3.select(".dashboard .map").append("svg"),ra=d3.select("#major"),aa=d3.select("#movements"),oa=d3.select("#months"),ia=570-20-0,sa=150-0-10,la=d3.select("#mapColourScale").select("svg").attr("class","airCB").attr("width",ia).attr("height",sa).style("vertical-align","middle"),ca=d3.select(".data").append("svg").attr("id","svg_areaChartAir"),ua=d3.select("#areaLegend").select("svg").attr("class","airAreaCB").attr("width",650).attr("height",sa).style("vertical-align","middle");d3.stcExt.addIEShim(na,387.1,457.5),d3.stcExt.addIEShim(la,sa,ia),d3.stcExt.addIEShim(ua,sa,650);var fa,da,pa=d3.select("body").append("div").attr("class","tooltip").style("opacity",0),ha=d3.select("body").append("div").attr("class","tooltip").style("pointer-events","none").style("opacity",0),ga=ca.append("line").attr("class","hoverLine").style("display","none");function ya(){d3.select("#svg_areaChartAir .data").on("mousemove",function(){var t,e,n,r,a,o,i,s=d3.mouse(this)[0];t=s,n=d3.bisector(function(t){return t.date}).left,r=kr.x.invert(t),a=Br[Gr][Qr],o=a[(e=n(a,"passenger"===Gr?r.toISOString().substring(0,4):r.toISOString().substring(0,7)))-1],i=a[e],Fr=o&&i?r-new Date(o.date)>new Date(i.date)-r?i:o:o||i;var l=Number(Fr.domestic)?Yr(Fr.domestic/$r):Fr.domestic,c=Number(Fr.transborder)?Yr(Fr.transborder/$r):Fr.transborder,u=Number(Fr.international)?Yr(Fr.international/$r):Fr.international,f="passengers"===Gr?"".concat(i18next.t("chartHoverPassengers",{ns:"airPassengers"}),", ").concat(Fr.date,": "):"".concat(i18next.t("chartHoverMajorAirports",{ns:"airMajorAirports"}),", ","".concat(i18next.t(Fr.date.substring(5,7),{ns:"modesMonth"})," ").concat(Fr.date.substring(0,4)),": ");ha.html("<b>"+f+"</b><br><br><table><tr><td><b>"+i18next.t("domestic",{ns:"airPassengers"})+"</b>: "+l+"</td></tr><tr><td><b>"+i18next.t("transborder",{ns:"airPassengers"})+"</b>: "+c+"</td></tr><tr><td><b>"+i18next.t("international",{ns:"airPassengers"})+"</b>: "+u+"</td></tr></table>"),ha.style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY+10+"px").style("pointer-events","none")}).on("mouseover",function(){ha.style("opacity",.9)}).on("mouseout",function(t,e){ga.style("display","none"),ha.style("opacity",0)})}$(".data_set_selector").on("click",function(t){va(),d3.select(".map").selectAll("path").classed("airMapHighlight",!1),Ur="2017",Qr="CANADA",d3.select("#groups")._groups[0][0].value=Qr,d3.select("#yearSelector")._groups[0][0].value=Ur,$r="movements"===t.target.id?1e3:1,"major"===t.target.id&&(zr="01",ra.attr("class","btn btn-primary major data_set_selector").attr("aria-pressed",!0),aa.attr("class","btn btn-default movements data_set_selector").attr("aria-pressed",!1),oa.style("visibility","visible"),Jr=Ur+"-"+zr,Gr="major_airports",Vr=Hr,Wr=vr,Zr=Xr,Mr=Er,ea=ta,_a(),Sr=Or,xa(),ba(),ma()),"movements"===t.target.id&&(ra.attr("class","btn btn-default major data_set_selector").attr("aria-pressed",!1),aa.attr("class","btn btn-primary movements data_set_selector").attr("aria-pressed",!0),oa.style("visibility","hidden"),Jr=Ur,Gr="passengers",Vr=Rr,Wr=gr,Zr=Kr,Mr=Pr,ea=qr,_a(),Sr=Tr,xa(),ba(),ma())}),na.on("mousemove",function(){if(d3.select(d3.event.target).attr("class")){var t=(d3.select(d3.event.target).attr("class")||"").split(" ");if("svg-shimmed"!==t[0]){var e=i18next.t(t[0],{ns:"airGeography"});if("airport"!==e){d3.select(".dashboard .map").select("."+t[0]).classed("airMapHighlight",!0).moveToFront();var n,r,a="passengers"===Gr?"".concat(e," (").concat(i18next.t("scalef",{ns:"airPassengers"}),")"):"".concat(e);r=Number(Sr[Jr][t[0]])?(n=Yr(Sr[Jr][t[0]]/$r),"passengers"===Gr?"".concat(n," ").concat(i18next.t("units",{ns:"airPassengers"})):"".concat(n," ").concat(i18next.t("units",{ns:"airMajorAirports"}))):(n=Sr[Jr][t[0]],"".concat(n)),pa.style("opacity",.9),pa.html("<b>"+a+"</b><br><br><table><tr><td><b>"+r+"</td></tr></table>").style("pointer-events","none"),pa.style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY+10+"px")}}}}),na.on("mouseout",function(){pa.style("opacity",0),Qr?d3.select(".map").selectAll("path:not(."+Qr+")").classed("airMapHighlight",!1):d3.select(".map").selectAll("path").classed("airMapHighlight",!1)}),na.on("click",function(){if(d3.select(d3.event.target).attr("class")&&"svg-shimmed"!==d3.select(d3.event.target).attr("class")){if(d3.select(d3.event.target).attr("class")&&-1===d3.select(d3.event.target).attr("class").indexOf("classNaN")&&(d3.select(".map").selectAll("path").classed("airMapHighlight",!1),d3.select(d3.event.target).attr("class")&&-1===d3.select(d3.event.target).attr("class").indexOf("svg-shimmed"))){var t=(d3.select(d3.event.target).attr("class")||"").split(" ");if("airport"!==t[0]){if(Qr=t[0],d3.select(".dashboard .map").select("."+t[0]).classed("airMapHighlight",!0),xa(),d3.select("#groups")._groups[0][0].value=Qr,"airport"!==t[0]){if("zoomed"===t[1]||0===t.length)return Dr.pointRadius(function(t,e){return 1.3}),Ir.zoom();Dr.pointRadius(function(t,e){return.9}),Ir.zoom(t[0])}Aa()}}}else va()});var va=function(){if(d3.select(".map").selectAll("path").classed("airMapHighlight",!1),Dr.pointRadius(function(t,e){return 1.3}),Qr="CANADA",xa(),d3.select("#groups")._groups[0][0].value=Qr,Aa(),d3.select("."+Qr+".zoomed"))return Ir.zoom()},ma=function(){d3.selectAll(".airport").remove(),Dr=d3.geoPath().projection(Ir.settings.projection).pointRadius(1.3),fa.selectAll("path").data(da.features).enter().append("path").attr("d",Dr).attr("id",function(t,e){return"airport"+t.properties.id}).attr("class",function(t,e){return Mr[Jr][t.properties.id]?"airport "+Gr+" "+Mr[Jr][t.properties.id]:"airport "+Gr+" dontShow"}).on("mouseover",function(t){jr=t.properties.id,"noData"!==Mr[Jr][t.properties.id]&&wa()}),d3.selectAll(".noData").moveToBack(),d3.selectAll(".noData").moveToBack()};function ba(){var t=[];"passengers"===Gr?t.push("#AFE2FF","#72C2FF","#bc9dff","#894FFF","#5D0FBC","#fff","#565656"):t.push("#AFE2FF","#72C2FF","#bc9dff","#894FFF","#5D0FBC");var e=[];e.push(Sr[Jr]);var n=function(t,e,n){var r,a=e.slice(-1)[0],o=t[0],i=[];(i=Object.values(o)).sort(function(t,e){return t-e}),r=d3.extent(i);var s=d3.scaleQuantize().domain([r[0],r[1]]).range(e.slice(0,n)),l=function(t){o.hasOwnProperty(t)&&d3.select(".dashboard .map").select("."+t).style("fill",function(){return Number(o[t])?s(o[t]):a}).classed("classNaN",function(){if(!Number(o[t]))return!0})};for(var c in o)l(c);return r}(e,t,5),r=i18next.t("mapScaleLabel",{ns:"airPassengers"});!function(t,n,e,r,a){var o=d3.format(",d"),i=(e[1]-e[0])/r,s=[];s[0]=e[0];for(var l=1;l<r;l++)s.push(Math.round(l*i+e[0]));var c=function(t,e){return n[e]},u=function(t,e){return t<r?o(s[e]/a)+"+":t===r+1?"x":void 0},f=d3.select("body").append("div").attr("class","tooltip").style("opacity",0),d=t.attr("class","mapCB").selectAll(".legend").data(Array.from(Array(n.length).keys())),p=d.enter().append("g").attr("class","legend").attr("id",function(t,e){return"cb".concat(e)});p.append("rect").attr("width",35).attr("height",35).attr("y",20).attr("x",function(t,e){return 160+35*e}).attr("fill",c).attr("class",function(t,e){if(e===r+1)return"classNaN"}),p.selectAll(".legend rect").on("mouseover",function(t,e){if("classNaN"===d3.select(this).attr("class")){var n=i18next.t("NaNhover1",{ns:"airUI"}),r=i18next.t("NaNhover2",{ns:"airUI"});f.style("opacity",.9).html("<br>"+n+"<br>"+r+"<br><br>").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY+10+"px")}}).on("mouseout",function(){f.style("opacity",0)}),p.append("text").text(u).attr("text-anchor","end").attr("transform",function(t,e){return e<r?"translate(".concat(165+35*e,", ").concat(65,") rotate(-45)"):e===r+1?"translate(".concat(181+35*e,", ").concat(72,") "):void 0}).style("display",function(){return"inline"}),d.select("rect").attr("fill",c),d.select("text").text(u),d.exit().remove()}(la,t,n,5,$r);var a=d3.select("#mapColourScale").append("div").attr("class","airmapCBlabel");""===d3.select(".airmapCBlabel").text()&&a.append("text").text(r),fa=na.append("g")}function xa(){Aa();var e=function(){kr=areaChart(ca,Wr,Br[Gr][Qr]),d3.selectAll(".flag").style("opacity",0),d3.select("#svg_areaChartAir").select(".x.axis").selectAll(".tick text").attr("dy","0.85em"),"major_airports"===Gr&&d3.select("#svg_areaChartAir .x.axis").selectAll("g.tick").each(function(t,e){0!==t.getMonth()?d3.select(this).attr("class","tick notJan"):d3.select(this).attr("class","tick Jan")}),d3.select(".dashboard .map").select("."+Qr).classed("airMapHighlight",!0),Lr.pNode&&Lr.appendTo(document.getElementById("copy-button-container")),function(t){var e=[],n=i18next.t(Qr,{ns:"airGeography"}),r=[i18next.t("tableTitle",{ns:"airMajorAirports",geo:n})],a=[""];for(var o in t[0])"date"!=o&&a.push(i18next.t(o,{ns:"airPassengers"}));for(var i in e.push(r,[],a),t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=[];for(var l in t[i])if(Object.prototype.hasOwnProperty.call(t[i],l)){var c=t[i][l];"date"==l||"total"==l||isNaN(c)||(c/=1e3),s.push(c)}e.push(s)}Lr.data=e}(Br[Gr][Qr]),ya(),Sa()};Br[Gr][Qr]?e():Na(Qr).then(function(t){Br[Gr][Qr]=t.map(function(t){var e={};return e.date=t.date,e.domestic=t.domestic,e.transborder=t.transborder,e.international=t.international,e.total=t.total,e}),e()}).catch(function(t){console.log("File does not exist",t)})}function Na(t){return new Promise(function(n,r){d3.json("data/air/".concat(Gr,"/").concat(t,".json"),function(t,e){t?r(t):n(e)})})}function _a(){var t=$("#groups"),e=$("#yearSelector");t.empty(),e.empty();for(var n=Number(Zr.min.substring(0,4));n<=Number(Zr.max.substring(0,4));n++)e.append($("<option></option>").attr("value",n).html(n));if(d3.select("#yearSelector")._groups[0][0].value=Ur,"major_airports"==Gr){var r=Number(Zr.max.substring(5,7)),a=Number(Zr.max.substring(0,4));if(Number(Ur)===a)$("#monthSelector > option").each(function(){Number(this.value)>r&&(this.disabled=!0)});else{d3.selectAll("#monthSelector > option").property("disabled",!1);var o=Number(d3.select("#monthSelector")._groups[0][0].value);r<o&&$("#yearSelector > option").each(function(){Number(this.value)===a&&(this.disabled=!0)})}}for(var i,s=0;s<Vr.length;s++){var l=Vr[s];i="airport"===l.type?"&numsp;&numsp;&numsp;":"",l.data&&"no"===l.data?t.append($("<option disabled></option>").attr("value",l.code).html(i+l.fullName)):t.append($("<option></option>").attr("value",l.code).html(i+l.fullName))}}var wa=function(){ea[jr]?Ca():Na(jr).then(function(t){ea[jr]=t,Ca()})};function Ca(){var t=function(t){for(var e in t)if(t[e].date===Jr)return t[e]}(ea[jr]);if(pa.style("opacity",.9),"passengers"===Gr)pa.html("<b>"+i18next.t(jr,{ns:"airports"})+", "+t.date+":</b><br><br><table><tr><td><b>"+i18next.t("enplaned",{ns:"airPassengers"})+": </b>"+"".concat(Yr(t.enplaned)," ").concat(i18next.t("units",{ns:"airPassengers"}))+" </td></tr><td><b>"+i18next.t("deplaned",{ns:"airPassengers"})+": </b>"+"".concat(Yr(t.deplaned)," ").concat(i18next.t("units",{ns:"airPassengers"}))+"</td></tr></table>").style("pointer-events","none");else{var e=t.domestic,n=t.transborder,r=t.international,a="".concat(i18next.t(t.date.substring(5,7),{ns:"modesMonth"})," ").concat(t.date.substring(0,4));pa.html("<b>Passenger movements ("+i18next.t("units",{ns:"airPassengers"})+") in "+a+":</b><br><br><table><tr><td><b>"+i18next.t("domestic",{ns:"airPassengers"})+"</b>: "+e+"</td></tr><tr><td><b>"+i18next.t("transborder",{ns:"airPassengers"})+"</b>: "+n+"</td></tr><tr><td><b>"+i18next.t("international",{ns:"airPassengers"})+"</b>: "+r+"</td></tr></table>").style("pointer-events","none")}d3.select("#svg_aptChart").select(".areaChartTitle").text(i18next.t(jr,{ns:"airports"}))}function Aa(){var t=i18next.t(Qr,{ns:"airGeography"}),e="passengers"===Gr?"".concat(i18next.t("mapTitle",{ns:"airPassengers"}),", ").concat(Jr):"".concat(i18next.t("mapTitle",{ns:"airMajorAirports"}),", ").concat(i18next.t(zr,{ns:"modesMonth"})," ").concat(Ur),n="passengers"===Gr?"".concat(i18next.t("chartTitle",{ns:"airPassengers"}),", ").concat(t):"".concat(i18next.t("chartTitle",{ns:"airMajorAirports"}),", ").concat(t),r="passengers"===Gr?"".concat(i18next.t("tableTitle",{ns:"airPassengers"}),", ").concat(t):"".concat(i18next.t("tableTitle",{ns:"airMajorAirports"}),", ").concat(t);d3.select("#mapTitleAir").text(e),d3.select("#areaTitleAir").text(n),Wr.tableTitle=r}function Sa(){var n,t,r=["domestic","transborder","international"];n=r,(t=ua.selectAll("rect").data(n).enter().append("g")).append("rect").attr("width",15).attr("height",15).attr("y",25).attr("x",function(t,e){return 50+15*e*9.5}).attr("class",function(t,e){return n[e]}),t.append("text"),d3.select("#areaLegend").selectAll("text").attr("y",38).attr("x",function(t,e){return 50+15*e*9.5+20}).style("display",function(){return"inline"}),d3.select("#areaLegend").selectAll("text").text(function(t,e){return i18next.t(r[e],{ns:"airPassengers"})})}i18n.load(["src/i18n"],function(){gr.x.label=i18next.t("x_label",{ns:"airPassengers"}),gr.y.label=i18next.t("y_label",{ns:"airPassengers"}),vr.x.label=i18next.t("x_label",{ns:"airMajorAirports"}),vr.y.label=i18next.t("y_label",{ns:"airMajorAirports"}),d3.queue().defer(d3.json,"data/air/passengers/Annual_Totals.json").defer(d3.json,"data/air/passengers/metaData.json").defer(d3.json,"data/air/major_airports/Annual_Totals.json").defer(d3.json,"data/air/major_airports/metaData.json").defer(d3.json,"geojson/vennAirport_with_dataFlag.geojson").defer(d3.json,"data/air/passengers/".concat(Qr,".json")).await(function(t,e,n,r,a,o,i){if(t)throw t;Tr=Sr=e,Or=r,Er=a,Mr=Pr=n,Br[Gr][Qr]=i,Jr=document.getElementById("yearSelector").value,zr=document.getElementById("monthSelector").value,function(){for(var t=Object.entries(Or),e=0;e<t.length;e++){var n=l(t[e],1)[0];(!Xr.min||new Date(n)<new Date(Xr.min))&&(Xr.min=n),(!Xr.max||new Date(n)>new Date(Xr.max))&&(Xr.max=n)}for(var r=Object.entries(Tr),a=0;a<r.length;a++)n=l(r[a],1)[0],(!Kr.min||new Date(n)<new Date(Kr.min))&&(Kr.min=n),(!Kr.max||new Date(n)>new Date(Kr.max))&&(Kr.max=n)}(),Zr=Kr,_a(),Ir=getCanadaMap(na).on("loaded",function(){da=o,ba(),fa.selectAll("path").on("mouseover",function(t){jr=t.properties.id,"noYears"!==t.properties.hasPlanedData&&wa()}),na.style("visibility","visible"),d3.select(".canada-map"),ma()});var s={pNode:document.getElementById("copy-button-container"),title:i18next.t("CopyButton_Title",{ns:"CopyButton"}),msgCopyConfirm:i18next.t("CopyButton_Confirm",{ns:"CopyButton"}),accessibility:i18next.t("CopyButton_Title",{ns:"CopyButton"})};Lr.build(s),xa(),Sa(),ya(),d3.select("#svg_areaChartAir .data").append("rect").style("fill","none").style("pointer-events","all").attr("class","overlay").on("mouseout",function(){ga.style("display","none")}).on("mousemove",function(){ga.style("display",null),ga.style("transform","translate("+kr.x(Fr?new Date(Fr.date):0)+"px)"),ga.moveToFront()}).attr("width",kr.settings.innerWidth).attr("height",kr.settings.innerHeight),ga.attr("x1",kr.settings.margin.left).attr("x2",kr.settings.margin.left).attr("y1",kr.settings.margin.top).attr("y2",kr.settings.innerHeight+kr.settings.margin.top),Aa()})}),$(document).on("change",function(t){"groups"===t.target.id&&(d3.select(".map").selectAll("path").classed("airMapHighlight",!1),Qr=document.getElementById("groups").value,xa()),"yearSelector"===t.target.id&&(Ur=document.getElementById("yearSelector").value,Jr="major_airports"===Gr?Ur+"-"+zr:Ur,ba(),ma(),Aa()),"monthSelector"===t.target.id&&(zr=document.getElementById("monthSelector").value,Jr=Ur+"-"+zr,ba(),ma(),Aa())}),d3.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})},d3.selection.prototype.moveToBack=function(){return this.each(function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)})}}();