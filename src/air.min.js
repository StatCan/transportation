!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var h=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),g=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),o=(g.version,t(function(t){var e="__core-js_shared__",n=h[e]||(h[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:g.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),e=0,n=Math.random(),c=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))},r=t(function(t){var e=o("wks"),n=h.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:c)("Symbol."+t))}).store=e}),i={f:r},s=function(t){return"object"==typeof t?null!==t:"function"==typeof t},a=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t},f=function(t){try{return!!t()}catch(t){return!0}},u=!f(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),l=h.document,p=s(l)&&s(l.createElement),y=function(t){return p?l.createElement(t):{}},d=!u&&!f(function(){return 7!=Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a}),v=function(t,e){if(!s(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!s(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!s(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!s(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},b=Object.defineProperty,m={f:u?Object.defineProperty:function(t,e,n){if(a(t),e=v(e,!0),a(n),d)try{return b(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},O=m.f,S=function(t){var e=g.Symbol||(g.Symbol=h.Symbol||{});"_"==t.charAt(0)||t in e||O(e,t,{value:i.f(t)})};S("asyncIterator");var x={}.hasOwnProperty,_=function(t,e){return x.call(t,e)},w=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},j=u?function(t,e,n){return m.f(t,e,w(1,n))}:function(t,e,n){return t[e]=n,t},E=t(function(t){var i=c("src"),e="toString",n=Function[e],a=(""+n).split(e);g.inspectSource=function(t){return n.call(t)},(t.exports=function(t,e,n,r){var o="function"==typeof n;o&&(_(n,"name")||j(n,"name",e)),t[e]!==n&&(o&&(_(n,i)||j(n,i,t[e]?""+t[e]:a.join(String(e)))),t===h?t[e]=n:r?t[e]?t[e]=n:j(t,e,n):(delete t[e],j(t,e,n)))})(Function.prototype,e,function(){return"function"==typeof this&&this[i]||n.call(this)})}),P=function(r,o,t){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},A="prototype",T=function(t,e,n){var r,o,i,a,u=t&T.F,c=t&T.G,s=t&T.S,f=t&T.P,l=t&T.B,p=c?h:s?h[e]||(h[e]={}):(h[e]||{})[A],y=c?g:g[e]||(g[e]={}),d=y[A]||(y[A]={});for(r in c&&(n=e),n)i=((o=!u&&p&&void 0!==p[r])?p:n)[r],a=l&&o?P(i,h):f&&"function"==typeof i?P(Function.call,i):i,p&&E(p,r,i,t&T.U),y[r]!=i&&j(y,r,a),f&&d[r]!=i&&(d[r]=i)};h.core=g,T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128;var k=T,N=t(function(t){var n=c("meta"),e=m.f,r=0,o=Object.isExtensible||function(){return!0},i=!f(function(){return o(Object.preventExtensions({}))}),a=function(t){e(t,n,{value:{i:"O"+ ++r,w:{}}})},u=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!_(t,n)){if(!o(t))return"F";if(!e)return"E";a(t)}return t[n].i},getWeak:function(t,e){if(!_(t,n)){if(!o(t))return!0;if(!e)return!1;a(t)}return t[n].w},onFreeze:function(t){return i&&u.NEED&&o(t)&&!_(t,n)&&a(t),t}}}),I=(N.KEY,N.NEED,N.fastKey,N.getWeak,N.onFreeze,m.f),L=r("toStringTag"),C=function(t,e,n){t&&!_(t=n?t:t.prototype,L)&&I(t,L,{configurable:!0,value:e})},F={}.toString,M=function(t){return F.call(t).slice(8,-1)},D=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==M(t)?t.split(""):Object(t)},R=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},V=function(t){return D(R(t))},z=Math.ceil,G=Math.floor,B=function(t){return isNaN(t=+t)?0:(0<t?G:z)(t)},K=Math.min,W=Math.max,Y=Math.min,H=function(f){return function(t,e,n){var r,o,i,a,u=V(t),c=0<(r=u.length)?K(B(r),9007199254740991):0,s=(i=c,(o=B(o=n))<0?W(o+i,0):Y(o,i));if(f&&e!=e){for(;s<c;)if((a=u[s++])!=a)return!0}else for(;s<c;s++)if((f||s in u)&&u[s]===e)return f||s||0;return!f&&-1}},J=o("keys"),U=function(t){return J[t]||(J[t]=c(t))},q=H(!1),Q=U("IE_PROTO"),X=function(t,e){var n,r=V(t),o=0,i=[];for(n in r)n!=Q&&_(r,n)&&i.push(n);for(;e.length>o;)_(r,n=e[o++])&&(~q(i,n)||i.push(n));return i},Z="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),tt=Object.keys||function(t){return X(t,Z)},et={f:Object.getOwnPropertySymbols},nt={f:{}.propertyIsEnumerable},rt=Array.isArray||function(t){return"Array"==M(t)},ot=u?Object.defineProperties:function(t,e){a(t);for(var n,r=tt(e),o=r.length,i=0;i<o;)m.f(t,n=r[i++],e[n]);return t},it=h.document,at=it&&it.documentElement,ut=U("IE_PROTO"),ct=function(){},st="prototype",ft=function(){var t,e=y("iframe"),n=Z.length;for(e.style.display="none",at.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ft=t.F;n--;)delete ft[st][Z[n]];return ft()},lt=Object.create||function(t,e){var n;return null!==t?(ct[st]=a(t),n=new ct,ct[st]=null,n[ut]=t):n=ft(),void 0===e?n:ot(n,e)},pt=Z.concat("length","prototype"),yt={f:Object.getOwnPropertyNames||function(t){return X(t,pt)}},dt=yt.f,ht={}.toString,gt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vt={f:function(t){return gt&&"[object Window]"==ht.call(t)?function(t){try{return dt(t)}catch(t){return gt.slice()}}(t):dt(V(t))}},bt=Object.getOwnPropertyDescriptor,mt={f:u?bt:function(t,e){if(t=V(t),e=v(e,!0),d)try{return bt(t,e)}catch(t){}if(_(t,e))return w(!nt.f.call(t,e),t[e])}},Ot=N.KEY,St=mt.f,xt=m.f,_t=vt.f,wt=h.Symbol,jt=h.JSON,Et=jt&&jt.stringify,Pt="prototype",At=r("_hidden"),Tt=r("toPrimitive"),kt={}.propertyIsEnumerable,Nt=o("symbol-registry"),It=o("symbols"),Lt=o("op-symbols"),Ct=Object[Pt],Ft="function"==typeof wt,Mt=h.QObject,Dt=!Mt||!Mt[Pt]||!Mt[Pt].findChild,Rt=u&&f(function(){return 7!=lt(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=St(Ct,e);r&&delete Ct[e],xt(t,e,n),r&&t!==Ct&&xt(Ct,e,r)}:xt,Vt=function(t){var e=It[t]=lt(wt[Pt]);return e._k=t,e},zt=Ft&&"symbol"==typeof wt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof wt},Gt=function(t,e,n){return t===Ct&&Gt(Lt,e,n),a(t),e=v(e,!0),a(n),_(It,e)?(n.enumerable?(_(t,At)&&t[At][e]&&(t[At][e]=!1),n=lt(n,{enumerable:w(0,!1)})):(_(t,At)||xt(t,At,w(1,{})),t[At][e]=!0),Rt(t,e,n)):xt(t,e,n)},Bt=function(t,e){a(t);for(var n,r=function(t){var e=tt(t),n=et.f;if(n)for(var r,o=n(t),i=nt.f,a=0;o.length>a;)i.call(t,r=o[a++])&&e.push(r);return e}(e=V(e)),o=0,i=r.length;o<i;)Gt(t,n=r[o++],e[n]);return t},Kt=function(t){var e=kt.call(this,t=v(t,!0));return!(this===Ct&&_(It,t)&&!_(Lt,t))&&(!(e||!_(this,t)||!_(It,t)||_(this,At)&&this[At][t])||e)},Wt=function(t,e){if(t=V(t),e=v(e,!0),t!==Ct||!_(It,e)||_(Lt,e)){var n=St(t,e);return!n||!_(It,e)||_(t,At)&&t[At][e]||(n.enumerable=!0),n}},Yt=function(t){for(var e,n=_t(V(t)),r=[],o=0;n.length>o;)_(It,e=n[o++])||e==At||e==Ot||r.push(e);return r},Ht=function(t){for(var e,n=t===Ct,r=_t(n?Lt:V(t)),o=[],i=0;r.length>i;)!_(It,e=r[i++])||n&&!_(Ct,e)||o.push(It[e]);return o};Ft||(E((wt=function(){if(this instanceof wt)throw TypeError("Symbol is not a constructor!");var e=c(0<arguments.length?arguments[0]:void 0),n=function(t){this===Ct&&n.call(Lt,t),_(this,At)&&_(this[At],e)&&(this[At][e]=!1),Rt(this,e,w(1,t))};return u&&Dt&&Rt(Ct,e,{configurable:!0,set:n}),Vt(e)})[Pt],"toString",function(){return this._k}),mt.f=Wt,m.f=Gt,yt.f=vt.f=Yt,nt.f=Kt,et.f=Ht,u&&E(Ct,"propertyIsEnumerable",Kt,!0),i.f=function(t){return Vt(r(t))}),k(k.G+k.W+k.F*!Ft,{Symbol:wt});for(var Jt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ut=0;Jt.length>Ut;)r(Jt[Ut++]);for(var qt=tt(r.store),Qt=0;qt.length>Qt;)S(qt[Qt++]);k(k.S+k.F*!Ft,"Symbol",{for:function(t){return _(Nt,t+="")?Nt[t]:Nt[t]=wt(t)},keyFor:function(t){if(!zt(t))throw TypeError(t+" is not a symbol!");for(var e in Nt)if(Nt[e]===t)return e},useSetter:function(){Dt=!0},useSimple:function(){Dt=!1}}),k(k.S+k.F*!Ft,"Object",{create:function(t,e){return void 0===e?lt(t):Bt(lt(t),e)},defineProperty:Gt,defineProperties:Bt,getOwnPropertyDescriptor:Wt,getOwnPropertyNames:Yt,getOwnPropertySymbols:Ht}),jt&&k(k.S+k.F*(!Ft||f(function(){var t=wt();return"[null]"!=Et([t])||"{}"!=Et({a:t})||"{}"!=Et(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(s(e)||void 0!==t)&&!zt(t))return rt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!zt(e))return e}),r[1]=e,Et.apply(jt,r)}}),wt[Pt][Tt]||j(wt[Pt],Tt,wt[Pt].valueOf),C(wt,"Symbol"),C(Math,"Math",!0),C(h.JSON,"JSON",!0);var Xt=r("unscopables"),$t=Array.prototype;null==$t[Xt]&&j($t,Xt,{});var Zt=function(t){$t[Xt][t]=!0},te=function(t,e){return{value:e,done:!!t}},ee={},ne={};j(ne,r("iterator"),function(){return this});var re=function(t){return Object(R(t))},oe=U("IE_PROTO"),ie=Object.prototype,ae=Object.getPrototypeOf||function(t){return t=re(t),_(t,oe)?t[oe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ie:null},ue=r("iterator"),ce=!([].keys&&"next"in[].keys()),se="values",fe=function(){return this},le=function(t,e,n,r,o,i,a){var u,c,s;c=e,s=r,(u=n).prototype=lt(ne,{next:w(1,s)}),C(u,c+" Iterator");var f,l,p,y=function(t){if(!ce&&t in v)return v[t];switch(t){case"keys":case se:return function(){return new n(this,t)}}return function(){return new n(this,t)}},d=e+" Iterator",h=o==se,g=!1,v=t.prototype,b=v[ue]||v["@@iterator"]||o&&v[o],m=b||y(o),O=o?h?y("entries"):m:void 0,S="Array"==e&&v.entries||b;if(S&&(p=ae(S.call(new t)))!==Object.prototype&&p.next&&(C(p,d,!0),"function"!=typeof p[ue]&&j(p,ue,fe)),h&&b&&b.name!==se&&(g=!0,m=function(){return b.call(this)}),(ce||g||!v[ue])&&j(v,ue,m),ee[e]=m,ee[d]=fe,o)if(f={values:h?m:y(se),keys:i?m:y("keys"),entries:O},a)for(l in f)l in v||E(v,l,f[l]);else k(k.P+k.F*(ce||g),e,f);return f}(Array,"Array",function(t,e){this._t=V(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,te(1)):te(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");ee.Arguments=ee.Array,Zt("keys"),Zt("values"),Zt("entries");for(var pe=r("iterator"),ye=r("toStringTag"),de=ee.Array,he={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ge=tt(he),ve=0;ve<ge.length;ve++){var be,me=ge[ve],Oe=he[me],Se=h[me],xe=Se&&Se.prototype;if(xe&&(xe[pe]||j(xe,pe,de),xe[ye]||j(xe,ye,me),ee[me]=de,Oe))for(be in le)xe[be]||E(xe,be,le[be],!0)}var _e,we,je,Ee;_e="keys",we=function(){return function(t){return tt(re(t))}},je=(g.Object||{})[_e]||Object[_e],(Ee={})[_e]=we(je),k(k.S+k.F*f(function(){je(1)}),"Object",Ee);var Pe,Ae,Te=H(!1),ke=[].indexOf,Ne=!!ke&&1/[1].indexOf(1,-0)<0;k(k.P+k.F*(Ne||!((Pe=ke)&&f(function(){Ae?Pe.call(null,function(){},1):Pe.call(null)}))),"Array",{indexOf:function(t){return Ne?ke.apply(this,arguments)||0:Te(this,t,arguments[1])}});var Ie=function(t,e){if(a(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Le={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=P(Function.call,mt.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return Ie(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:Ie}.set,Ce="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Fe="["+Ce+"]",Me=RegExp("^"+Fe+Fe+"*"),De=RegExp(Fe+Fe+"*$"),Re=function(t,e,n){var r={},o=f(function(){return!!Ce[t]()||"​"!="​"[t]()}),i=r[t]=o?e(Ve):Ce[t];n&&(r[n]=i),k(k.P+k.F*o,"String",r)},Ve=Re.trim=function(t,e){return t=String(R(t)),1&e&&(t=t.replace(Me,"")),2&e&&(t=t.replace(De,"")),t},ze=Re,Ge=yt.f,Be=mt.f,Ke=m.f,We=ze.trim,Ye="Number",He=h[Ye],Je=He,Ue=He.prototype,qe=M(lt(Ue))==Ye,Qe="trim"in String.prototype,Xe=function(t){var e=v(t,!1);if("string"==typeof e&&2<e.length){var n,r,o,i=(e=Qe?e.trim():We(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,u=e.slice(2),c=0,s=u.length;c<s;c++)if((a=u.charCodeAt(c))<48||o<a)return NaN;return parseInt(u,r)}}return+e};if(!He(" 0o1")||!He("0b1")||He("+0x1")){He=function(t){var e,n,r,o,i=arguments.length<1?0:t,a=this;return a instanceof He&&(qe?f(function(){Ue.valueOf.call(a)}):M(a)!=Ye)?(e=new Je(Xe(i)),n=He,(o=a.constructor)!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&s(r)&&Le&&Le(e,r),e):Xe(i)};for(var $e,Ze=u?Ge(Je):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),tn=0;Ze.length>tn;tn++)_(Je,$e=Ze[tn])&&!_(He,$e)&&Ke(He,$e,Be(Je,$e));(He.prototype=Ue).constructor=He,E(h,Ye,He)}var en,nn,rn,on,an,un={alt:i18next.t("alt",{ns:"area"}),margin:{top:20,bottom:50,left:80},filterData:function(t){return cn(t)},x:{getLabel:function(){return i18next.t("x_label",{ns:"area"})},getValue:function(t){return new Date(t.date+"-01")},getText:function(t){return t.date},ticks:7},y:{label:i18next.t("y_label",{ns:"area"}),getLabel:function(){return i18next.t("y_label",{ns:"area"})},getValue:function(t,e){return"x"===t[e]||".."===t[e]?0:1*Number(t[e])/1e3},getText:function(t,e){return"x"===t[e]||".."===t[e]?t[e]:1*Number(t[e])/1e3},ticks:5},z:{label:i18next.t("z_label",{ns:"area"}),getId:function(t){return t.key},getKeys:function(t){var e=Object.keys(t[0]);return e.splice(e.indexOf("date"),1),-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),e},getClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.z.getId.apply(this,e)},getText:function(t){return i18next.t(t.key,{ns:"area"})}},datatable:!1,transition:!0,width:400},cn=function(t){for(var e=new Date("2010"),n=[],r=0;r<t.length;r++){e<=new Date(t[r].date)&&n.push(t[r])}return n},sn={alt:i18next.t("alt",{ns:"areaAirport"}),aspectRatio:4,margin:{top:20,right:10,bottom:50,left:50},filterData:function(t){return t},x:{getValue:function(t){return new Date(t.date+"-01")},getText:function(t){return t.date},ticks:10},y:{getValue:function(t,e){return"x"===t[e]||".."===t[e]?0:1*Number(t[e])/1e3},getText:function(t,e){return"x"===t[e]||".."===t[e]?t[e]:1*Number(t[e])/1e3},ticks:3},z:{getId:function(t){return t.key},getKeys:function(t){var e=Object.keys(t[0]);return e.splice(e.indexOf("date"),1),-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),e},getClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.z.getId.apply(this,e)},getText:function(t){return i18next.t(t.key,{ns:"areaAirport"})}},datatable:!1,transition:!1,width:500},fn={},ln=2017,pn="CANADA",yn={},dn=d3.select(".dashboard .map").append("svg"),hn=d3.select(".data").append("svg").attr("id","svg_areaChartAir"),gn=d3.select("#lineChart").append("svg").attr("id","svg_lineChart"),vn=dn.append("g");function bn(){var e=function(){areaChart(hn,un,fn[pn])};if(!fn[pn])return d3.json("data/air/passengers/".concat(pn,".json"),function(t){fn[pn]=t,e()});e()}function mn(){var t;dn.selectAll("path").style("stroke","black");for(var e=[],n=Object.keys(en[ln]),r=0;r<n.length;r++){var o=n[r];e.push(en[ln][o])}t=d3.extent(e);var i=d3.scaleQuantile().domain([t[0],t[1]]).range(["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"]);for(var a in en[ln])en[ln].hasOwnProperty(a)&&d3.select(".dashboard .map").select("."+a).style("fill",i(en[ln][a]))}dn.on("click",function(){var t=d3.transition().duration(1e3),e=d3.event.target.classList;if("airport"!==e[0]){if("zoomed"===e[1]||0===e.length)return on.pointRadius(function(t,e){return 1.5}),d3.transition(t).selectAll(".airport").style("stroke-width",.5).attr("d",on),nn.zoom();on.pointRadius(function(t,e){return.5}),d3.transition(t).selectAll(".airport").style("stroke-width",.1).attr("d",on),nn.zoom(e[0])}}),i18n.load(["src/i18n"],function(){d3.queue().defer(d3.json,"data/air/passengers/Annual_Totals.json").defer(d3.json,"data/air/major_airports/Annual_Totals.json").defer(d3.json,"geojson/vennAirport_with_dataFlag.geojson").await(function(t,e,n,r){if(t)throw t;en=e,un.x.label=i18next.t("x_label",{ns:"area"}),un.y.label=i18next.t("y_label",{ns:"area"}),sn.x.label=i18next.t("x_label",{ns:"areaAirport"}),sn.y.label=i18next.t("y_label",{ns:"areaAirport"}),ln=document.getElementById("yearSelector").value,nn=getCanadaMap(dn).on("loaded",function(){an=r,on=d3.geoPath().projection(nn.settings.projection).pointRadius(1.5),vn.selectAll("path").data(an.features).enter().append("path").attr("d",on).attr("id",function(t,e){return"airport"+t.properties.id}).attr("class",function(t,e){return"airport "+t.properties.hasPlanedData}),mn(),vn.selectAll("path").on("mouseover",function(t){rn=t.properties.id,"noYears"!==t.properties.hasPlanedData&&function(){if(!yn[rn]){var t="data/air/passengers/".concat(rn,".json");return d3.json(t,function(t){if(t){var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;for(var u in a)"x"!==a[u]&&".."!==a[u]||(a[u]=0)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}yn[rn]=t,areaChart(gn,sn,yn[rn]),d3.select("#svg_lineChart").select(".areaChartTitle").text(i18next.t(rn,{ns:"airports"}))}})}areaChart(gn,sn,yn[rn]),d3.select("#svg_lineChart").select(".areaChartTitle").text(i18next.t(rn,{ns:"airports"}))}()}),dn.style("visibility","visible"),d3.select(".canada-map").moveToBack()}),bn()})}),$(document).on("change",function(t){"groups"===t.target.id&&(pn=document.getElementById("groups").value,bn()),"yearSelector"===t.target.id&&(ln=document.getElementById("yearSelector").value,mn())}),d3.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})},d3.selection.prototype.moveToBack=function(){return this.each(function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)})}}();