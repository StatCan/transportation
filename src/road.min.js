!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var g=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),y=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),p=(y.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),T=function(t){if(!p(t))throw TypeError(t+" is not an object!");return t},u=function(t){try{return!!t()}catch(t){return!0}},e=!u(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),n=g.document,r=p(n)&&p(n.createElement),a=function(t){return r?n.createElement(t):{}},o=!e&&!u(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}),i=Object.defineProperty,l={f:e?Object.defineProperty:function(t,e,n){if(T(t),e=function(t,e){if(!p(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!p(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),T(n),o)try{return i(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},A=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=e?function(t,e,n){return l.f(t,e,A(1,n))}:function(t,e,n){return t[e]=n,t},c={}.hasOwnProperty,s=function(t,e){return c.call(t,e)},f=0,d=Math.random(),h=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++f+d).toString(36))},_=t(function(t){var o=h("src"),e="toString",n=Function[e],i=(""+n).split(e);y.inspectSource=function(t){return n.call(t)},(t.exports=function(t,e,n,r){var a="function"==typeof n;a&&(s(n,"name")||O(n,"name",e)),t[e]!==n&&(a&&(s(n,o)||O(n,o,t[e]?""+t[e]:i.join(String(e)))),t===g?t[e]=n:r?t[e]?t[e]=n:O(t,e,n):(delete t[e],O(t,e,n)))})(Function.prototype,e,function(){return"function"==typeof this&&this[o]||n.call(this)})}),j=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},v=function(r,a,t){if(j(r),void 0===a)return r;switch(t){case 1:return function(t){return r.call(a,t)};case 2:return function(t,e){return r.call(a,t,e)};case 3:return function(t,e,n){return r.call(a,t,e,n)}}return function(){return r.apply(a,arguments)}},x="prototype",b=function(t,e,n){var r,a,o,i,l=t&b.F,c=t&b.G,s=t&b.S,u=t&b.P,f=t&b.B,d=c?g:s?g[e]||(g[e]={}):(g[e]||{})[x],p=c?y:y[e]||(y[e]={}),h=p[x]||(p[x]={});for(r in c&&(n=e),n)o=((a=!l&&d&&void 0!==d[r])?d:n)[r],i=f&&a?v(o,g):u&&"function"==typeof o?v(Function.call,o):o,d&&_(d,r,o,t&b.U),p[r]!=o&&O(p,r,i),u&&h[r]!=o&&(h[r]=o)};g.core=y,b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128;var w=b,m={}.toString,E=function(t){return m.call(t).slice(8,-1)},S=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==E(t)?t.split(""):Object(t)},L=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},M=function(t){return S(L(t))},P=Math.ceil,k=Math.floor,C=function(t){return isNaN(t=+t)?0:(0<t?k:P)(t)},I=Math.min,R=function(t){return 0<t?I(C(t),9007199254740991):0},F=Math.max,D=Math.min,H=function(s){return function(t,e,n){var r,a,o,i=M(t),l=R(i.length),c=(a=l,(r=C(r=n))<0?F(r+a,0):D(r,a));if(s&&e!=e){for(;c<l;)if((o=i[c++])!=o)return!0}else for(;c<l;c++)if((s||c in i)&&i[c]===e)return s||c||0;return!s&&-1}},G=function(t,e){return!!t&&u(function(){e?t.call(null,function(){},1):t.call(null)})},N=H(!1),V=[].indexOf,z=!!V&&1/[1].indexOf(1,-0)<0;w(w.P+w.F*(z||!G(V)),"Array",{indexOf:function(t){return z?V.apply(this,arguments)||0:N(this,t,arguments[1])}});var B,U,q,K=t(function(t){var e="__core-js_shared__",n=g[e]||(g[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:y.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),W=t(function(t){var e=K("wks"),n=g.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:h)("Symbol."+t))}).store=e}),X=W("match"),Y=W("species"),Q=(B=!0,function(t,e){var n,r,a=String(L(t)),o=C(e),i=a.length;return o<0||i<=o?B?"":void 0:(n=a.charCodeAt(o))<55296||56319<n||o+1===i||(r=a.charCodeAt(o+1))<56320||57343<r?B?a.charAt(o):n:B?a.slice(o,o+2):r-56320+(n-55296<<10)+65536}),J=W("toStringTag"),Z="Arguments"==E(function(){return arguments}()),tt=RegExp.prototype.exec,et=function(t,e){var n,r,a,o,i=t.exec;if("function"==typeof i){var l=i.call(t,e);if("object"!=typeof l)throw new TypeError("RegExp exec method returned something other than an Object or null");return l}if("RegExp"!==(void 0===(n=t)?"Undefined":null===n?"Null":"string"==typeof(a=function(t,e){try{return t[e]}catch(t){}}(r=Object(n),J))?a:Z?E(r):"Object"==(o=E(r))&&"function"==typeof r.callee?"Arguments":o))throw new TypeError("RegExp#exec called on incompatible receiver");return tt.call(t,e)},nt=RegExp.prototype.exec,rt=String.prototype.replace,at=nt,ot="lastIndex",it=(U=/a/,q=/b*/g,nt.call(U,"a"),nt.call(q,"a"),0!==U[ot]||0!==q[ot]),lt=void 0!==/()??/.exec("")[1];(it||lt)&&(at=function(t){var e,n,r,a,o=this;return lt&&(n=new RegExp("^"+o.source+"$(?!\\s)",function(){var t=T(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(o))),it&&(e=o[ot]),r=nt.call(o,t),it&&r&&(o[ot]=o.global?r.index+r[0].length:e),lt&&r&&1<r.length&&rt.call(r[0],n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),r});var ct=at;w({target:"RegExp",proto:!0,forced:ct!==/./.exec},{exec:ct});var st=W("species"),ut=!u(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),ft=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),dt=Math.min,pt=[].push,ht="split",gt="length",yt="lastIndex",vt=4294967295,xt=!u(function(){});!function(n,t,e){var r=W(n),o=!u(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),a=o?!u(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[st]=function(){return e}),e[r](""),!t}):void 0;if(!o||!a||"replace"===n&&!ut||"split"===n&&!ft){var i=/./[r],l=e(L,r,""[n],function(t,e,n,r,a){return e.exec===ct?o&&!a?{done:!0,value:i.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),c=l[0],s=l[1];_(String.prototype,n,c),O(RegExp.prototype,r,2==t?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)})}}("split",2,function(a,o,S,A){var O;return O="c"=="abbc"[ht](/(b)*/)[1]||4!="test"[ht](/(?:)/,-1)[gt]||2!="ab"[ht](/(?:ab)*/)[gt]||4!="."[ht](/(.?)(.?)/)[gt]||1<"."[ht](/()()/)[gt]||""[ht](/.?/)[gt]?function(t,e){var n,r,a=String(this);if(void 0===t&&0===e)return[];if(!p(n=t)||(void 0!==(r=n[X])?!r:"RegExp"!=E(n)))return S.call(a,t,e);for(var o,i,l,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=void 0===e?vt:e>>>0,d=new RegExp(t.source,s+"g");(o=ct.call(d,a))&&!(u<(i=d[yt])&&(c.push(a.slice(u,o.index)),1<o[gt]&&o.index<a[gt]&&pt.apply(c,o.slice(1)),l=o[0][gt],u=i,c[gt]>=f));)d[yt]===o.index&&d[yt]++;return u===a[gt]?!l&&d.test("")||c.push(""):c.push(a.slice(u)),c[gt]>f?c.slice(0,f):c}:"0"[ht](void 0,0)[gt]?function(t,e){return void 0===t&&0===e?[]:S.call(this,t,e)}:S,[function(t,e){var n=a(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):O.call(String(n),t,e)},function(t,e){var n=A(O,t,this,e,O!==S);if(n.done)return n.value;var r,a,o,i=T(t),l=String(this),c=(r=RegExp,void 0===(o=T(i).constructor)||null==(a=T(o)[Y])?r:j(a)),s=i.unicode,u=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(xt?"y":"g"),f=new c(xt?i:"^(?:"+i.source+")",u),d=void 0===e?vt:e>>>0;if(0===d)return[];if(0===l.length)return null===et(f,l)?[l]:[];for(var p,h,g=0,y=0,v=[];y<l.length;){f.lastIndex=xt?y:0;var x,b=et(f,xt?l:l.slice(y));if(null===b||(x=dt(R(f.lastIndex+(xt?0:y)),l.length))===g)p=l,y=(h=y)+(s?Q(p,h).length:1);else{if(v.push(l.slice(g,y)),v.length===d)return v;for(var m=1;m<=b.length-1;m++)if(v.push(b[m]),v.length===d)return v;y=g=x}}return v.push(l.slice(g)),v}]});var bt=W("unscopables"),mt=Array.prototype;null==mt[bt]&&O(mt,bt,{});var St=function(t){mt[bt][t]=!0},At=function(t,e){return{value:e,done:!!t}},Ot={},Tt=K("keys"),_t=function(t){return Tt[t]||(Tt[t]=h(t))},jt=H(!1),wt=_t("IE_PROTO"),Et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Lt=Object.keys||function(t){return function(t,e){var n,r=M(t),a=0,o=[];for(n in r)n!=wt&&s(r,n)&&o.push(n);for(;e.length>a;)s(r,n=e[a++])&&(~jt(o,n)||o.push(n));return o}(t,Et)},Mt=e?Object.defineProperties:function(t,e){T(t);for(var n,r=Lt(e),a=r.length,o=0;o<a;)l.f(t,n=r[o++],e[n]);return t},Pt=g.document,kt=Pt&&Pt.documentElement,Ct=_t("IE_PROTO"),It=function(){},Rt="prototype",Ft=function(){var t,e=a("iframe"),n=Et.length;for(e.style.display="none",kt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ft=t.F;n--;)delete Ft[Rt][Et[n]];return Ft()},Dt=Object.create||function(t,e){var n;return null!==t?(It[Rt]=T(t),n=new It,It[Rt]=null,n[Ct]=t):n=Ft(),void 0===e?n:Mt(n,e)},Ht=l.f,Gt=W("toStringTag"),Nt=function(t,e,n){t&&!s(t=n?t:t.prototype,Gt)&&Ht(t,Gt,{configurable:!0,value:e})},Vt={};O(Vt,W("iterator"),function(){return this});var zt=function(t){return Object(L(t))},Bt=_t("IE_PROTO"),$t=Object.prototype,Ut=Object.getPrototypeOf||function(t){return t=zt(t),s(t,Bt)?t[Bt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?$t:null},qt=W("iterator"),Kt=!([].keys&&"next"in[].keys()),Wt="values",Xt=function(){return this},Yt=function(t,e,n,r,a,o,i){var l,c,s;c=e,s=r,(l=n).prototype=Dt(Vt,{next:A(1,s)}),Nt(l,c+" Iterator");var u,f,d,p=function(t){if(!Kt&&t in v)return v[t];switch(t){case"keys":case Wt:return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",g=a==Wt,y=!1,v=t.prototype,x=v[qt]||v["@@iterator"]||a&&v[a],b=x||p(a),m=a?g?p("entries"):b:void 0,S="Array"==e&&v.entries||x;if(S&&(d=Ut(S.call(new t)))!==Object.prototype&&d.next&&(Nt(d,h,!0),"function"!=typeof d[qt]&&O(d,qt,Xt)),g&&x&&x.name!==Wt&&(y=!0,b=function(){return x.call(this)}),(Kt||y||!v[qt])&&O(v,qt,b),Ot[e]=b,Ot[h]=Xt,a)if(u={values:g?b:p(Wt),keys:o?b:p("keys"),entries:m},i)for(f in u)f in v||_(v,f,u[f]);else w(w.P+w.F*(Kt||y),e,u);return u}(Array,"Array",function(t,e){this._t=M(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,At(1)):At(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Ot.Arguments=Ot.Array,St("keys"),St("values"),St("entries");for(var Qt=W("iterator"),Jt=W("toStringTag"),Zt=Ot.Array,te={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ee=Lt(te),ne=0;ne<ee.length;ne++){var re,ae=ee[ne],oe=te[ae],ie=g[ae],le=ie&&ie.prototype;if(le&&(le[Qt]||O(le,Qt,Zt),le[Jt]||O(le,Jt,ae),Ot[ae]=Zt,oe))for(re in Yt)le[re]||_(le,re,Yt[re],!0)}var ce,se,ue,fe;ce="keys",se=function(){return function(t){return Lt(zt(t))}},ue=(y.Object||{})[ce]||Object[ce],(fe={})[ce]=se(ue),w(w.S+w.F*u(function(){ue(1)}),"Object",fe);var de={alt:i18next.t("alt",{ns:"roadArea"}),margin:{top:50,left:90,bottom:50},filterData:function(t){return t},x:{getValue:function(t){return new Date(t.date+"-01")},getText:function(t){return t.date},ticks:7},y:{label:i18next.t("y_label",{ns:"roadArea"}),getValue:function(t,e){return"string"==typeof t[e]||t[e]instanceof String?0:1*t[e]/1e3},getTotal:function(t,e,n){var r,a,o=this;if(!t[o.y.totalProperty]){a=o.z.getKeys.call(o,n);for(var i=r=0;i<a.length;i++)r+=o.y.getValue.call(o,t,a[i],n);t[o.y.totalProperty]=r}return t[o.y.totalProperty]},getText:function(t,e){return"string"==typeof t[e]||t[e]instanceof String?t[e]:1*t[e]/1e3},ticks:5},z:{label:i18next.t("z_label",{ns:"roadArea"}),getId:function(t){return t.key},getKeys:function(t){var e=Object.keys(t[0]);return e.splice(e.indexOf("date"),1),-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),e},getClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.z.getId.apply(this,e)},getText:function(t){return i18next.t(t.key,{ns:"roadArea"})}},datatable:!0,tableTitle:i18next.t("tableTitle",{ns:"roadArea"}),dataTableTotal:!0,transition:!1,width:1050};var pe=[].sort,he=[1,2,3];w(w.P+w.F*(u(function(){he.sort(void 0)})||!u(function(){he.sort(null)})||!G(pe)),"Array",{sort:function(t){return void 0===t?pe.call(zt(this)):pe.call(zt(this),j(t))}});var ge,ye={f:{}.propertyIsEnumerable}.f,ve=(ge=!1,function(t){for(var e,n=M(t),r=Lt(n),a=r.length,o=0,i=[];o<a;)ye.call(n,e=r[o++])&&i.push(ge?[e,n[e]]:n[e]);return i});w(w.S,"Object",{values:function(t){return ve(t)}});var xe={},be={},me="CANADA",Se="2017",Ae=d3.format(",d"),Oe=d3.select(".data").append("svg").attr("id","svgFuel"),Te=d3.select(".dashboard .map").append("svg"),_e=510-20-0,je=150-20-10,we=d3.select("#mapColourScale").select("svg").attr("class","roadCB").attr("width",_e).attr("height",je).style("vertical-align","middle"),Ee=d3.select("#areaLegend").select("svg").attr("class","roadAreaCB").attr("width",650).attr("height",je).style("vertical-align","middle");d3.stcExt.addIEShim(Te,387.1,457.5),d3.stcExt.addIEShim(we,je,_e),d3.stcExt.addIEShim(Ee,je,650);var Le=d3.select("body").append("div").attr("class","tooltip").style("opacity",0),Me=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);Te.on("mouseover",function(){if(d3.select(d3.event.target).attr("class")){var t=(d3.select(d3.event.target).attr("class")||"").split(" ");d3.select(".dashboard .map").select("."+t[0]).classed("roadMapHighlight",!0);var e=i18next.t(t[0],{ns:"roadGeography"}),n=Ae(be[Se][t[0]]/1e3);Le.transition().style("opacity",.9),Le.html("<b>"+e+" ("+i18next.t("units",{ns:"road"})+")</b><br><br><table><tr><td><b>$"+n+"</td></tr></table>").style("left",d3.event.pageX+"px").style("top",d3.event.pageY+"px")}}).on("mouseout",function(){Le.transition().style("opacity",0),me?d3.select(".map").selectAll("path:not(."+me+")").classed("roadMapHighlight",!1):d3.select(".map").selectAll("path").classed("roadMapHighlight",!1)}),Te.on("click",function(){if(d3.select(".map").selectAll("path").classed("roadMapHighlight",!1),d3.select(d3.event.target).attr("class")&&-1===d3.select(d3.event.target).attr("class").indexOf("svg-shimmed")){var t=(d3.select(d3.event.target).attr("class")||"").split(" ");me=t[0],d3.select(".dashboard .map").select("."+t[0]).classed("roadMapHighlight",!0),xe[me]?Fe():d3.json("data/road/"+me+".json",function(t,e){xe[me]=e,Fe()}),d3.select("#groups")._groups[0][0].value=me}else me="CANADA",Fe(),d3.select("#groups")._groups[0][0].value=me;De()});var Pe,ke,Ce,Ie=d3.select("#annualTimeseries").append("div").attr("class","linecursor").style("position","absolute").style("z-index","0").style("width","2px").style("height","310px").style("top","60px").style("bottom","70px").style("left","0px").style("background","#ccc");function Re(){var t=[];t.push(be[Se]);var e=["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],n=function(t,e){var n,r=t[0],a=[];(a=Object.values(r)).sort(function(t,e){return t-e}),n=d3.extent(a);var o=d3.scaleQuantize().domain([n[0],n[1]]).range(e);for(var i in r)r.hasOwnProperty(i)&&d3.select(".dashboard .map").select("."+i).style("fill",o(r[i]));return n}(t,e),r=i18next.t("mapScaleLabel",{ns:"road"})+" ("+i18next.t("units",{ns:"road"})+")";!function(t,n,e){var r=d3.format(",d"),a=t.selectAll("rect").data(n).enter().append("g");a.append("rect").attr("width",35).attr("height",35).attr("y",5).attr("x",function(t,e){return 175+35*e}).attr("fill",function(t,e){return n[e]});var o=(e[1]-e[0])/n.length,i=[];i[0]=e[0];for(var l=1;l<n.length;l++)i.push(Math.round(l*o+e[0]));a.append("text"),d3.select("#mapColourScale").selectAll("text").text(function(t,e){var n=r(i[e]/1e3);return n+"+"}).attr("text-anchor","end").attr("transform",function(t,e){return"translate("+(180+35*e)+", 50) rotate(-45)"}).style("display",function(){return"inline"}),d3.select("#cbID").empty()&&t.append("g").append("text").attr("id","cbID").attr("y",28).attr("x",0)}(we,e,n),d3.select("#cbID").text(r)}function Fe(){areaChart(Oe,de,xe[me]),d3.select("#svgFuel").select(".x.axis").select("text").attr("display","none"),d3.select(".dashboard .map").select("."+me).classed("roadMapHighlight",!0),De(),He()}function De(){var t=i18next.t(me,{ns:"roadGeography"});d3.select("#mapTitleRoad").text(i18next.t("mapTitle",{ns:"road"})+", "+t+", "+Se),d3.select("#areaTitleRoad").text(i18next.t("chartTitle",{ns:"road"})+", "+t),d3.select("#chrt-dt-tbl").text("Sales of fuel in ".concat(t," used for road motor vehicles, annual (millions of dollars)"))}function He(){var n,t,r=["gas","diesel","lpg"];n=r,(t=Ee.selectAll("rect").data(n).enter().append("g")).append("rect").attr("width",35).attr("height",35).attr("y",25).attr("x",function(t,e){return 55+35*e*4}).attr("class",function(t,e){return n[e]}),t.append("text"),d3.select("#areaLegend").selectAll("text").attr("y",48).attr("x",function(t,e){return[95,237,375][e]}).style("display",function(){return"inline"}),d3.select("#areaLegend").selectAll("text").text(function(t,e){return i18next.t(r[e],{ns:"roadArea"})})}d3.select("#annualTimeseries").on("mousemove",function(){var t=d3.mouse(this)[0];if(t<599){Pe=function(t){var e=[62,149,234,321,404,491,576],n=[e[0]+(e[1]-e[0])/2,e[1]+(e[1]-e[0])/2,e[2]+(e[1]-e[0])/2,e[3]+(e[1]-e[0])/2,e[4]+(e[1]-e[0])/2,e[5]+(e[1]-e[0])/2,e[6]+(e[1]-e[0])/2];Ie.style("left",t+"px"),t<n[0]?Pe=0:t<n[1]?Pe=1:t<n[2]?Pe=2:t<n[3]?Pe=3:t<n[4]?Pe=4:t<n[5]?Pe=5:t<n[6]?Pe=6:n[6]<t&&(Pe=7);return Pe}(t),Oe.on("mouseover",function(t){var e=d3.select(d3.event.target);if(e._groups[0][0].__data__){var n=e._groups[0][0].__data__;if(n[Pe]){var r=n[Pe];ke=Ae(r[1]-r[0]),Ce=i18next.t(e.attr("class").split(" ").slice(-1)[0],{ns:"roadArea"})}}});ke&&(Me.transition().style("opacity",.9),Me.html("<b>"+Ce+" ("+i18next.t("units",{ns:"road"})+")</b><br><br><table><tr><td><b>"+{0:2010,1:2011,2:2012,3:2013,4:2014,5:2015,6:2016,7:2017}[Pe]+": $"+ke+"</td></tr></table>").style("left",d3.event.pageX+"px").style("top",d3.event.pageY+"px"))}}).on("mouseout",function(t,e){Me.transition().style("opacity",0)}),i18n.load(["src/i18n"],function(){de.x.label=i18next.t("x_label",{ns:"roadArea"}),de.y.label=i18next.t("y_label",{ns:"roadArea"}),de.tableTitle=i18next.t("tableTitle",{ns:"roadArea"}),d3.queue().defer(d3.json,"data/road/Annual_Totals.json").defer(d3.json,"data/road/CANADA.json").await(function(t,e,n){be=e,xe[me]=n,getCanadaMap(Te).on("loaded",function(){Re()}),areaChart(Oe,de,xe[me]),He(),d3.select("#svgFuel").select(".x.axis").select("text").attr("display","none"),De()})}),$(document).on("change",function(t){"groups"===t.target.id&&(me=document.getElementById("groups").value,d3.select(".map").selectAll("path").classed("roadMapHighlight",!1),De(),xe[me]?Fe():d3.json("data/road/"+me+".json",function(t,e){xe[me]=e,Fe()})),"year"===t.target.id&&(Se=document.getElementById("year").value,De(),Re())})}();