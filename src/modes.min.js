!function(){"use strict";function t(t,n){return t(n={exports:{}},n.exports),n.exports}var y=t(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),h=t(function(t){var n=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)}),o=(h.version,t(function(t){var n="__core-js_shared__",e=y[n]||(y[n]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:h.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),n=0,e=Math.random(),c=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+e).toString(36))},r=t(function(t){var n=o("wks"),e=y.Symbol,r="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=r&&e[t]||(r?e:c)("Symbol."+t))}).store=n}),i={f:r},s=function(t){return"object"==typeof t?null!==t:"function"==typeof t},a=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t},f=function(t){try{return!!t()}catch(t){return!0}},u=!f(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),l=y.document,d=s(l)&&s(l.createElement),m=function(t){return d?l.createElement(t):{}},p=!u&&!f(function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a}),v=function(t,n){if(!s(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!s(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!s(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!s(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")},g=Object.defineProperty,S={f:u?Object.defineProperty:function(t,n,e){if(a(t),n=v(n,!0),a(e),p)try{return g(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},b=S.f,_=function(t){var n=h.Symbol||(h.Symbol=y.Symbol||{});"_"==t.charAt(0)||t in n||b(n,t,{value:i.f(t)})};_("asyncIterator");var F={}.hasOwnProperty,O=function(t,n){return F.call(t,n)},x=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},w=u?function(t,n,e){return S.f(t,n,x(1,e))}:function(t,n,e){return t[n]=e,t},U=t(function(t){var i=c("src"),n="toString",e=Function[n],a=(""+e).split(n);h.inspectSource=function(t){return e.call(t)},(t.exports=function(t,n,e,r){var o="function"==typeof e;o&&(O(e,"name")||w(e,"name",n)),t[n]!==e&&(o&&(O(e,i)||w(e,i,t[n]?""+t[n]:a.join(String(n)))),t===y?t[n]=e:r?t[n]?t[n]=e:w(t,n,e):(delete t[n],w(t,n,e)))})(Function.prototype,n,function(){return"function"==typeof this&&this[i]||e.call(this)})}),k=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},j=function(r,o,t){if(k(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,n){return r.call(o,t,n)};case 3:return function(t,n,e){return r.call(o,t,n,e)}}return function(){return r.apply(o,arguments)}},P="prototype",C=function(t,n,e){var r,o,i,a,u=t&C.F,c=t&C.G,s=t&C.S,f=t&C.P,l=t&C.B,d=c?y:s?y[n]||(y[n]={}):(y[n]||{})[P],m=c?h:h[n]||(h[n]={}),p=m[P]||(m[P]={});for(r in c&&(e=n),e)i=((o=!u&&d&&void 0!==d[r])?d:e)[r],a=l&&o?j(i,y):f&&"function"==typeof i?j(Function.call,i):i,d&&U(d,r,i,t&C.U),m[r]!=i&&w(m,r,a),f&&p[r]!=i&&(p[r]=i)};y.core=h,C.F=1,C.G=2,C.S=4,C.P=8,C.B=16,C.W=32,C.U=64,C.R=128;var A=C,E=t(function(t){var e=c("meta"),n=S.f,r=0,o=Object.isExtensible||function(){return!0},i=!f(function(){return o(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},u=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!O(t,e)){if(!o(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!O(t,e)){if(!o(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return i&&u.NEED&&o(t)&&!O(t,e)&&a(t),t}}}),T=(E.KEY,E.NEED,E.fastKey,E.getWeak,E.onFreeze,S.f),L=r("toStringTag"),M=function(t,n,e){t&&!O(t=e?t:t.prototype,L)&&T(t,L,{configurable:!0,value:n})},D={}.toString,I=function(t){return D.call(t).slice(8,-1)},N=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==I(t)?t.split(""):Object(t)},B=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},R=function(t){return N(B(t))},G=Math.ceil,z=Math.floor,W=function(t){return isNaN(t=+t)?0:(0<t?z:G)(t)},V=Math.min,K=function(t){return 0<t?V(W(t),9007199254740991):0},H=Math.max,J=Math.min,Y=function(s){return function(t,n,e){var r,o,i,a=R(t),u=K(a.length),c=(o=u,(r=W(r=e))<0?H(r+o,0):J(r,o));if(s&&n!=n){for(;c<u;)if((i=a[c++])!=i)return!0}else for(;c<u;c++)if((s||c in a)&&a[c]===n)return s||c||0;return!s&&-1}},q=o("keys"),Q=function(t){return q[t]||(q[t]=c(t))},Z=Y(!1),X=Q("IE_PROTO"),tt=function(t,n){var e,r=R(t),o=0,i=[];for(e in r)e!=X&&O(r,e)&&i.push(e);for(;n.length>o;)O(r,e=n[o++])&&(~Z(i,e)||i.push(e));return i},nt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),et=Object.keys||function(t){return tt(t,nt)},rt={f:Object.getOwnPropertySymbols},ot={f:{}.propertyIsEnumerable},it=Array.isArray||function(t){return"Array"==I(t)},at=u?Object.defineProperties:function(t,n){a(t);for(var e,r=et(n),o=r.length,i=0;i<o;)S.f(t,e=r[i++],n[e]);return t},ut=y.document,ct=ut&&ut.documentElement,st=Q("IE_PROTO"),ft=function(){},lt="prototype",dt=function(){var t,n=m("iframe"),e=nt.length;for(n.style.display="none",ct.appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),dt=t.F;e--;)delete dt[lt][nt[e]];return dt()},mt=Object.create||function(t,n){var e;return null!==t?(ft[lt]=a(t),e=new ft,ft[lt]=null,e[st]=t):e=dt(),void 0===n?e:at(e,n)},pt=nt.concat("length","prototype"),yt={f:Object.getOwnPropertyNames||function(t){return tt(t,pt)}},ht=yt.f,vt={}.toString,gt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],St={f:function(t){return gt&&"[object Window]"==vt.call(t)?function(t){try{return ht(t)}catch(t){return gt.slice()}}(t):ht(R(t))}},bt=Object.getOwnPropertyDescriptor,_t={f:u?bt:function(t,n){if(t=R(t),n=v(n,!0),p)try{return bt(t,n)}catch(t){}if(O(t,n))return x(!ot.f.call(t,n),t[n])}},Ft=E.KEY,Ot=_t.f,xt=S.f,wt=St.f,Ut=y.Symbol,kt=y.JSON,jt=kt&&kt.stringify,Pt="prototype",Ct=r("_hidden"),At=r("toPrimitive"),Et={}.propertyIsEnumerable,Tt=o("symbol-registry"),Lt=o("symbols"),Mt=o("op-symbols"),Dt=Object[Pt],It="function"==typeof Ut,Nt=y.QObject,Bt=!Nt||!Nt[Pt]||!Nt[Pt].findChild,Rt=u&&f(function(){return 7!=mt(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=Ot(Dt,n);r&&delete Dt[n],xt(t,n,e),r&&t!==Dt&&xt(Dt,n,r)}:xt,Gt=function(t){var n=Lt[t]=mt(Ut[Pt]);return n._k=t,n},zt=It&&"symbol"==typeof Ut.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Ut},Wt=function(t,n,e){return t===Dt&&Wt(Mt,n,e),a(t),n=v(n,!0),a(e),O(Lt,n)?(e.enumerable?(O(t,Ct)&&t[Ct][n]&&(t[Ct][n]=!1),e=mt(e,{enumerable:x(0,!1)})):(O(t,Ct)||xt(t,Ct,x(1,{})),t[Ct][n]=!0),Rt(t,n,e)):xt(t,n,e)},Vt=function(t,n){a(t);for(var e,r=function(t){var n=et(t),e=rt.f;if(e)for(var r,o=e(t),i=ot.f,a=0;o.length>a;)i.call(t,r=o[a++])&&n.push(r);return n}(n=R(n)),o=0,i=r.length;o<i;)Wt(t,e=r[o++],n[e]);return t},Kt=function(t){var n=Et.call(this,t=v(t,!0));return!(this===Dt&&O(Lt,t)&&!O(Mt,t))&&(!(n||!O(this,t)||!O(Lt,t)||O(this,Ct)&&this[Ct][t])||n)},Ht=function(t,n){if(t=R(t),n=v(n,!0),t!==Dt||!O(Lt,n)||O(Mt,n)){var e=Ot(t,n);return!e||!O(Lt,n)||O(t,Ct)&&t[Ct][n]||(e.enumerable=!0),e}},Jt=function(t){for(var n,e=wt(R(t)),r=[],o=0;e.length>o;)O(Lt,n=e[o++])||n==Ct||n==Ft||r.push(n);return r},Yt=function(t){for(var n,e=t===Dt,r=wt(e?Mt:R(t)),o=[],i=0;r.length>i;)!O(Lt,n=r[i++])||e&&!O(Dt,n)||o.push(Lt[n]);return o};It||(U((Ut=function(){if(this instanceof Ut)throw TypeError("Symbol is not a constructor!");var n=c(0<arguments.length?arguments[0]:void 0),e=function(t){this===Dt&&e.call(Mt,t),O(this,Ct)&&O(this[Ct],n)&&(this[Ct][n]=!1),Rt(this,n,x(1,t))};return u&&Bt&&Rt(Dt,n,{configurable:!0,set:e}),Gt(n)})[Pt],"toString",function(){return this._k}),_t.f=Ht,S.f=Wt,yt.f=St.f=Jt,ot.f=Kt,rt.f=Yt,u&&U(Dt,"propertyIsEnumerable",Kt,!0),i.f=function(t){return Gt(r(t))}),A(A.G+A.W+A.F*!It,{Symbol:Ut});for(var qt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Qt=0;qt.length>Qt;)r(qt[Qt++]);for(var Zt=et(r.store),$t=0;Zt.length>$t;)_(Zt[$t++]);A(A.S+A.F*!It,"Symbol",{for:function(t){return O(Tt,t+="")?Tt[t]:Tt[t]=Ut(t)},keyFor:function(t){if(!zt(t))throw TypeError(t+" is not a symbol!");for(var n in Tt)if(Tt[n]===t)return n},useSetter:function(){Bt=!0},useSimple:function(){Bt=!1}}),A(A.S+A.F*!It,"Object",{create:function(t,n){return void 0===n?mt(t):Vt(mt(t),n)},defineProperty:Wt,defineProperties:Vt,getOwnPropertyDescriptor:Ht,getOwnPropertyNames:Jt,getOwnPropertySymbols:Yt}),kt&&A(A.S+A.F*(!It||f(function(){var t=Ut();return"[null]"!=jt([t])||"{}"!=jt({a:t})||"{}"!=jt(Object(t))})),"JSON",{stringify:function(t){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(e=n=r[1],(s(n)||void 0!==t)&&!zt(t))return it(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!zt(n))return n}),r[1]=n,jt.apply(kt,r)}}),Ut[Pt][At]||w(Ut[Pt],At,Ut[Pt].valueOf),M(Ut,"Symbol"),M(Math,"Math",!0),M(y.JSON,"JSON",!0);var Xt=r("unscopables"),tn=Array.prototype;null==tn[Xt]&&w(tn,Xt,{});var nn=function(t){tn[Xt][t]=!0},en=function(t,n){return{value:n,done:!!t}},rn={},on={};w(on,r("iterator"),function(){return this});var an=function(t){return Object(B(t))},un=Q("IE_PROTO"),cn=Object.prototype,sn=Object.getPrototypeOf||function(t){return t=an(t),O(t,un)?t[un]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?cn:null},fn=r("iterator"),ln=!([].keys&&"next"in[].keys()),dn="values",mn=function(){return this},pn=function(t,n,e,r,o,i,a){var u,c,s;c=n,s=r,(u=e).prototype=mt(on,{next:x(1,s)}),M(u,c+" Iterator");var f,l,d,m=function(t){if(!ln&&t in v)return v[t];switch(t){case"keys":case dn:return function(){return new e(this,t)}}return function(){return new e(this,t)}},p=n+" Iterator",y=o==dn,h=!1,v=t.prototype,g=v[fn]||v["@@iterator"]||o&&v[o],S=g||m(o),b=o?y?m("entries"):S:void 0,_="Array"==n&&v.entries||g;if(_&&(d=sn(_.call(new t)))!==Object.prototype&&d.next&&(M(d,p,!0),"function"!=typeof d[fn]&&w(d,fn,mn)),y&&g&&g.name!==dn&&(h=!0,S=function(){return g.call(this)}),(ln||h||!v[fn])&&w(v,fn,S),rn[n]=S,rn[p]=mn,o)if(f={values:y?S:m(dn),keys:i?S:m("keys"),entries:b},a)for(l in f)l in v||U(v,l,f[l]);else A(A.P+A.F*(ln||h),n,f);return f}(Array,"Array",function(t,n){this._t=R(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,en(1)):en(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values");rn.Arguments=rn.Array,nn("keys"),nn("values"),nn("entries");for(var yn=r("iterator"),hn=r("toStringTag"),vn=rn.Array,gn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Sn=et(gn),bn=0;bn<Sn.length;bn++){var _n,Fn=Sn[bn],On=gn[Fn],xn=y[Fn],wn=xn&&xn.prototype;if(wn&&(wn[yn]||w(wn,yn,vn),wn[hn]||w(wn,hn,Fn),rn[Fn]=vn,On))for(_n in pn)wn[_n]||U(wn,_n,pn[_n],!0)}var Un,kn,jn,Pn,Cn,An,En,Tn,Ln,Mn=r("species"),Dn=function(t,n){return!!t&&f(function(){n?t.call(null,function(){},1):t.call(null)})},In=(jn=1==(Un=2),Pn=2==Un,Cn=3==Un,An=4==Un,En=6==Un,Tn=5==Un||En,Ln=kn||function(t,n){return it(e=t)&&("function"!=typeof(r=e.constructor)||r!==Array&&!it(r.prototype)||(r=void 0),s(r)&&null===(r=r[Mn])&&(r=void 0)),new(void 0===r?Array:r)(n);var e,r},function(t,n,e){for(var r,o,i=an(t),a=N(i),u=j(n,e,3),c=K(a.length),s=0,f=jn?Ln(t,c):Pn?Ln(t,0):void 0;s<c;s++)if((Tn||s in a)&&(o=u(r=a[s],s,i),Un))if(jn)f[s]=o;else if(o)switch(Un){case 3:return!0;case 5:return r;case 6:return s;case 2:f.push(r)}else if(An)return!1;return En?-1:Cn||An?An:f});A(A.P+A.F*!Dn([].filter,!0),"Array",{filter:function(t){return In(this,t,arguments[1])}});var Nn=S.f,Bn=Function.prototype,Rn=/^\s*function ([^ (]*)/;"name"in Bn||u&&Nn(Bn,"name",{configurable:!0,get:function(){try{return(""+this).match(Rn)[1]}catch(t){return""}}});var Gn=[].sort,zn=[1,2,3];A(A.P+A.F*(f(function(){zn.sort(void 0)})||!f(function(){zn.sort(null)})||!Dn(Gn)),"Array",{sort:function(t){return void 0===t?Gn.call(an(this)):Gn.call(an(this),k(t))}});var Wn,Vn,Kn=/"/g;(Vn={})[Wn="link"]=function(n){return function(t){return n(this,"a","href",t)}}(function(t,n,e,r){var o=String(B(t)),i="<"+n;return""!==e&&(i+=" "+e+'="'+String(r).replace(Kn,"&quot;")+'"'),i+">"+o+"</"+n+">"}),A(A.P+A.F*f(function(){var t=""[Wn]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",Vn);var Hn={aspectRatio:16/14,width:1090,margin:{top:10,right:10,bottom:10,left:10}};function Jn(t,r,n){var o={intl:"#607890",USres:"#CC982A",nonUSres:"#928941",cdnFromUS:"#FFDC68",cdnFromOther:"#FAB491",USres_land:"#CC982A",USres_air:"#CC982A",USres_marine:"#CC982A",USres_car:"#CC982A",USres_bus:"#CC982A",USres_train:"#CC982A",USres_other:"#CC982A",nonUSres_land:"#928941",nonUSres_air:"#928941",nonUSres_marine:"#928941",cdnFromUS_land:"#FFDC68",cdnFromUS_air:"#FFDC68",cdnFromUS_marine:"#FFDC68",cdnFromUS_car:"#FFDC68",cdnFromUS_bus:"#FFDC68",cdnFromUS_train:"#FFDC68",cdnFromUS_other:"#FFDC68",cdnFromOther_land:"#FAB491",cdnFromOther_air:"#FAB491",cdnFromOther_marine:"#FAB491"},e=Hn,i=e.width,a=Math.ceil(i/e.aspectRatio),u=e.innerHeight=a-e.margin.top-e.margin.bottom,c=e.innerWidth=i-e.margin.left-e.margin.right,s=t.select("g.margin-offset"),f=s.select(".data");e.innerHeight=a-e.margin.top-e.margin.bottom;var l=d3.format(",.0f"),d=function(t){return l(t)},m=d3.sankey().size([c,u]),p=m.link();t.attr("viewBox","0 0 "+i+" "+a).attr("preserveAspectRatio","xMidYMid meet").attr("role","img").attr("aria-label",e.altText),s.empty()&&(s=t.append("g").attr("class","margin-offset").attr("transform","translate("+e.margin.left+","+e.margin.top+")")),d3.stcExt.addIEShim(t,a,i),function(t){m.nodes(r).links(t.links).layout(32),f.empty()&&(f=s.append("g").attr("class","data"));var n=f.append("g").selectAll(".link").data(t.links).enter().append("path").attr("class","link").attr("d",p).style("stroke-width",function(t){return Math.max(1,t.dy)}).style("opacity",function(t){if(0===t.value)return 0}).sort(function(t,n){return n.dy-t.dy});if(n.append("title").text(function(t){return i18next.t(t.target.name,{ns:"modes"})+"\n"+d(t.value)}),0!==t.links.length){var e=f.append("g").selectAll(".node").data(r).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.drag().subject(function(t){return t}).on("start",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(u-t.dy,d3.event.y)))+")"),m.relayout(),n.attr("d",p)}));e.append("rect").attr("height",function(t){return t.dy}).attr("width",m.nodeWidth()).style("fill",function(t){return t.color=o[t.name]}).style("stroke",function(t){return d3.rgb(t.color).darker(2)}).append("title").text(function(t){return i18next.t(t.name,{ns:"modes"})+"\n"+d(t.value)}),e.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){if(0!=t.value)return i18next.t(t.name,{ns:"modes"})}).filter(function(t){return t.x<c/2}).attr("x",6+m.nodeWidth()).attr("text-anchor","start")}}(n)}var Yn=Y(!1),qn=[].indexOf,Qn=!!qn&&1/[1].indexOf(1,-0)<0;A(A.P+A.F*(Qn||!Dn(qn)),"Array",{indexOf:function(t){return Qn?qn.apply(this,arguments)||0:Yn(this,t,arguments[1])}});var Zn={alt:i18next.t("alt",{ns:"modes"}),tableTitle:i18next.t("alt",{ns:"modes"}),margin:{top:50,left:80,bottom:50},filterData:function(t){return t},y:{getValue:function(t,n){if("string"==typeof t[n]||t[n]instanceof String){if(t.targetLinks[0])return"USres_car"!==t.name&&"USres_bus"!==t.name&&"USres_train"!==t.name&&"USres_other"!==t.name?"cdnFromUS_car"!==t.name&&"cdnFromUS_bus"!==t.name&&"cdnFromUS_train"!==t.name&&"cdnFromUS_other"!==t.name?i18next.t(t.targetLinks[0].source.name,{ns:"modes"})+", "+i18next.t(t[n],{ns:"modes"}):i18next.t("cdnFromUS",{ns:"modes"})+", "+i18next.t(t[n],{ns:"modes"}):i18next.t("USres",{ns:"modes"})+", "+i18next.t(t[n],{ns:"modes"});else if("cdnFromOther_land"===t.name)return i18next.t("cdnFromOther",{ns:"modes"})+", "+i18next.t(t[n],{ns:"modes"});return i18next.t(t[n],{ns:"modes"})}return t[n]}},z:{getId:function(t){return t.name},getKeys:function(t){var n=["name","value"];return-1!==n.indexOf(this.y.totalProperty)&&n.splice(n.indexOf(this.y.totalProperty),1),n},getKeyText:function(t){return i18next.t(t,{ns:"modes_sankey"})},getText:function(t){return i18next.t(t.name,{ns:"modes"})}},datatable:!0,width:200},$n="Canada",Xn="01",te="2018",ne={},ee=[{node:0,name:"intl"},{node:1,name:"USres"},{node:2,name:"nonUSres"},{node:3,name:"cdnFromUS"},{node:4,name:"cdnFromOther"},{node:5,name:"USres_air"},{node:6,name:"USres_marine"},{node:7,name:"USres_land"},{node:8,name:"nonUSres_air"},{node:9,name:"nonUSres_marine"},{node:10,name:"nonUSres_land"},{node:11,name:"cdnFromUS_air"},{node:12,name:"cdnFromUS_marine"},{node:13,name:"cdnFromUS_land"},{node:14,name:"cdnFromOther_air"},{node:15,name:"cdnFromOther_marine"},{node:16,name:"cdnFromOther_land"},{node:17,name:"USres_car"},{node:18,name:"USres_bus"},{node:19,name:"USres_train"},{node:20,name:"USres_other"},{node:21,name:"cdnFromUS_car"},{node:22,name:"cdnFromUS_bus"},{node:23,name:"cdnFromUS_train"},{node:24,name:"cdnFromUS_other"}],re=d3.select("#sankeyGraph").append("svg").attr("id","svg_sankeyChart"),oe=d3.select(".tabledata");function ie(){d3.selectAll("svg > *").remove(),Jn(re,ee,ne[te+"-"+Xn][$n]),drawTable(oe,Zn,ee)}function ae(t){var n={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){n[e]={};var r=!0,o=!(n[e].links=[]),i=void 0;try{for(var a,u=t[e][Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;0!==c.value&&n[e].links.push(c)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}return n}i18n.load(["src/i18n"],function(){Zn.tableTitle=i18next.t("tableTitle",{ns:"modes_sankey"}),d3.queue().defer(d3.json,"data/modes/"+te+"-"+Xn+".json").await(function(t,n){ne[te+"-"+Xn]=ae(n),Jn(re,ee,ne[te+"-"+Xn][$n]),drawTable(oe,Zn,ee)})}),$(document).on("change",function(t){if(""!==d3.select("#zeroFlag").text()&&d3.select("#zeroFlag").text(""),"groups"===t.target.id||"month"===t.target.id||"year"===t.target.id)if($n=document.getElementById("groups").value,Xn=document.getElementById("month").value,te=document.getElementById("year").value,ne[te+"-"+Xn]){var n=i18next.t(Xn,{ns:"modesMonth"});0===ne[te+"-"+Xn][$n].links.length&&(d3.selectAll("svg > *").remove(),d3.select("#zeroFlag").text("Zero international travellers for ".concat($n,",\n              ").concat(n," ").concat(te))),ie()}else d3.json("data/modes/"+te+"-"+Xn+".json",function(t,n){ne[te+"-"+Xn]=ae(n),ie()})})}();