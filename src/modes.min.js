!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var v=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),n={}.hasOwnProperty,u=function(t,e){return n.call(t,e)},e={}.toString,p=function(t){return e.call(t).slice(8,-1)},h=function(t){return"object"==typeof t?null!==t:"function"==typeof t},E=function(t){if(!h(t))throw TypeError(t+" is not an object!");return t},O=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},b=function(r,o,t){if(O(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},r={f:{}.propertyIsEnumerable},_=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},x=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==p(t)?t.split(""):Object(t)},s=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},f=function(t){return x(s(t))},d=function(t,e){if(!h(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!h(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!h(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!h(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},y=function(t){try{return!!t()}catch(t){return!0}},o=!y(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),i=v.document,a=h(i)&&h(i.createElement),l=function(t){return a?i.createElement(t):{}},c=!o&&!y(function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}),m=Object.getOwnPropertyDescriptor,g={f:o?m:function(t,e){if(t=f(t),e=d(e,!0),c)try{return m(t,e)}catch(t){}if(u(t,e))return _(!r.f.call(t,e),t[e])}},S=function(t,e){if(E(t),!h(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},C={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=b(Function.call,g.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return S(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:S}.set,w=Math.ceil,k=Math.floor,A=function(t){return isNaN(t=+t)?0:(0<t?k:w)(t)},T=Math.min,F=function(t){return 0<t?T(A(t),9007199254740991):0},N=Math.max,j=Math.min,I=function(c){return function(t,e,n){var r,o,i,a=f(t),u=F(a.length),l=(o=u,(r=A(r=n))<0?N(r+o,0):j(r,o));if(c&&e!=e){for(;l<u;)if((i=a[l++])!=i)return!0}else for(;l<u;l++)if((c||l in a)&&a[l]===e)return c||l||0;return!c&&-1}},P=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),L=(P.version,t(function(t){var e="__core-js_shared__",n=v[e]||(v[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:P.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),M=0,U=Math.random(),R=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++M+U).toString(36))},B=L("keys"),D=function(t){return B[t]||(B[t]=R(t))},G=I(!1),V=D("IE_PROTO"),z=function(t,e){var n,r=f(t),o=0,i=[];for(n in r)n!=V&&u(r,n)&&i.push(n);for(;e.length>o;)u(r,n=e[o++])&&(~G(i,n)||i.push(n));return i},H="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),W=H.concat("length","prototype"),Y={f:Object.getOwnPropertyNames||function(t){return z(t,W)}},X=Object.defineProperty,q={f:o?Object.defineProperty:function(t,e,n){if(E(t),e=d(e,!0),E(n),c)try{return X(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},K=o?function(t,e,n){return q.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t},J=t(function(t){var i=R("src"),e="toString",n=Function[e],a=(""+n).split(e);P.inspectSource=function(t){return n.call(t)},(t.exports=function(t,e,n,r){var o="function"==typeof n;o&&(u(n,"name")||K(n,"name",e)),t[e]!==n&&(o&&(u(n,i)||K(n,i,t[e]?""+t[e]:a.join(String(e)))),t===v?t[e]=n:r?t[e]?t[e]=n:K(t,e,n):(delete t[e],K(t,e,n)))})(Function.prototype,e,function(){return"function"==typeof this&&this[i]||n.call(this)})}),Q="prototype",Z=function(t,e,n){var r,o,i,a,u=t&Z.F,l=t&Z.G,c=t&Z.S,s=t&Z.P,f=t&Z.B,d=l?v:c?v[e]||(v[e]={}):(v[e]||{})[Q],p=l?P:P[e]||(P[e]={}),h=p[Q]||(p[Q]={});for(r in l&&(n=e),n)i=((o=!u&&d&&void 0!==d[r])?d:n)[r],a=f&&o?b(i,v):s&&"function"==typeof i?b(Function.call,i):i,d&&J(d,r,i,t&Z.U),p[r]!=i&&K(p,r,a),s&&h[r]!=i&&(h[r]=i)};v.core=P,Z.F=1,Z.G=2,Z.S=4,Z.P=8,Z.B=16,Z.W=32,Z.U=64,Z.R=128;var tt=Z,et="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",nt="["+et+"]",rt=RegExp("^"+nt+nt+"*"),ot=RegExp(nt+nt+"*$"),it=function(t,e,n){var r={},o=y(function(){return!!et[t]()||"​"!="​"[t]()}),i=r[t]=o?e(at):et[t];n&&(r[n]=i),tt(tt.P+tt.F*o,"String",r)},at=it.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(rt,"")),2&e&&(t=t.replace(ot,"")),t},ut=it,lt=Object.keys||function(t){return z(t,H)},ct=o?Object.defineProperties:function(t,e){E(t);for(var n,r=lt(e),o=r.length,i=0;i<o;)q.f(t,n=r[i++],e[n]);return t},st=v.document,ft=st&&st.documentElement,dt=D("IE_PROTO"),pt=function(){},ht="prototype",vt=function(){var t,e=l("iframe"),n=H.length;for(e.style.display="none",ft.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),vt=t.F;n--;)delete vt[ht][H[n]];return vt()},yt=Object.create||function(t,e){var n;return null!==t?(pt[ht]=E(t),n=new pt,pt[ht]=null,n[dt]=t):n=vt(),void 0===e?n:ct(n,e)},mt=Y.f,gt=g.f,bt=q.f,xt=ut.trim,St="Number",_t=v[St],Ct=_t,Et=_t.prototype,Ot=p(yt(Et))==St,wt="trim"in String.prototype,kt=function(t){var e=d(t,!1);if("string"==typeof e&&2<e.length){var n,r,o,i=(e=wt?e.trim():xt(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||o<a)return NaN;return parseInt(u,r)}}return+e};if(!_t(" 0o1")||!_t("0b1")||_t("+0x1")){_t=function(t){var e,n,r,o,i=arguments.length<1?0:t,a=this;return a instanceof _t&&(Ot?y(function(){Et.valueOf.call(a)}):p(a)!=St)?(e=new Ct(kt(i)),n=_t,(o=a.constructor)!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&h(r)&&C&&C(e,r),e):kt(i)};for(var At,Tt=o?mt(Ct):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ft=0;Tt.length>Ft;Ft++)u(Ct,At=Tt[Ft])&&!u(_t,At)&&bt(_t,At,gt(Ct,At));(_t.prototype=Et).constructor=_t,J(v,St,_t)}var Nt=t(function(t){var e=L("wks"),n=v.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:R)("Symbol."+t))}).store=e}),jt=Nt("unscopables"),It=Array.prototype;null==It[jt]&&K(It,jt,{});var Pt=function(t){It[jt][t]=!0},Lt=function(t,e){return{value:e,done:!!t}},Mt={},Ut=q.f,Rt=Nt("toStringTag"),Bt=function(t,e,n){t&&!u(t=n?t:t.prototype,Rt)&&Ut(t,Rt,{configurable:!0,value:e})},Dt={};K(Dt,Nt("iterator"),function(){return this});var Gt=function(t){return Object(s(t))},Vt=D("IE_PROTO"),zt=Object.prototype,Ht=Object.getPrototypeOf||function(t){return t=Gt(t),u(t,Vt)?t[Vt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?zt:null},$t=Nt("iterator"),Wt=!([].keys&&"next"in[].keys()),Yt="values",Xt=function(){return this},qt=function(t,e,n,r,o,i,a){var u,l,c;l=e,c=r,(u=n).prototype=yt(Dt,{next:_(1,c)}),Bt(u,l+" Iterator");var s,f,d,p=function(t){if(!Wt&&t in m)return m[t];switch(t){case"keys":case Yt:return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",v=o==Yt,y=!1,m=t.prototype,g=m[$t]||m["@@iterator"]||o&&m[o],b=g||p(o),x=o?v?p("entries"):b:void 0,S="Array"==e&&m.entries||g;if(S&&(d=Ht(S.call(new t)))!==Object.prototype&&d.next&&(Bt(d,h,!0),"function"!=typeof d[$t]&&K(d,$t,Xt)),v&&g&&g.name!==Yt&&(y=!0,b=function(){return g.call(this)}),(Wt||y||!m[$t])&&K(m,$t,b),Mt[e]=b,Mt[h]=Xt,o)if(s={values:v?b:p(Yt),keys:i?b:p("keys"),entries:x},a)for(f in s)f in m||J(m,f,s[f]);else tt(tt.P+tt.F*(Wt||y),e,s);return s}(Array,"Array",function(t,e){this._t=f(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Lt(1)):Lt(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Mt.Arguments=Mt.Array,Pt("keys"),Pt("values"),Pt("entries");for(var Kt=Nt("iterator"),Jt=Nt("toStringTag"),Qt=Mt.Array,Zt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},te=lt(Zt),ee=0;ee<te.length;ee++){var ne,re=te[ee],oe=Zt[re],ie=v[re],ae=ie&&ie.prototype;if(ae&&(ae[Kt]||K(ae,Kt,Qt),ae[Jt]||K(ae,Jt,re),Mt[re]=Qt,oe))for(ne in qt)ae[ne]||J(ae,ne,qt[ne],!0)}var ue=Array.isArray||function(t){return"Array"==p(t)},le=Nt("species"),ce=function(t,e){return ue(n=t)&&("function"!=typeof(r=n.constructor)||r!==Array&&!ue(r.prototype)||(r=void 0),h(r)&&null===(r=r[le])&&(r=void 0)),new(void 0===r?Array:r)(e);var n,r},se=function(f,t){var d=1==f,p=2==f,h=3==f,v=4==f,y=6==f,m=5==f||y,g=t||ce;return function(t,e,n){for(var r,o,i=Gt(t),a=x(i),u=b(e,n,3),l=F(a.length),c=0,s=d?g(t,l):p?g(t,0):void 0;c<l;c++)if((m||c in a)&&(o=u(r=a[c],c,i),f))if(d)s[c]=o;else if(o)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:s.push(r)}else if(v)return!1;return y?-1:h||v?v:s}},fe=function(t,e){return!!t&&y(function(){e?t.call(null,function(){},1):t.call(null)})},de=se(0),pe=fe([].forEach,!0);tt(tt.P+tt.F*!pe,"Array",{forEach:function(t){return de(this,t,arguments[1])}});var he=se(1);tt(tt.P+tt.F*!fe([].map,!0),"Array",{map:function(t){return he(this,t,arguments[1])}});tt(tt.P+tt.F*!fe([].reduce,!0),"Array",{reduce:function(t){return function(t,e,n,r,o){O(e);var i=Gt(t),a=x(i),u=F(i.length),l=o?u-1:0,c=o?-1:1;if(n<2)for(;;){if(l in a){r=a[l],l+=c;break}if(l+=c,o?l<0:u<=l)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=l:l<u;l+=c)l in a&&(r=e(r,a[l],l,i));return r}(this,t,arguments.length,arguments[1],!1)}});var ve,ye,me,ge=Nt("match"),be=Nt("species"),xe=(ve=!0,function(t,e){var n,r,o=String(s(t)),i=A(e),a=o.length;return i<0||a<=i?ve?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?ve?o.charAt(i):n:ve?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}),Se=Nt("toStringTag"),_e="Arguments"==p(function(){return arguments}()),Ce=RegExp.prototype.exec,Ee=function(t,e){var n,r,o,i,a=t.exec;if("function"==typeof a){var u=a.call(t,e);if("object"!=typeof u)throw new TypeError("RegExp exec method returned something other than an Object or null");return u}if("RegExp"!==(void 0===(n=t)?"Undefined":null===n?"Null":"string"==typeof(o=function(t,e){try{return t[e]}catch(t){}}(r=Object(n),Se))?o:_e?p(r):"Object"==(i=p(r))&&"function"==typeof r.callee?"Arguments":i))throw new TypeError("RegExp#exec called on incompatible receiver");return Ce.call(t,e)},Oe=RegExp.prototype.exec,we=String.prototype.replace,ke=Oe,Ae="lastIndex",Te=(ye=/a/,me=/b*/g,Oe.call(ye,"a"),Oe.call(me,"a"),0!==ye[Ae]||0!==me[Ae]),Fe=void 0!==/()??/.exec("")[1];(Te||Fe)&&(ke=function(t){var e,n,r,o,i=this;return Fe&&(n=new RegExp("^"+i.source+"$(?!\\s)",function(){var t=E(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(i))),Te&&(e=i[Ae]),r=Oe.call(i,t),Te&&r&&(i[Ae]=i.global?r.index+r[0].length:e),Fe&&r&&1<r.length&&we.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var Ne=ke;tt({target:"RegExp",proto:!0,forced:Ne!==/./.exec},{exec:Ne});var je=Nt("species"),Ie=!y(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Pe=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),Le=Math.min,Me=[].push,Ue="split",Re="length",Be="lastIndex",De=4294967295,Ge=!y(function(){});!function(n,t,e){var r=Nt(n),i=!y(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),o=i?!y(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[je]=function(){return e}),e[r](""),!t}):void 0;if(!i||!o||"replace"===n&&!Ie||"split"===n&&!Pe){var a=/./[r],u=e(s,r,""[n],function(t,e,n,r,o){return e.exec===Ne?i&&!o?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),l=u[0],c=u[1];J(String.prototype,n,l),K(RegExp.prototype,r,2==t?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}}("split",2,function(o,i,S,_){var C;return C="c"=="abbc"[Ue](/(b)*/)[1]||4!="test"[Ue](/(?:)/,-1)[Re]||2!="ab"[Ue](/(?:ab)*/)[Re]||4!="."[Ue](/(.?)(.?)/)[Re]||1<"."[Ue](/()()/)[Re]||""[Ue](/.?/)[Re]?function(t,e){var n,r,o=String(this);if(void 0===t&&0===e)return[];if(!h(n=t)||(void 0!==(r=n[ge])?!r:"RegExp"!=p(n)))return S.call(o,t,e);for(var i,a,u,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,f=void 0===e?De:e>>>0,d=new RegExp(t.source,c+"g");(i=Ne.call(d,o))&&!(s<(a=d[Be])&&(l.push(o.slice(s,i.index)),1<i[Re]&&i.index<o[Re]&&Me.apply(l,i.slice(1)),u=i[0][Re],s=a,l[Re]>=f));)d[Be]===i.index&&d[Be]++;return s===o[Re]?!u&&d.test("")||l.push(""):l.push(o.slice(s)),l[Re]>f?l.slice(0,f):l}:"0"[Ue](void 0,0)[Re]?function(t,e){return void 0===t&&0===e?[]:S.call(this,t,e)}:S,[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):C.call(String(n),t,e)},function(t,e){var n=_(C,t,this,e,C!==S);if(n.done)return n.value;var r,o,i,a=E(t),u=String(this),l=(r=RegExp,void 0===(i=E(a).constructor)||null==(o=E(i)[be])?r:O(o)),c=a.unicode,s=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Ge?"y":"g"),f=new l(Ge?a:"^(?:"+a.source+")",s),d=void 0===e?De:e>>>0;if(0===d)return[];if(0===u.length)return null===Ee(f,u)?[u]:[];for(var p,h,v=0,y=0,m=[];y<u.length;){f.lastIndex=Ge?y:0;var g,b=Ee(f,Ge?u:u.slice(y));if(null===b||(g=Le(F(f.lastIndex+(Ge?0:y)),u.length))===v)p=u,y=(h=y)+(c?xe(p,h).length:1);else{if(m.push(u.slice(v,y)),m.length===d)return m;for(var x=1;x<=b.length-1;x++)if(m.push(b[x]),m.length===d)return m;y=v=g}}return m.push(u.slice(v)),m}]});var Ve=[].sort,ze=[1,2,3];tt(tt.P+tt.F*(y(function(){ze.sort(void 0)})||!y(function(){ze.sort(null)})||!fe(Ve)),"Array",{sort:function(t){return void 0===t?Ve.call(Gt(this)):Ve.call(Gt(this),O(t))}});var He,$e,We=/"/g;($e={})[He="link"]=function(e){return function(t){return e(this,"a","href",t)}}(function(t,e,n,r){var o=String(s(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+String(r).replace(We,"&quot;")+'"'),i+">"+o+"</"+e+">"}),tt(tt.P+tt.F*y(function(){var t=""[He]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",$e);var Ye=q.f,Xe=Function.prototype,qe=/^\s*function ([^ (]*)/;"name"in Xe||o&&Ye(Xe,"name",{configurable:!0,get:function(){try{return(""+this).match(qe)[1]}catch(t){return""}}});var Ke=I(!0);function Je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ze(t,e,n){return e&&Qe(t.prototype,e),n&&Qe(t,n),t}function tn(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},e=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.forEach(function(t){var e,n,r;e=o,r=i[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return o}function en(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}tt(tt.P,"Array",{includes:function(t){return Ke(this,t,1<arguments.length?arguments[1]:void 0)}}),Pt("includes");var nn=se(2);tt(tt.P+tt.F*!fe([].filter,!0),"Array",{filter:function(t){return nn(this,t,arguments[1])}});var rn={aspectRatio:1.6,width:900,margin:{top:30,right:10,bottom:30,left:10}};var on=I(!1),an=[].indexOf,un=!!an&&1/[1].indexOf(1,-0)<0;tt(tt.P+tt.F*(un||!fe(an)),"Array",{indexOf:function(t){return un?an.apply(this,arguments)||0:on(this,t,arguments[1])}});var ln={tableTitle:i18next.t("alt",{ns:"modes"}),y:{getValue:function(t,e){return t[e]}},z:{getId:function(t){return t.name},getKeys:function(t){var e=["name","value"];return-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),e},getKeyText:function(t){return i18next.t(t,{ns:"modes_sankey"})},getText:function(t){return i18next.t(t.name,{ns:"modes"})}}},cn=[].slice,sn={},fn=Function.bind||function(e){var n=O(this),r=cn.call(arguments,1),o=function(){var t=r.concat(cn.call(arguments));return this instanceof o?function(t,e,n){if(!(e in sn)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";sn[e]=Function("F,a","return new F("+r.join(",")+")")}return sn[e](t,n)}(n,t.length,t):function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}(n,t,e)};return h(n.prototype)&&(o.prototype=n.prototype),o};tt(tt.P,"Function",{bind:fn});var dn=function(){function n(t,e){Je(this,n),this.pNode=t||document.createElement("div"),this.options=e||{},this.nodes={},this.data=null,this.instanceNumber=++n.n,this.class=this.options.class||""}return Ze(n,[{key:"build",value:function(t){t&&(this.options=t),t.pNode&&(this.pNode=t.pNode),t.class&&(this.class=t.class),this.root=document.createElement("div"),this.root.setAttribute("class","copy-button button-"+this.instanceNumber+" "+this.class),this.pNode.appendChild(this.root),this.nodes.btnCopy=document.createElement("button"),this.nodes.btnCopy.setAttribute("type","button"),this.nodes.btnCopy.setAttribute("class","btn btn-primary copy button-"+this.instanceNumber+" "+this.class),this.nodes.btnCopy.setAttribute("title",this.options.title||""),this.root.appendChild(this.nodes.btnCopy);var e=document.createElement("span");e.setAttribute("class","fa fa-clipboard clipboard button-"+this.instanceNumber+" "+this.class),this.nodes.btnCopy.appendChild(e);var n=document.createElement("span");n.setAttribute("class","wb-inv button-"+this.instanceNumber+" "+this.class),n.innerHTML=this.options.accessibility||"",this.nodes.btnCopy.appendChild(n),this.nodes.msgCopyConfirm=document.createElement("div"),this.nodes.msgCopyConfirm.setAttribute("class","copy-confirm button-"+this.instanceNumber+" "+this.class),this.nodes.msgCopyConfirm.setAttribute("aria-live","polite"),this.nodes.msgCopyConfirm.innerHTML=this.options.msgCopyConfirm||"",this.root.appendChild(this.nodes.msgCopyConfirm),this.nodes.btnCopy.addEventListener("click",this.onBtnClick.bind(this))}},{key:"onBtnClick",value:function(t){this.copyData(this.data)}},{key:"copyData",value:function(t){var e=t||[];this.clipboard(this.toCSV("\t",e),this.root),this.fade(this.nodes.msgCopyConfirm,!0),setTimeout(function(t){this.fade(this.nodes.msgCopyConfirm,!1)}.bind(this),1500)}},{key:"toCSV",value:function(e,t){return t.map(function(t){return t.join(e)}).join("\r\n")}},{key:"clipboard",value:function(t,e){if(this.isIE())window.clipboardData.setData("Text",t);else{var n=document.createElement("textarea");n.textContent=t,e.appendChild(n),n.select(),document.execCommand("copy"),e.removeChild(n)}}},{key:"fade",value:function(t,e){var n=["copy-confirm button-"+this.instanceNumber+" "+this.class],r=e?"fadeIn":"fadeOut";n.push(r),t.setAttribute("class",n.join(" "))}},{key:"appendTo",value:function(t){this.pNode=t,this.pNode.appendChild(this.root),this.nodes.msgCopyConfirm.setAttribute("class","copy-confirm button-"+this.instanceNumber+" "+this.class)}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return 0<r&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}}]),n}();dn.n=0;var pn,hn=r.f,vn=(pn=!0,function(t){for(var e,n=f(t),r=lt(n),o=r.length,i=0,a=[];i<o;)hn.call(n,e=r[i++])&&a.push(pn?[e,n[e]]:n[e]);return a});tt(tt.S,"Object",{entries:function(t){return vn(t)}});var yn=se(5),mn="find",gn=!0;mn in[]&&Array(1)[mn](function(){gn=!1}),tt(tt.P+tt.F*gn,"Array",{find:function(t){return yn(this,t,1<arguments.length?arguments[1]:void 0)}}),Pt(mn);var bn,xn=function(){function t(){Je(this,t),this.tree=this.buildTree(),this.data=null}return Ze(t,[{key:"setData",value:function(n){this.data=n,this.iterTree(this.tree,function(e){var t=n.find(function(t){return t.target==e.target});e.value=null!=t?t.value:0}),this.tree.value=0,this.tree.children.forEach(function(t){this.tree.value+=t.value}.bind(this))}},{key:"iterTree",value:function(t,e){var n=this;e(t),0<t.children.length&&t.children.forEach(function(t){return n.iterTree(t,e)})}},{key:"toArray",value:function(){var e=[];return this.iterTree(this.tree,function(t){e.push(function(t){for(var e={},n=Object.entries(t),r=0;r<n.length;r++){var o=en(n[r],1),i=o[0];e[i]=t[i]}return e}(t))}),e}},{key:"toLines",value:function(t,e){var n=[],r=[t],o=e,i=this.toArray();return n.push(r,[],o),i.forEach(function(t){n.push([i18next.t(t.name,{ns:"modes"}),t.value])}),n}},{key:"buildTree",value:function(){return{node:0,target:0,level:0,value:null,name:"intl",children:[{node:1,target:1,level:1,value:null,name:"USres",children:[{node:5,target:5,level:2,value:null,name:"USres_air",children:[]},{node:6,target:6,level:2,value:null,name:"USres_marine",children:[]},{node:7,target:7,level:2,value:null,name:"USres_land",children:[{node:17,target:17,level:3,value:null,name:"USres_car",children:[]},{node:18,target:18,level:3,value:null,name:"USres_bus",children:[]},{node:19,target:19,level:3,value:null,name:"USres_train",children:[]},{node:20,target:20,level:3,value:null,name:"USres_other",children:[]}]}]},{node:2,target:2,level:1,value:null,name:"nonUSres",children:[{node:8,target:8,level:2,value:null,name:"nonUSres_air",children:[]},{node:9,target:9,level:2,value:null,name:"nonUSres_marine",children:[]},{node:10,target:10,level:2,value:null,name:"nonUSres_land",children:[]}]},{node:3,target:3,level:1,value:null,name:"cdnFromUS",children:[{node:11,target:11,level:2,value:null,name:"cdnFromUS_air",children:[]},{node:12,target:12,level:2,value:null,name:"cdnFromUS_marine",children:[]},{node:13,target:13,level:2,value:null,name:"cdnFromUS_land",children:[{node:21,target:21,level:3,value:null,name:"cdnFromUS_car",children:[]},{node:22,target:22,level:3,value:null,name:"cdnFromUS_bus",children:[]},{node:23,target:23,level:3,value:null,name:"cdnFromUS_train",children:[]},{node:24,target:24,level:3,value:null,name:"cdnFromUS_other",children:[]}]}]},{node:4,target:4,level:1,value:null,name:"cdnFromOther",children:[{node:14,target:14,level:2,value:null,name:"cdnFromOther_air",children:[]},{node:15,target:15,level:2,value:null,name:"cdnFromOther_marine",children:[]},{node:16,target:16,level:2,value:null,name:"cdnFromOther_land",children:[]}]}]}}}]),t}(),Sn=new dn,_n=new xn,Cn="Canada",En="01",On="2018",wn={},kn=_n.toArray(),An=function(n,r,o){wn[n+"-"+r]?o():d3.json("data/modes/"+n+"-"+r+".json",function(t,e){t&&console.log("file does not exist"),wn[n+"-"+r]=e,o()})},Tn=d3.select("#sankeyGraph").append("svg").attr("id","svg_sankeyChart"),Fn=d3.select(".tabledata");function Nn(){var t=i18next.t(En,{ns:"modesMonth"}),e=i18next.t(Cn,{ns:"modesGeography"});0===wn[On+"-"+En][Cn].map(function(t){return t.value}).reduce(function(t,e){return t+e})?(d3.selectAll("svg > *").remove(),d3.select("#zeroFlag").text("".concat(i18next.t("noData",{ns:"modes_sankey"})," ").concat(e,",\n          ").concat(t," ").concat(On))):(d3.selectAll("svg > *").remove(),function(t,e,i){var n=rn,r=n.width,o=Math.ceil(r/n.aspectRatio),a=n.innerHeight=o-n.margin.top-n.margin.bottom,u=n.innerWidth=r-n.margin.left-n.margin.right,l=t.select("g.margin-offset"),c=l.select(".data"),s=[];function f(){for(var n,t=!1,r=["USres_land","cdnFromUS_land"],e=function(e){i.nodes.map(function(t){t.name===r[e]&&0<t.sourceLinks.length&&(n=!0)}),t=t||n},o=0;o<r.length;o++)e(o);return t}i={links:i.links.map(function(t){return tn({},t)}).filter(function(t){return 0<t.value&&(s.push(t.source,t.target),!0)}),nodes:i.nodes.map(function(t){return tn({},t)}).filter(function(t){return s.includes(t.node)})},n.innerHeight=o-n.margin.top-n.margin.bottom;var d=d3.format(",.0f"),p=function(t){return d(t)},h=d3.sankey().size([u,a]),v=h.link();t.attr("viewBox","0 0 "+r+" "+o).attr("preserveAspectRatio","xMidYMid meet").attr("role","img").attr("aria-label",n.altText),l.empty()&&(l=t.append("g").attr("class","margin-offset").attr("transform","translate("+n.margin.left+","+n.margin.top+")")),d3.stcExt.addIEShim(t,o,r),function(){h.nodes(i.nodes).links(i.links).layout(32);var n=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);c.empty()&&(c=l.append("g").attr("class","data")),c.append("g").selectAll(".link").data(h.links()).enter().append("path").attr("class","link").attr("d",v).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy}).on("mousemove",function(t){var e=t.source.name;n.transition().style("opacity",.9),n.html("<b>"+i18next.t(e,{ns:"modes"})+"</b><br><br><table><tr><td>"+i18next.t(t.target.name,{ns:"modes"})+": </td><td style='padding: 5px 10px 5px 5px;'><b>"+p(t.value)+" "+i18next.t("units",{ns:"modes_sankey"})+"</td></tr></table>").style("left",d3.event.pageX+"px").style("top",d3.event.pageY-90+"px")}).on("mouseout",function(t){n.transition().style("opacity",0)});var t=c.append("g").selectAll(".node").data(h.nodes()).enter().append("g").attr("class",function(t){return"node "+t.name}).attr("transform",function(t){return"translate(".concat(t.x||0,", ").concat(t.y||0,")")});function e(t){d3.select(".".concat(t))&&d3.select(".".concat(t)).select("text").text("Other").append("tspan").text("1").style("font-size","9px").attr("dx",".01em").attr("dy","-.3em")}t.on("mousemove",function(t){n.transition().style("opacity",.9),n.html("<b>"+i18next.t(t.name,{ns:"modes"})+"</b><br><br><table><tr><td>Total:</td><td style='padding: 5px 10px 5px 5px;'><b>"+p(t.value)+" "+i18next.t("units",{ns:"modes_sankey"})+"</td></tr></table>").style("left",d3.event.pageX+"px").style("top",d3.event.pageY-90+"px")}).on("mouseout",function(t){n.transition().style("opacity",0)}),t.append("rect").attr("height",function(t){return t.dy}).attr("width",h.nodeWidth()).style("stroke",function(t){return d3.rgb(t.color).darker(2)}).text(function(t){return i18next.t(t.name,{ns:"modes"})+"\n"+p(t.value)}),t.append("text").attr("x",function(t){var e=f();return 2===t.level&&!0===e?40:-6}).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor",function(t){var e=f();return 2===t.level&&!0===e?"start":"end"}).attr("transform",null).text(function(t){return i18next.t(t.name,{ns:"modes"})}).filter(function(t){return t.x<u/2}).attr("x",6+h.nodeWidth()).attr("text-anchor","start").call(function(t,l){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),r=[],o=0,i=e.attr("y"),a=parseFloat(e.attr("dy"))-.55,u=e.text(null).append("tspan").attr("class","nowrap").attr("x",40).attr("y",i).attr("dy",a+"em");t=n.pop();)r.push(t),u.text(r.join(" ")),u.node().getComputedTextLength()>l&&(r.pop(),u.text(r.join(" ")),r=[t],u=e.append("tspan").attr("class","wordwrap").attr("x",40).attr("y",i).attr("dy",function(){return 1.1*++o+a+"em"}).text(t))})},200),e("USres_other"),e("cdnFromUS_other")}()}(Tn,0,{nodes:kn,links:wn[On+"-"+En][Cn]}));var n=wn[On+"-"+En][Cn];_n.setData(n);var r,o,i,a,u,l,c,s=_n.toArray();s.forEach(function(t){}),drawTable(Fn,ln,s),r=i18next.t(Cn,{ns:"modesGeography"}),o=i18next.t(En,{ns:"modesMonth"}),i=i18next.t("tableTitle",{ns:"modes_sankey"})+" "+r+", "+o+" "+On+", "+i18next.t("byType",{ns:"modes_sankey"}),d3.select("#only-dt-tbl").text(i),Sn.appendTo(document.getElementById("copy-button-container")),a=i18next.t(Cn,{ns:"modesGeography"}),u=i18next.t(En,{ns:"modesMonth"}),l=i18next.t("tableTitle",{ns:"modes_sankey"})+" "+a+", "+u+" "+On+", "+i18next.t("byType",{ns:"modes_sankey"}),c=[i18next.t("name",{ns:"modes_sankey"}),i18next.t("value",{ns:"modes_sankey"})],Sn.data=_n.toLines(l,c)}function jn(){var t=$("#year");t.empty();for(var e=Number(bn.min.substring(0,4));e<=Number(bn.max.substring(0,4));e++)t.append($("<option></option>").attr("value",e).html(e));d3.select("#year")._groups[0][0].value=On;var n=Number(bn.max.substring(5,7)),r=Number(bn.max.substring(0,4));if(Number(On)===r)$("#month > option").each(function(){Number(this.value)>n&&(this.disabled=!0)});else{d3.selectAll("#month > option").property("disabled",!1);var o=Number(d3.select("#month")._groups[0][0].value);n<o&&$("#year > option").each(function(){Number(this.value)===r&&(this.disabled=!0)})}}i18n.load(["src/i18n"],function(){d3.queue().defer(d3.json,"data/modes/dateRange.json").await(function(t,e){bn=e,jn()});var t={pNode:document.getElementById("copy-button-container"),title:i18next.t("CopyButton_Title",{ns:"CopyButton"}),msgCopyConfirm:i18next.t("CopyButton_Confirm",{ns:"CopyButton"}),accessibility:i18next.t("CopyButton_Title",{ns:"CopyButton"})};Sn.build(t),An(On,En,Nn)}),$(document).on("change",function(t){d3.selectAll(".tooltip").style("opacity",0),"groups"!==t.target.id&&"month"!==t.target.id&&"year"!==t.target.id||(Cn=document.getElementById("groups").value,En=document.getElementById("month").value,On=document.getElementById("year").value,""!==d3.select("#zeroFlag").text()&&d3.select("#zeroFlag").text(""),An(On,En,function(){jn(),Nn()}))})}();