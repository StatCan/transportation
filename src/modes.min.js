!function(){"use strict";function t(t,n){return t(n={exports:{}},n.exports),n.exports}var y=t(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),h=t(function(t){var n=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)}),o=(h.version,t(function(t){var n="__core-js_shared__",e=y[n]||(y[n]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:h.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),n=0,e=Math.random(),c=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+e).toString(36))},r=t(function(t){var n=o("wks"),e=y.Symbol,r="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=r&&e[t]||(r?e:c)("Symbol."+t))}).store=n}),i={f:r},s=function(t){return"object"==typeof t?null!==t:"function"==typeof t},a=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t},f=function(t){try{return!!t()}catch(t){return!0}},u=!f(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),l=y.document,d=s(l)&&s(l.createElement),p=function(t){return d?l.createElement(t):{}},m=!u&&!f(function(){return 7!=Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a}),v=function(t,n){if(!s(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!s(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!s(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!s(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")},g=Object.defineProperty,b={f:u?Object.defineProperty:function(t,n,e){if(a(t),n=v(n,!0),a(e),m)try{return g(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},S=b.f,x=function(t){var n=h.Symbol||(h.Symbol=y.Symbol||{});"_"==t.charAt(0)||t in n||S(n,t,{value:i.f(t)})};x("asyncIterator");var O={}.hasOwnProperty,_=function(t,n){return O.call(t,n)},w=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},F=u?function(t,n,e){return b.f(t,n,w(1,e))}:function(t,n,e){return t[n]=e,t},k=t(function(t){var i=c("src"),n="toString",e=Function[n],a=(""+e).split(n);h.inspectSource=function(t){return e.call(t)},(t.exports=function(t,n,e,r){var o="function"==typeof e;o&&(_(e,"name")||F(e,"name",n)),t[n]!==e&&(o&&(_(e,i)||F(e,i,t[n]?""+t[n]:a.join(String(n)))),t===y?t[n]=e:r?t[n]?t[n]=e:F(t,n,e):(delete t[n],F(t,n,e)))})(Function.prototype,n,function(){return"function"==typeof this&&this[i]||e.call(this)})}),j=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},P=function(r,o,t){if(j(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,n){return r.call(o,t,n)};case 3:return function(t,n,e){return r.call(o,t,n,e)}}return function(){return r.apply(o,arguments)}},E="prototype",T=function(t,n,e){var r,o,i,a,u=t&T.F,c=t&T.G,s=t&T.S,f=t&T.P,l=t&T.B,d=c?y:s?y[n]||(y[n]={}):(y[n]||{})[E],p=c?h:h[n]||(h[n]={}),m=p[E]||(p[E]={});for(r in c&&(e=n),e)i=((o=!u&&d&&void 0!==d[r])?d:e)[r],a=l&&o?P(i,y):f&&"function"==typeof i?P(Function.call,i):i,d&&k(d,r,i,t&T.U),p[r]!=i&&F(p,r,a),f&&m[r]!=i&&(m[r]=i)};y.core=h,T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128;var U=T,L=t(function(t){var e=c("meta"),n=b.f,r=0,o=Object.isExtensible||function(){return!0},i=!f(function(){return o(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},u=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!_(t,e)){if(!o(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!_(t,e)){if(!o(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return i&&u.NEED&&o(t)&&!_(t,e)&&a(t),t}}}),M=(L.KEY,L.NEED,L.fastKey,L.getWeak,L.onFreeze,b.f),A=r("toStringTag"),I=function(t,n,e){t&&!_(t=e?t:t.prototype,A)&&M(t,A,{configurable:!0,value:n})},N={}.toString,C=function(t){return N.call(t).slice(8,-1)},D=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==C(t)?t.split(""):Object(t)},G=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},R=function(t){return D(G(t))},W=Math.ceil,V=Math.floor,z=function(t){return isNaN(t=+t)?0:(0<t?V:W)(t)},B=Math.min,K=function(t){return 0<t?B(z(t),9007199254740991):0},H=Math.max,Y=Math.min,J=function(s){return function(t,n,e){var r,o,i,a=R(t),u=K(a.length),c=(o=u,(r=z(r=e))<0?H(r+o,0):Y(r,o));if(s&&n!=n){for(;c<u;)if((i=a[c++])!=i)return!0}else for(;c<u;c++)if((s||c in a)&&a[c]===n)return s||c||0;return!s&&-1}},q=o("keys"),X=function(t){return q[t]||(q[t]=c(t))},Q=J(!1),Z=X("IE_PROTO"),tt=function(t,n){var e,r=R(t),o=0,i=[];for(e in r)e!=Z&&_(r,e)&&i.push(e);for(;n.length>o;)_(r,e=n[o++])&&(~Q(i,e)||i.push(e));return i},nt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),et=Object.keys||function(t){return tt(t,nt)},rt={f:Object.getOwnPropertySymbols},ot={f:{}.propertyIsEnumerable},it=Array.isArray||function(t){return"Array"==C(t)},at=u?Object.defineProperties:function(t,n){a(t);for(var e,r=et(n),o=r.length,i=0;i<o;)b.f(t,e=r[i++],n[e]);return t},ut=y.document,ct=ut&&ut.documentElement,st=X("IE_PROTO"),ft=function(){},lt="prototype",dt=function(){var t,n=p("iframe"),e=nt.length;for(n.style.display="none",ct.appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),dt=t.F;e--;)delete dt[lt][nt[e]];return dt()},pt=Object.create||function(t,n){var e;return null!==t?(ft[lt]=a(t),e=new ft,ft[lt]=null,e[st]=t):e=dt(),void 0===n?e:at(e,n)},mt=nt.concat("length","prototype"),yt={f:Object.getOwnPropertyNames||function(t){return tt(t,mt)}},ht=yt.f,vt={}.toString,gt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],bt={f:function(t){return gt&&"[object Window]"==vt.call(t)?function(t){try{return ht(t)}catch(t){return gt.slice()}}(t):ht(R(t))}},St=Object.getOwnPropertyDescriptor,xt={f:u?St:function(t,n){if(t=R(t),n=v(n,!0),m)try{return St(t,n)}catch(t){}if(_(t,n))return w(!ot.f.call(t,n),t[n])}},Ot=L.KEY,_t=xt.f,wt=b.f,Ft=bt.f,kt=y.Symbol,jt=y.JSON,Pt=jt&&jt.stringify,Et="prototype",Tt=r("_hidden"),Ut=r("toPrimitive"),Lt={}.propertyIsEnumerable,Mt=o("symbol-registry"),At=o("symbols"),It=o("op-symbols"),Nt=Object[Et],Ct="function"==typeof kt,Dt=y.QObject,Gt=!Dt||!Dt[Et]||!Dt[Et].findChild,Rt=u&&f(function(){return 7!=pt(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=_t(Nt,n);r&&delete Nt[n],wt(t,n,e),r&&t!==Nt&&wt(Nt,n,r)}:wt,Wt=function(t){var n=At[t]=pt(kt[Et]);return n._k=t,n},Vt=Ct&&"symbol"==typeof kt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof kt},zt=function(t,n,e){return t===Nt&&zt(It,n,e),a(t),n=v(n,!0),a(e),_(At,n)?(e.enumerable?(_(t,Tt)&&t[Tt][n]&&(t[Tt][n]=!1),e=pt(e,{enumerable:w(0,!1)})):(_(t,Tt)||wt(t,Tt,w(1,{})),t[Tt][n]=!0),Rt(t,n,e)):wt(t,n,e)},Bt=function(t,n){a(t);for(var e,r=function(t){var n=et(t),e=rt.f;if(e)for(var r,o=e(t),i=ot.f,a=0;o.length>a;)i.call(t,r=o[a++])&&n.push(r);return n}(n=R(n)),o=0,i=r.length;o<i;)zt(t,e=r[o++],n[e]);return t},Kt=function(t){var n=Lt.call(this,t=v(t,!0));return!(this===Nt&&_(At,t)&&!_(It,t))&&(!(n||!_(this,t)||!_(At,t)||_(this,Tt)&&this[Tt][t])||n)},Ht=function(t,n){if(t=R(t),n=v(n,!0),t!==Nt||!_(At,n)||_(It,n)){var e=_t(t,n);return!e||!_(At,n)||_(t,Tt)&&t[Tt][n]||(e.enumerable=!0),e}},Yt=function(t){for(var n,e=Ft(R(t)),r=[],o=0;e.length>o;)_(At,n=e[o++])||n==Tt||n==Ot||r.push(n);return r},Jt=function(t){for(var n,e=t===Nt,r=Ft(e?It:R(t)),o=[],i=0;r.length>i;)!_(At,n=r[i++])||e&&!_(Nt,n)||o.push(At[n]);return o};Ct||(k((kt=function(){if(this instanceof kt)throw TypeError("Symbol is not a constructor!");var n=c(0<arguments.length?arguments[0]:void 0),e=function(t){this===Nt&&e.call(It,t),_(this,Tt)&&_(this[Tt],n)&&(this[Tt][n]=!1),Rt(this,n,w(1,t))};return u&&Gt&&Rt(Nt,n,{configurable:!0,set:e}),Wt(n)})[Et],"toString",function(){return this._k}),xt.f=Ht,b.f=zt,yt.f=bt.f=Yt,ot.f=Kt,rt.f=Jt,u&&k(Nt,"propertyIsEnumerable",Kt,!0),i.f=function(t){return Wt(r(t))}),U(U.G+U.W+U.F*!Ct,{Symbol:kt});for(var qt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Xt=0;qt.length>Xt;)r(qt[Xt++]);for(var Qt=et(r.store),Zt=0;Qt.length>Zt;)x(Qt[Zt++]);U(U.S+U.F*!Ct,"Symbol",{for:function(t){return _(Mt,t+="")?Mt[t]:Mt[t]=kt(t)},keyFor:function(t){if(!Vt(t))throw TypeError(t+" is not a symbol!");for(var n in Mt)if(Mt[n]===t)return n},useSetter:function(){Gt=!0},useSimple:function(){Gt=!1}}),U(U.S+U.F*!Ct,"Object",{create:function(t,n){return void 0===n?pt(t):Bt(pt(t),n)},defineProperty:zt,defineProperties:Bt,getOwnPropertyDescriptor:Ht,getOwnPropertyNames:Yt,getOwnPropertySymbols:Jt}),jt&&U(U.S+U.F*(!Ct||f(function(){var t=kt();return"[null]"!=Pt([t])||"{}"!=Pt({a:t})||"{}"!=Pt(Object(t))})),"JSON",{stringify:function(t){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(e=n=r[1],(s(n)||void 0!==t)&&!Vt(t))return it(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!Vt(n))return n}),r[1]=n,Pt.apply(jt,r)}}),kt[Et][Ut]||F(kt[Et],Ut,kt[Et].valueOf),I(kt,"Symbol"),I(Math,"Math",!0),I(y.JSON,"JSON",!0);var $t=r("unscopables"),tn=Array.prototype;null==tn[$t]&&F(tn,$t,{});var nn=function(t){tn[$t][t]=!0},en=function(t,n){return{value:n,done:!!t}},rn={},on={};F(on,r("iterator"),function(){return this});var an=function(t){return Object(G(t))},un=X("IE_PROTO"),cn=Object.prototype,sn=Object.getPrototypeOf||function(t){return t=an(t),_(t,un)?t[un]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?cn:null},fn=r("iterator"),ln=!([].keys&&"next"in[].keys()),dn="values",pn=function(){return this},mn=function(t,n,e,r,o,i,a){var u,c,s;c=n,s=r,(u=e).prototype=pt(on,{next:w(1,s)}),I(u,c+" Iterator");var f,l,d,p=function(t){if(!ln&&t in v)return v[t];switch(t){case"keys":case dn:return function(){return new e(this,t)}}return function(){return new e(this,t)}},m=n+" Iterator",y=o==dn,h=!1,v=t.prototype,g=v[fn]||v["@@iterator"]||o&&v[o],b=g||p(o),S=o?y?p("entries"):b:void 0,x="Array"==n&&v.entries||g;if(x&&(d=sn(x.call(new t)))!==Object.prototype&&d.next&&(I(d,m,!0),"function"!=typeof d[fn]&&F(d,fn,pn)),y&&g&&g.name!==dn&&(h=!0,b=function(){return g.call(this)}),(ln||h||!v[fn])&&F(v,fn,b),rn[n]=b,rn[m]=pn,o)if(f={values:y?b:p(dn),keys:i?b:p("keys"),entries:S},a)for(l in f)l in v||k(v,l,f[l]);else U(U.P+U.F*(ln||h),n,f);return f}(Array,"Array",function(t,n){this._t=R(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,en(1)):en(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values");rn.Arguments=rn.Array,nn("keys"),nn("values"),nn("entries");for(var yn=r("iterator"),hn=r("toStringTag"),vn=rn.Array,gn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},bn=et(gn),Sn=0;Sn<bn.length;Sn++){var xn,On=bn[Sn],_n=gn[On],wn=y[On],Fn=wn&&wn.prototype;if(Fn&&(Fn[yn]||F(Fn,yn,vn),Fn[hn]||F(Fn,hn,On),rn[On]=vn,_n))for(xn in mn)Fn[xn]||k(Fn,xn,mn[xn],!0)}var kn,jn,Pn,En,Tn,Un,Ln,Mn,An,In=r("species"),Nn=function(t,n){return!!t&&f(function(){n?t.call(null,function(){},1):t.call(null)})},Cn=(Pn=1==(kn=2),En=2==kn,Tn=3==kn,Un=4==kn,Ln=6==kn,Mn=5==kn||Ln,An=jn||function(t,n){return it(e=t)&&("function"!=typeof(r=e.constructor)||r!==Array&&!it(r.prototype)||(r=void 0),s(r)&&null===(r=r[In])&&(r=void 0)),new(void 0===r?Array:r)(n);var e,r},function(t,n,e){for(var r,o,i=an(t),a=D(i),u=P(n,e,3),c=K(a.length),s=0,f=Pn?An(t,c):En?An(t,0):void 0;s<c;s++)if((Mn||s in a)&&(o=u(r=a[s],s,i),kn))if(Pn)f[s]=o;else if(o)switch(kn){case 3:return!0;case 5:return r;case 6:return s;case 2:f.push(r)}else if(Un)return!1;return Ln?-1:Tn||Un?Un:f});U(U.P+U.F*!Nn([].filter,!0),"Array",{filter:function(t){return Cn(this,t,arguments[1])}});var Dn=b.f,Gn=Function.prototype,Rn=/^\s*function ([^ (]*)/;"name"in Gn||u&&Dn(Gn,"name",{configurable:!0,get:function(){try{return(""+this).match(Rn)[1]}catch(t){return""}}});var Wn=[].sort,Vn=[1,2,3];U(U.P+U.F*(f(function(){Vn.sort(void 0)})||!f(function(){Vn.sort(null)})||!Nn(Wn)),"Array",{sort:function(t){return void 0===t?Wn.call(an(this)):Wn.call(an(this),j(t))}});var zn,Bn,Kn=/"/g;(Bn={})[zn="link"]=function(n){return function(t){return n(this,"a","href",t)}}(function(t,n,e,r){var o=String(G(t)),i="<"+n;return""!==e&&(i+=" "+e+'="'+String(r).replace(Kn,"&quot;")+'"'),i+">"+o+"</"+n+">"}),U(U.P+U.F*f(function(){var t=""[zn]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",Bn);var Hn={aspectRatio:16/14,width:1090,margin:{top:10,right:10,bottom:10,left:10}};function Yn(t,o,n){var e=Hn,r=e.width,i=Math.ceil(r/e.aspectRatio),a=e.innerHeight=i-e.margin.top-e.margin.bottom,u=e.innerWidth=r-e.margin.left-e.margin.right,c=t.select("g.margin-offset"),s=c.select(".data");e.innerHeight=i-e.margin.top-e.margin.bottom;var f=d3.format(",.0f"),l=function(t){return f(t)},d=d3.sankey().size([u,a]),p=d.link();t.attr("viewBox","0 0 "+r+" "+i).attr("preserveAspectRatio","xMidYMid meet").attr("role","img").attr("aria-label",e.altText),c.empty()&&(c=t.append("g").attr("class","margin-offset").attr("transform","translate("+e.margin.left+","+e.margin.top+")")),d3.stcExt.addIEShim(t,i,r),function(t){d.nodes(o).links(t.links).layout(32);var e=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);s.empty()&&(s=c.append("g").attr("class","data"));var n=s.append("g").selectAll(".link").data(t.links).enter().append("path").attr("class","link").attr("d",p).style("stroke-width",function(t){return Math.max(1,t.dy)}).style("opacity",function(t){if(0===t.value)return 0}).sort(function(t,n){return n.dy-t.dy}).on("mousemove",function(t){var n=t.source.name;e.transition().style("opacity",.9),e.html("<b>"+i18next.t(n,{ns:"modes"})+"</b><br><br><table><tr><td>"+i18next.t(t.target.name,{ns:"modes"})+": </td><td style='padding: 5px 10px 5px 5px;'><b>"+l(t.value)+" people</td></tr></table>").style("left",d3.event.pageX+"px").style("top",d3.event.pageY-90+"px")}).on("mouseout",function(t){e.transition().style("opacity",0)});if(0!==t.links.length){var r=s.append("g").selectAll(".node").data(o).enter().append("g").attr("class",function(t){return"node "+t.name}).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.drag().subject(function(t){return t}).on("start",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(a-t.dy,d3.event.y)))+")"),d.relayout(),n.attr("d",p)}));r.on("mousemove",function(t){e.transition().style("opacity",.9),e.html("<b>"+i18next.t(t.name,{ns:"modes"})+"</b><br><br><table><tr><td>Total:</td><td style='padding: 5px 10px 5px 5px;'><b>"+l(t.value)+" people</td></tr></table>").style("left",d3.event.pageX+"px").style("top",d3.event.pageY-90+"px")}).on("mouseout",function(t){e.transition().style("opacity",0)}),r.append("rect").attr("height",function(t){return t.dy}).attr("width",d.nodeWidth()).style("stroke",function(t){return d3.rgb(t.color).darker(2)}).text(function(t){return i18next.t(t.name,{ns:"modes"})+"\n"+l(t.value)}),r.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){if(0!=t.value)return i18next.t(t.name,{ns:"modes"})}).filter(function(t){return t.x<u/2}).attr("x",6+d.nodeWidth()).attr("text-anchor","start")}}(n)}var Jn=J(!1),qn=[].indexOf,Xn=!!qn&&1/[1].indexOf(1,-0)<0;U(U.P+U.F*(Xn||!Nn(qn)),"Array",{indexOf:function(t){return Xn?qn.apply(this,arguments)||0:Jn(this,t,arguments[1])}});var Qn={alt:i18next.t("alt",{ns:"modes"}),tableTitle:i18next.t("alt",{ns:"modes"}),margin:{top:50,left:80,bottom:50},filterData:function(t){return t},y:{getValue:function(t,n){if("string"==typeof t[n]||t[n]instanceof String){if(t.targetLinks[0])return"USres_car"!==t.name&&"USres_bus"!==t.name&&"USres_train"!==t.name&&"USres_other"!==t.name?"cdnFromUS_car"!==t.name&&"cdnFromUS_bus"!==t.name&&"cdnFromUS_train"!==t.name&&"cdnFromUS_other"!==t.name?i18next.t(t.targetLinks[0].source.name,{ns:"modes"})+", "+i18next.t(t[n],{ns:"modes"}):i18next.t("cdnFromUS",{ns:"modes"})+", "+i18next.t(t[n],{ns:"modes"}):i18next.t("USres",{ns:"modes"})+", "+i18next.t(t[n],{ns:"modes"});else if("cdnFromOther_land"===t.name)return i18next.t("cdnFromOther",{ns:"modes"})+", "+i18next.t(t[n],{ns:"modes"});return i18next.t(t[n],{ns:"modes"})}return t[n]}},z:{getId:function(t){return t.name},getKeys:function(t){var n=["name","value"];return-1!==n.indexOf(this.y.totalProperty)&&n.splice(n.indexOf(this.y.totalProperty),1),n},getKeyText:function(t){return i18next.t(t,{ns:"modes_sankey"})},getText:function(t){return i18next.t(t.name,{ns:"modes"})}},datatable:!0,width:200},Zn="Canada",$n="01",te="2018",ne={},ee=[{node:0,name:"intl"},{node:1,name:"USres"},{node:2,name:"nonUSres"},{node:3,name:"cdnFromUS"},{node:4,name:"cdnFromOther"},{node:5,name:"USres_air"},{node:6,name:"USres_marine"},{node:7,name:"USres_land"},{node:8,name:"nonUSres_air"},{node:9,name:"nonUSres_marine"},{node:10,name:"nonUSres_land"},{node:11,name:"cdnFromUS_air"},{node:12,name:"cdnFromUS_marine"},{node:13,name:"cdnFromUS_land"},{node:14,name:"cdnFromOther_air"},{node:15,name:"cdnFromOther_marine"},{node:16,name:"cdnFromOther_land"},{node:17,name:"USres_car"},{node:18,name:"USres_bus"},{node:19,name:"USres_train"},{node:20,name:"USres_other"},{node:21,name:"cdnFromUS_car"},{node:22,name:"cdnFromUS_bus"},{node:23,name:"cdnFromUS_train"},{node:24,name:"cdnFromUS_other"}],re=d3.select("#sankeyGraph").append("svg").attr("id","svg_sankeyChart"),oe=d3.select(".tabledata");function ie(){d3.selectAll("svg > *").remove(),Yn(re,ee,ne[te+"-"+$n][Zn]),drawTable(oe,Qn,ee),ae()}function ae(){var t=i18next.t(Zn,{ns:"modesGeography"}),n=i18next.t($n,{ns:"modesMonth"}),e=i18next.t("tableTitle",{ns:"modes_sankey"})+" "+t+" in "+n+" "+te+", by type of transport";d3.select("#only-dt-tbl").text(e)}function ue(t){var n={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){n[e]={};var r=!0,o=!(n[e].links=[]),i=void 0;try{for(var a,u=t[e][Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;0!==c.value&&n[e].links.push(c)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}return n}i18n.load(["src/i18n"],function(){d3.queue().defer(d3.json,"data/modes/"+te+"-"+$n+".json").await(function(t,n){ne[te+"-"+$n]=ue(n),Yn(re,ee,ne[te+"-"+$n][Zn]),drawTable(oe,Qn,ee),ae()})}),$(document).on("change",function(t){if("groups"===t.target.id||"month"===t.target.id||"year"===t.target.id)if(Zn=document.getElementById("groups").value,$n=document.getElementById("month").value,te=document.getElementById("year").value,ne[te+"-"+$n]){var n=i18next.t($n,{ns:"modesMonth"});0===ne[te+"-"+$n][Zn].links.length&&(d3.selectAll("svg > *").remove(),d3.select("#zeroFlag").text("Zero international travellers for ".concat(Zn,",\n              ").concat(n," ").concat(te))),ie()}else d3.json("data/modes/"+te+"-"+$n+".json",function(t,n){ne[te+"-"+$n]=ue(n),ie()})})}();