!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var y=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),v=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),d=(v.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),T=function(t){if(!d(t))throw TypeError(t+" is not an object!");return t},u=function(t){try{return!!t()}catch(t){return!0}},e=!u(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),n=y.document,r=d(n)&&d(n.createElement),i=function(t){return r?n.createElement(t):{}},o=!e&&!u(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}),f=function(t,e){if(!d(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!d(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!d(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!d(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},a=Object.defineProperty,s={f:e?Object.defineProperty:function(t,e,n){if(T(t),e=f(e,!0),T(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},C=e?function(t,e,n){return s.f(t,e,O(1,n))}:function(t,e,n){return t[e]=n,t},c={}.hasOwnProperty,l=function(t,e){return c.call(t,e)},p=0,h=Math.random(),g=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++p+h).toString(36))},w=t(function(t){var o=g("src"),e="toString",n=Function[e],a=(""+n).split(e);v.inspectSource=function(t){return n.call(t)},(t.exports=function(t,e,n,r){var i="function"==typeof n;i&&(l(n,"name")||C(n,"name",e)),t[e]!==n&&(i&&(l(n,o)||C(n,o,t[e]?""+t[e]:a.join(String(e)))),t===y?t[e]=n:r?t[e]?t[e]=n:C(t,e,n):(delete t[e],C(t,e,n)))})(Function.prototype,e,function(){return"function"==typeof this&&this[o]||n.call(this)})}),N=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},b=function(r,i,t){if(N(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}},m="prototype",x=function(t,e,n){var r,i,o,a,s=t&x.F,c=t&x.G,l=t&x.S,u=t&x.P,f=t&x.B,p=c?y:l?y[e]||(y[e]={}):(y[e]||{})[m],d=c?v:v[e]||(v[e]={}),h=d[m]||(d[m]={});for(r in c&&(n=e),n)o=((i=!s&&p&&void 0!==p[r])?p:n)[r],a=f&&i?b(o,y):u&&"function"==typeof o?b(Function.call,o):o,p&&w(p,r,o,t&x.U),d[r]!=o&&C(d,r,a),u&&h[r]!=o&&(h[r]=o)};y.core=v,x.F=1,x.G=2,x.S=4,x.P=8,x.B=16,x.W=32,x.U=64,x.R=128;var S=x,A={}.toString,E=function(t){return A.call(t).slice(8,-1)},_=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==E(t)?t.split(""):Object(t)},j=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},k=function(t){return Object(j(t))},I=Math.ceil,L=Math.floor,F=function(t){return isNaN(t=+t)?0:(0<t?L:I)(t)},P=Math.min,M=function(t){return 0<t?P(F(t),9007199254740991):0},R=Array.isArray||function(t){return"Array"==E(t)},D=t(function(t){var e="__core-js_shared__",n=y[e]||(y[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:v.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),B=t(function(t){var e=D("wks"),n=y.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:g)("Symbol."+t))}).store=e}),V=B("species"),H=function(t,e){return R(n=t)&&("function"!=typeof(r=n.constructor)||r!==Array&&!R(r.prototype)||(r=void 0),d(r)&&null===(r=r[V])&&(r=void 0)),new(void 0===r?Array:r)(e);var n,r},G=function(f,t){var p=1==f,d=2==f,h=3==f,y=4==f,v=6==f,g=5==f||v,m=t||H;return function(t,e,n){for(var r,i,o=k(t),a=_(o),s=b(e,n,3),c=M(a.length),l=0,u=p?m(t,c):d?m(t,0):void 0;l<c;l++)if((g||l in a)&&(i=s(r=a[l],l,o),f))if(p)u[l]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return l;case 2:u.push(r)}else if(y)return!1;return v?-1:h||y?y:u}},z=function(t,e){return!!t&&u(function(){e?t.call(null,function(){},1):t.call(null)})},U=G(2);S(S.P+S.F*!z([].filter,!0),"Array",{filter:function(t){return U(this,t,arguments[1])}});var X={f:{}.propertyIsEnumerable},Y=function(t){return _(j(t))},W=Object.getOwnPropertyDescriptor,q={f:e?W:function(t,e){if(t=Y(t),e=f(e,!0),o)try{return W(t,e)}catch(t){}if(l(t,e))return O(!X.f.call(t,e),t[e])}},J=function(t,e){if(T(t),!d(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},K={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=b(Function.call,q.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return J(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:J}.set,Q=Math.max,Z=Math.min,tt=function(l){return function(t,e,n){var r,i,o,a=Y(t),s=M(a.length),c=(i=s,(r=F(r=n))<0?Q(r+i,0):Z(r,i));if(l&&e!=e){for(;c<s;)if((o=a[c++])!=o)return!0}else for(;c<s;c++)if((l||c in a)&&a[c]===e)return l||c||0;return!l&&-1}},et=D("keys"),nt=function(t){return et[t]||(et[t]=g(t))},rt=tt(!1),it=nt("IE_PROTO"),ot=function(t,e){var n,r=Y(t),i=0,o=[];for(n in r)n!=it&&l(r,n)&&o.push(n);for(;e.length>i;)l(r,n=e[i++])&&(~rt(o,n)||o.push(n));return o},at="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),st=at.concat("length","prototype"),ct={f:Object.getOwnPropertyNames||function(t){return ot(t,st)}},lt="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",ut="["+lt+"]",ft=RegExp("^"+ut+ut+"*"),pt=RegExp(ut+ut+"*$"),dt=function(t,e,n){var r={},i=u(function(){return!!lt[t]()||"​"!="​"[t]()}),o=r[t]=i?e(ht):lt[t];n&&(r[n]=o),S(S.P+S.F*i,"String",r)},ht=dt.trim=function(t,e){return t=String(j(t)),1&e&&(t=t.replace(ft,"")),2&e&&(t=t.replace(pt,"")),t},yt=dt,vt=Object.keys||function(t){return ot(t,at)},gt=e?Object.defineProperties:function(t,e){T(t);for(var n,r=vt(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t},mt=y.document,bt=mt&&mt.documentElement,xt=nt("IE_PROTO"),At=function(){},Ot="prototype",Ct=function(){var t,e=i("iframe"),n=at.length;for(e.style.display="none",bt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Ct=t.F;n--;)delete Ct[Ot][at[n]];return Ct()},Tt=Object.create||function(t,e){var n;return null!==t?(At[Ot]=T(t),n=new At,At[Ot]=null,n[xt]=t):n=Ct(),void 0===e?n:gt(n,e)},wt=ct.f,Nt=q.f,St=s.f,Et=yt.trim,_t="Number",jt=y[_t],kt=jt,It=jt.prototype,Lt=E(Tt(It))==_t,Ft="trim"in String.prototype,Pt=function(t){var e=f(t,!1);if("string"==typeof e&&2<e.length){var n,r,i,o=(e=Ft?e.trim():Et(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,s=e.slice(2),c=0,l=s.length;c<l;c++)if((a=s.charCodeAt(c))<48||i<a)return NaN;return parseInt(s,r)}}return+e};if(!jt(" 0o1")||!jt("0b1")||jt("+0x1")){jt=function(t){var e,n,r,i,o=arguments.length<1?0:t,a=this;return a instanceof jt&&(Lt?u(function(){It.valueOf.call(a)}):E(a)!=_t)?(e=new kt(Pt(o)),n=jt,(i=a.constructor)!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&d(r)&&K&&K(e,r),e):Pt(o)};for(var Mt,Rt=e?wt(kt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Dt=0;Rt.length>Dt;Dt++)l(kt,Mt=Rt[Dt])&&!l(jt,Mt)&&St(jt,Mt,Nt(kt,Mt));(jt.prototype=It).constructor=jt,w(y,_t,jt)}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ht=B("unscopables"),Gt=Array.prototype;null==Gt[Ht]&&C(Gt,Ht,{});var zt=function(t){Gt[Ht][t]=!0},Ut=function(t,e){return{value:e,done:!!t}},$t={},Xt=s.f,Yt=B("toStringTag"),Wt=function(t,e,n){t&&!l(t=n?t:t.prototype,Yt)&&Xt(t,Yt,{configurable:!0,value:e})},qt={};C(qt,B("iterator"),function(){return this});var Jt=nt("IE_PROTO"),Kt=Object.prototype,Qt=Object.getPrototypeOf||function(t){return t=k(t),l(t,Jt)?t[Jt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Kt:null},Zt=B("iterator"),te=!([].keys&&"next"in[].keys()),ee="values",ne=function(){return this},re=function(t,e,n,r,i,o,a){var s,c,l;c=e,l=r,(s=n).prototype=Tt(qt,{next:O(1,l)}),Wt(s,c+" Iterator");var u,f,p,d=function(t){if(!te&&t in g)return g[t];switch(t){case"keys":case ee:return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",y=i==ee,v=!1,g=t.prototype,m=g[Zt]||g["@@iterator"]||i&&g[i],b=m||d(i),x=i?y?d("entries"):b:void 0,A="Array"==e&&g.entries||m;if(A&&(p=Qt(A.call(new t)))!==Object.prototype&&p.next&&(Wt(p,h,!0),"function"!=typeof p[Zt]&&C(p,Zt,ne)),y&&m&&m.name!==ee&&(v=!0,b=function(){return m.call(this)}),(te||v||!g[Zt])&&C(g,Zt,b),$t[e]=b,$t[h]=ne,i)if(u={values:y?b:d(ee),keys:o?b:d("keys"),entries:x},a)for(f in u)f in g||w(g,f,u[f]);else S(S.P+S.F*(te||v),e,u);return u},ie=re(Array,"Array",function(t,e){this._t=Y(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ut(1)):Ut(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");$t.Arguments=$t.Array,zt("keys"),zt("values"),zt("entries");for(var oe=B("iterator"),ae=B("toStringTag"),se=$t.Array,ce={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},le=vt(ce),ue=0;ue<le.length;ue++){var fe,pe=le[ue],de=ce[pe],he=y[pe],ye=he&&he.prototype;if(ye&&(ye[oe]||C(ye,oe,se),ye[ae]||C(ye,ae,pe),$t[pe]=se,de))for(fe in ie)ye[fe]||w(ye,fe,ie[fe],!0)}var ve=X.f,ge=function(s){return function(t){for(var e,n=Y(t),r=vt(n),i=r.length,o=0,a=[];o<i;)ve.call(n,e=r[o++])&&a.push(s?[e,n[e]]:n[e]);return a}},me=ge(!0);S(S.S,"Object",{entries:function(t){return me(t)}});var be=tt(!1),xe=[].indexOf,Ae=!!xe&&1/[1].indexOf(1,-0)<0;S(S.P+S.F*(Ae||!z(xe)),"Array",{indexOf:function(t){return Ae?xe.apply(this,arguments)||0:be(this,t,arguments[1])}});var Oe,Ce,Te=B("match"),we=B("species"),Ne=function(s){return function(t,e){var n,r,i=String(j(t)),o=F(e),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}},Se=Ne(!0),Ee=B("toStringTag"),_e="Arguments"==E(function(){return arguments}()),je=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ee))?n:_e?E(e):"Object"==(r=E(e))&&"function"==typeof e.callee?"Arguments":r},ke=RegExp.prototype.exec,Ie=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==je(t))throw new TypeError("RegExp#exec called on incompatible receiver");return ke.call(t,e)},Le=RegExp.prototype.exec,Fe=String.prototype.replace,Pe=Le,Me="lastIndex",Re=(Oe=/a/,Ce=/b*/g,Le.call(Oe,"a"),Le.call(Ce,"a"),0!==Oe[Me]||0!==Ce[Me]),De=void 0!==/()??/.exec("")[1];(Re||De)&&(Pe=function(t){var e,n,r,i,o=this;return De&&(n=new RegExp("^"+o.source+"$(?!\\s)",function(){var t=T(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(o))),Re&&(e=o[Me]),r=Le.call(o,t),Re&&r&&(o[Me]=o.global?r.index+r[0].length:e),De&&r&&1<r.length&&Fe.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var Be=Pe;S({target:"RegExp",proto:!0,forced:Be!==/./.exec},{exec:Be});var Ve=B("species"),He=!u(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Ge=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),ze=Math.min,Ue=[].push,$e="split",Xe="length",Ye="lastIndex",We=4294967295,qe=!u(function(){});!function(n,t,e){var r=B(n),o=!u(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),i=o?!u(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[Ve]=function(){return e}),e[r](""),!t}):void 0;if(!o||!i||"replace"===n&&!He||"split"===n&&!Ge){var a=/./[r],s=e(j,r,""[n],function(t,e,n,r,i){return e.exec===Be?o&&!i?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),c=s[0],l=s[1];w(String.prototype,n,c),C(RegExp.prototype,r,2==t?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}}("split",2,function(i,o,A,O){var C;return C="c"=="abbc"[$e](/(b)*/)[1]||4!="test"[$e](/(?:)/,-1)[Xe]||2!="ab"[$e](/(?:ab)*/)[Xe]||4!="."[$e](/(.?)(.?)/)[Xe]||1<"."[$e](/()()/)[Xe]||""[$e](/.?/)[Xe]?function(t,e){var n,r,i=String(this);if(void 0===t&&0===e)return[];if(!d(n=t)||(void 0!==(r=n[Te])?!r:"RegExp"!=E(n)))return A.call(i,t,e);for(var o,a,s,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=void 0===e?We:e>>>0,p=new RegExp(t.source,l+"g");(o=Be.call(p,i))&&!(u<(a=p[Ye])&&(c.push(i.slice(u,o.index)),1<o[Xe]&&o.index<i[Xe]&&Ue.apply(c,o.slice(1)),s=o[0][Xe],u=a,c[Xe]>=f));)p[Ye]===o.index&&p[Ye]++;return u===i[Xe]?!s&&p.test("")||c.push(""):c.push(i.slice(u)),c[Xe]>f?c.slice(0,f):c}:"0"[$e](void 0,0)[Xe]?function(t,e){return void 0===t&&0===e?[]:A.call(this,t,e)}:A,[function(t,e){var n=i(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):C.call(String(n),t,e)},function(t,e){var n=O(C,t,this,e,C!==A);if(n.done)return n.value;var r,i,o,a=T(t),s=String(this),c=(r=RegExp,void 0===(o=T(a).constructor)||null==(i=T(o)[we])?r:N(i)),l=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(qe?"y":"g"),f=new c(qe?a:"^(?:"+a.source+")",u),p=void 0===e?We:e>>>0;if(0===p)return[];if(0===s.length)return null===Ie(f,s)?[s]:[];for(var d,h,y=0,v=0,g=[];v<s.length;){f.lastIndex=qe?v:0;var m,b=Ie(f,qe?s:s.slice(v));if(null===b||(m=ze(M(f.lastIndex+(qe?0:v)),s.length))===y)d=s,v=(h=v)+(l?Se(d,h).length:1);else{if(g.push(s.slice(y,v)),g.length===p)return g;for(var x=1;x<=b.length-1;x++)if(g.push(b[x]),g.length===p)return g;v=y=m}}return g.push(s.slice(y)),g}]});var Je,Ke,Qe,Ze;Je="keys",Ke=function(){return function(t){return vt(k(t))}},Qe=(v.Object||{})[Je]||Object[Je],(Ze={})[Je]=Ke(Qe),S(S.S+S.F*u(function(){Qe(1)}),"Object",Ze);var tn=G(1);S(S.P+S.F*!z([].map,!0),"Array",{map:function(t){return tn(this,t,arguments[1])}});var en={alt:i18next.t("alt",{ns:"roadArea"}),ns:"roadArea",margin:{top:50,left:130,right:30,bottom:50},aspectRatio:16/11,filterData:function(t){var e=!1;if(t.map(function(t){t.isLast&&(e=e||!0)}),!e){t.push({date:new Date(t[t.length-1].date,0,10,0,0,0,0),diesel:t[t.length-1].diesel,gas:t[t.length-1].gas,lpg:t[t.length-1].lpg,total:t[t.length-1].total,isLast:!0})}return t},x:{label:i18next.t("x_label",{ns:"roadArea"}),getValue:function(t,e){return new Date(t.date)},getText:function(t){return t.date},ticks:8,tickSizeOuter:0},y:{label:i18next.t("y_label",{ns:"roadArea"}),getValue:function(t,e){return"string"==typeof t[e]||t[e]instanceof String?0:1*t[e]/1},getTotal:function(t,e,n){var r,i,o=this;if(!t[o.y.totalProperty]){i=o.z.getKeys.call(o,n);for(var a=r=0;a<i.length;a++)r+=1*o.y.getValue.call(o,t,i[a],n);t[o.y.totalProperty]=r}return isNaN(Number(t[o.y.totalProperty]))?0:1*Number(t[o.y.totalProperty])/1},getText:function(t,e){if(!t.isLast)return isNaN(Number(t[e]))?t[e]:this.formatNum(Number(t[e]))},getTickText:function(t){return this.formatNum(t)},ticks:5,tickSizeOuter:0},z:{label:i18next.t("z_label",{ns:"roadArea"}),getId:function(t){if("isLast"!==t.key)return t.key},getKeys:function(t){var e=Object.keys(t[0]);return e.splice(e.indexOf("date"),1),-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),-1!==e.indexOf("isLast")&&e.splice(e.indexOf("isLast"),1),e},origData:function(t){var e=t.slice(0,-1);return e},getClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.z.getId.apply(this,e)},getText:function(t){return i18next.t(t.key,{ns:"roadArea"})}},datatable:!0,tableTitle:"",dataTableTotal:!0,transition:!1,width:1050},nn=Ne(!0);re(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=nn(e,n),this._i+=t.length,{value:t,done:!1})});var rn=function(e,t,n,r){try{return r?t(T(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&T(i.call(e)),t}},on=B("iterator"),an=Array.prototype,sn=function(t,e,n){e in t?s.f(t,e,O(0,n)):t[e]=n},cn=B("iterator"),ln=v.getIteratorMethod=function(t){if(null!=t)return t[cn]||t["@@iterator"]||$t[je(t)]},un=B("iterator"),fn=!1;try{[7][un]().return=function(){fn=!0}}catch(t){}S(S.S+S.F*!function(t,e){if(!e&&!fn)return!1;var n=!1;try{var r=[7],i=r[un]();i.next=function(){return{done:n=!0}},r[un]=function(){return i},t(r)}catch(t){}return n}(function(t){}),"Array",{from:function(t){var e,n,r,i,o,a=k(t),s="function"==typeof this?this:Array,c=arguments.length,l=1<c?arguments[1]:void 0,u=void 0!==l,f=0,p=ln(a);if(u&&(l=b(l,2<c?arguments[2]:void 0,2)),null!=p&&(s!=Array||(void 0===(o=p)||$t.Array!==o&&an[on]!==o)))for(i=p.call(a),n=new s;!(r=i.next()).done;f++)sn(n,f,u?rn(i,l,[r.value,f],!0):r.value);else for(n=new s(e=M(a.length));f<e;f++)sn(n,f,u?l(a[f],f):a[f]);return n.length=f,n}});var pn=[].sort,dn=[1,2,3];S(S.P+S.F*(u(function(){dn.sort(void 0)})||!u(function(){dn.sort(null)})||!z(pn)),"Array",{sort:function(t){return void 0===t?pn.call(k(this)):pn.call(k(this),N(t))}});var hn=ge(!1);S(S.S,"Object",{values:function(t){return hn(t)}});var yn=[].slice,vn={},gn=Function.bind||function(e){var n=N(this),r=yn.call(arguments,1),i=function(){var t=r.concat(yn.call(arguments));return this instanceof i?function(t,e,n){if(!(e in vn)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";vn[e]=Function("F,a","return new F("+r.join(",")+")")}return vn[e](t,n)}(n,t.length,t):function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}(n,t,e)};return d(n.prototype)&&(i.prototype=n.prototype),i};S(S.P,"Function",{bind:gn});var mn=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.pNode=t||document.createElement("div"),this.options=e||{},this.nodes={},this.data=null,this.instanceNumber=++n.n,this.class=this.options.class||""}var t,e,r;return t=n,(e=[{key:"build",value:function(t){t&&(this.options=t),t.pNode&&(this.pNode=t.pNode),t.class&&(this.class=t.class),this.root=document.createElement("div"),this.root.setAttribute("class","copy-button button-"+this.instanceNumber+" "+this.class),this.pNode.appendChild(this.root),this.nodes.btnCopy=document.createElement("button"),this.nodes.btnCopy.setAttribute("type","button"),this.nodes.btnCopy.setAttribute("class","btn btn-primary copy button-"+this.instanceNumber+" "+this.class),this.nodes.btnCopy.setAttribute("title",this.options.title||""),this.root.appendChild(this.nodes.btnCopy);var e=document.createElement("span");e.setAttribute("class","fa fa-clipboard clipboard button-"+this.instanceNumber+" "+this.class),this.nodes.btnCopy.appendChild(e);var n=document.createElement("span");n.setAttribute("class","wb-inv button-"+this.instanceNumber+" "+this.class),n.innerHTML=this.options.accessibility||"",this.nodes.btnCopy.appendChild(n),this.nodes.msgCopyConfirm=document.createElement("div"),this.nodes.msgCopyConfirm.setAttribute("class","copy-confirm button-"+this.instanceNumber+" "+this.class),this.nodes.msgCopyConfirm.setAttribute("aria-live","polite"),this.nodes.msgCopyConfirm.innerHTML=this.options.msgCopyConfirm||"",this.root.appendChild(this.nodes.msgCopyConfirm),this.nodes.btnCopy.addEventListener("click",this.onBtnClick.bind(this))}},{key:"onBtnClick",value:function(t){this.copyData(this.data)}},{key:"copyData",value:function(t){var e=t||[];this.clipboard(this.toCSV("\t",e),this.root),this.fade(this.nodes.msgCopyConfirm,!0),setTimeout(function(t){this.fade(this.nodes.msgCopyConfirm,!1)}.bind(this),1500)}},{key:"toCSV",value:function(e,t){return t.map(function(t){return t.join(e)}).join("\r\n")}},{key:"clipboard",value:function(t,e){if(this.isIE())window.clipboardData.setData("Text",t);else{var n=document.createElement("textarea");n.textContent=t,e.appendChild(n),n.select(),document.execCommand("copy"),e.removeChild(n)}}},{key:"fade",value:function(t,e){var n=["copy-confirm button-"+this.instanceNumber+" "+this.class],r=e?"fadeIn":"fadeOut";n.push(r),t.setAttribute("class",n.join(" "))}},{key:"appendTo",value:function(t){this.pNode=t,this.pNode.appendChild(this.root),this.nodes.msgCopyConfirm.setAttribute("class","copy-confirm button-"+this.instanceNumber+" "+this.class)}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return 0<r&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}}])&&Bt(t.prototype,e),r&&Bt(t,r),n}();mn.n=0;var bn,xn={},An={},On={},Cn="CANADA",Tn="2017",wn=1.5,Nn=function(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,r;e=i,r=o[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return i}({},en,{_selfFormatter:i18n.getNumberFormatter(0),formatNum:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._selfFormatter.format(e)}}),Sn=new mn,En=d3.select(".data").append("svg").attr("id","svgFuel"),_n=d3.select(".dashboard .map").append("svg"),jn=570-20-0,kn=150-20-10,In=d3.select("#mapColourScale").select("svg").attr("class","mapCB").attr("width",jn).attr("height",kn).style("vertical-align","middle"),Ln=d3.select("#areaLegend").select("svg").attr("class","roadAreaCB").attr("width",650).attr("height",kn).style("vertical-align","middle");d3.stcExt.addIEShim(_n,387.1,457.5),d3.stcExt.addIEShim(In,kn,jn),d3.stcExt.addIEShim(Ln,kn,650);var Fn=d3.select("body").append("div").attr("class","tooltip").style("opacity",0),Pn=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);function Mn(){var t=[];t.push(On[Tn]);var e=["#AFE2FF","#72C2FF","#bc9dff","#894FFF","#5D0FBC"],n=function(t,e,n){var r,i=e.slice(-1)[0],o=t[0],a=[];(a=Object.values(o)).sort(function(t,e){return t-e}),r=d3.extent(a);var s=d3.scaleQuantize().domain([r[0],r[1]]).range(e.slice(0,n)),c=function(t){o.hasOwnProperty(t)&&d3.select(".dashboard .map").select("."+t).style("fill",function(){return Number(o[t])?s(o[t]):i})};for(var l in o)c(l);return r}(t,e,e.length);!function(t,n,e,r,i){var o=(e[1]-e[0])/r,a=[];a[0]=e[0];for(var s=1;s<r;s++)a.push(Math.round(s*o+e[0]));var c=function(t,e){return n[e]},l=function(t,e){return t<r?i.formatNum(a[e])+"+":t===r+1?"x":void 0},u=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);t.append("g").attr("class","colourbarTitle").attr("id","cbTitle").append("text").attr("transform",function(t,e){return"translate(225, 15)"}).style("display",function(){return"inline"});var f=t.attr("class","mapCB").selectAll(".legend").data(Array.from(Array(n.length).keys())),p=f.enter().append("g").attr("class","legend").attr("id",function(t,e){return"cb".concat(e)});p.append("rect").attr("width",35).attr("height",35).attr("y",20).attr("x",function(t,e){return 135+35*e}).attr("fill",c).attr("class",function(t,e){if(e===r+1)return"classNaN"}),p.selectAll(".legend rect").on("mouseover",function(t,e){if("classNaN"===d3.select(this).attr("class")){var n=i18next.t("NaNhover1",{ns:"airUI"}),r=i18next.t("NaNhover2",{ns:"airUI",escapeInterpolation:!1});u.style("opacity",.9).html("<br>"+n+"<br>"+r+"<br><br>").style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY+10+"px")}}).on("mouseout",function(){u.style("opacity",0)}),p.append("text").text(l).attr("text-anchor","end").attr("transform",function(t,e){return e<r?"translate(".concat(140+35*e,", ").concat(65,") rotate(-45)"):e===r+1?"translate(".concat(156+35*e,", ").concat(72,") "):void 0}).style("display",function(){return"inline"}),f.select("rect").attr("fill",c),f.select("text").text(l),f.exit().remove()}(In,e,n,e.length,Nn);var r=i18next.t("units",{ns:"road"}),i="en"===document.getElementsByTagName("html")[0].getAttribute("lang")?168:177;d3.select("#cbTitle").select("text").text(r).attr("transform",function(t,e){return"translate(".concat(i,", 15)")})}function Rn(){bn=areaChart(En,Nn,xn[Cn]),d3.select("#svgFuel").select(".x.axis").select("text").attr("display","none"),d3.select("#svgFuel").select(".x.axis").selectAll(".tick text").attr("dy","".concat(wn,"em")),function(e,t,c,n){e.svg.datum(e),e.data=t;var r,l,u=d3.bisector(function(t){return e.settings.x.getValue(t)}).left,i=e.svg.select(".data .overlay");l=i.empty()?(r=(i=e.svg.select(".data").append("g").attr("class","overlay")).append("rect").style("fill","none").style("pointer-events","all").attr("class","overlay"),i.append("line").attr("class","hoverLine").style("display","inline").style("visibility","hidden")):(r=i.select("rect"),i.select("line")),r.attr("width",e.settings.innerWidth).attr("height",e.settings.innerHeight).on("mousemove",function(t){var e,n=d3.select(this.ownerSVGElement).datum(),r=d3.mouse(this)[0],i=n.x.invert(r),o=u(n.data,i),a=n.data[o-1],s=n.data[o];e=a&&s?i-n.settings.x.getValue(a)>n.settings.x.getValue(s)-i?s:a:a||s,n.data.filter(function(t){t.isLast&&(e=s)}),l.attr("x1",n.x(n.settings.x.getValue(e))),l.attr("x2",n.x(n.settings.x.getValue(e))),l.style("visibility","visible"),c&&"function"==typeof c&&c(e)}).on("mouseout",function(){l.style("visibility","hidden"),n&&"function"==typeof n&&n()}),l.attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",e.settings.innerHeight)}(bn,xn[Cn],function(t){var a,e,s,n,r,i,c;a=bn.settings,e=Pn,n=(s=t).date.substring(5,7)?i18next.t(s.date.substring(5,7),{ns:"months"}):null,r=s.date.substring(0,4),i=n?"".concat(i18next.t("hoverTitle",{ns:a.ns}),", ").concat(n," ").concat(r,": "):"".concat(i18next.t("hoverTitle",{ns:a.ns}),", ").concat(s.date,": "),(c=Object.keys(s)).splice(c.indexOf("date"),1),-1!==c.indexOf("total")&&c.splice(c.indexOf("total"),1),-1!==c.indexOf("isLast")&&c.splice(c.indexOf("isLast"),1),e.html(function(t){for(var e=[],n=0;n<c.length;n++){var r=c[n];e.push(a.y.getText.call(a,s,r))}for(var i="<b>".concat(t,"</b><br><br><table>"),o=0;o<c.length;o++)i=i.concat("<tr><td><b>".concat(i18next.t(c[o],{ns:a.ns}),"</b>: ").concat(e[o],"</td></tr>"));return i=i.concat("</table>")}(i)).style("opacity",.9).style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY+10+"px").style("pointer-events","none")},function(){Pn.style("opacity",0)}),d3.select(".dashboard .map").select("."+Cn).classed("roadMapHighlight",!0).moveToFront(),Dn(),Bn(),Sn.appendTo(document.getElementById("copy-button-container")),function(t){var e=[],n=i18next.t(Cn,{ns:"geography"}),r=[i18next.t("tableTitle",{ns:"roadArea",geo:n})],i=[""],o=JSON.parse(JSON.stringify(t));for(var a in(o=t.filter(function(t){if(void 0===t.isLast)return t}))[0])"date"!=a&&i.push(i18next.t(a,{ns:"roadArea"}));for(var s in e.push(r,[],i),o)if(Object.prototype.hasOwnProperty.call(o,s)){var c=[];for(var l in o[s])if(Object.prototype.hasOwnProperty.call(o[s],l)){var u=o[s][l];c.push(u)}e.push(c)}Sn.data=e}(xn[Cn])}function Dn(){var t=i18next.t(Cn,{ns:"geography"});d3.select("#areaTitleRoad").text(i18next.t("chartTitle",{ns:"road"})+", "+t),Nn.tableTitle=i18next.t("tableTitle",{ns:"roadArea",geo:t})}function Bn(){var n,t,r=["gas","diesel","lpg"];n=r,(t=Ln.selectAll("rect").data(n).enter().append("g")).append("rect").attr("width",15).attr("height",15).attr("y",25).attr("x",function(t,e){return 50+15*e*9.5}).attr("class",function(t,e){return n[e]}),t.append("text"),d3.select("#areaLegend").selectAll("text").attr("y",38).attr("x",function(t,e){return 50+15*e*9.5+20}).style("display",function(){return"inline"}),d3.select("#areaLegend").selectAll("text").text(function(t,e){return i18next.t(r[e],{ns:"roadArea"})})}_n.on("mousemove",function(){if(d3.select(d3.event.target).attr("class")){var t=(d3.select(d3.event.target).attr("class")||"").split(" ");if("svg-shimmed"!==t[0]){var e=d3.select(".dashboard .map").select("."+t[0]);e.classed("roadMapHighlight",!0),e.moveToFront();var n=i18next.t(t[0],{ns:"geography"}),r=Nn.formatNum(On[Tn][t[0]]);Fn.style("opacity",.9),Fn.html("<b>"+n+" ("+i18next.t("units",{ns:"road"})+")</b><br><br><table><tr><td><b>"+r+"</td></tr></table>"),Fn.style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY+10+"px")}else Fn.style("opacity",0)}}),_n.on("mouseout",function(){Fn.style("opacity",0),Cn?d3.select(".map").selectAll("path:not(."+Cn+")").classed("roadMapHighlight",!1):d3.select(".map").selectAll("path").classed("roadMapHighlight",!1)}),_n.on("click",function(){if(d3.select(".map").selectAll("path").classed("roadMapHighlight",!1),d3.select(d3.event.target).attr("class")&&-1===d3.select(d3.event.target).attr("class").indexOf("svg-shimmed")){var t=(d3.select(d3.event.target).attr("class")||"").split(" ");Cn=t[0],d3.select(".dashboard .map").select("."+t[0]).classed("roadMapHighlight",!0).moveToFront(),Dn(),Vn(Cn,function(){Rn()}),d3.select("#groups")._groups[0][0].value=Cn}else Cn="CANADA",Dn(),Rn(),d3.select("#groups")._groups[0][0].value=Cn});var Vn=function(n,r){xn[n]?r():d3.json("data/road/"+n+".json",function(t,e){xn[n]=e,r()})};i18n.load(["src/i18n"],function(){Nn.x.label=i18next.t("x_label",{ns:"roadArea"}),Nn.y.label=i18next.t("y_label",{ns:"roadArea"}),Nn.tableTitle=i18next.t("tableTitle",{ns:"roadArea",geo:i18next.t(Cn,{ns:"geography"})}),d3.queue().defer(d3.json,"data/road/Annual_Totals.json").defer(d3.json,"data/road/CANADA.json").await(function(t,e,n){On=e,xn[Cn]=n,getCanadaMap(_n).on("loaded",function(){Mn()}),d3.select("#mapTitleRoad").text(i18next.t("mapTitle",{ns:"road",year:Tn}));var r={pNode:document.getElementById("copy-button-container"),title:i18next.t("CopyButton_Title",{ns:"CopyButton"}),msgCopyConfirm:i18next.t("CopyButton_Confirm",{ns:"CopyButton"}),accessibility:i18next.t("CopyButton_Title",{ns:"CopyButton"})};Sn.build(r),d3.select("#symbolLink").html("<a href=".concat(i18next.t("linkURL",{ns:"symbolLink"})," target='_blank'>").concat(i18next.t("linkText",{ns:"symbolLink"}),"</a>")),function(){for(var t=Object.entries(On),e=0;e<t.length;e++){var n=Vt(t[e],1)[0];(!An.min||new Date(n)<new Date(An.min))&&(An.min=n),(!An.max||new Date(n)>new Date(An.max))&&(An.max=n)}}(),function(){var t="#".concat("year"),e=$(t);e.empty();for(var n=Number(An.min.substring(0,4));n<=Number(An.max.substring(0,4));n++)e.append($("<option></option>").attr("value",n).html(n));d3.select(t)._groups[0][0].value=Tn}(),Rn(),Bn(),Dn()})}),$(document).on("change",function(t){"groups"===t.target.id&&(Cn=document.getElementById("groups").value,d3.select(".map").selectAll("path").classed("roadMapHighlight",!1),Dn(),Vn(Cn,function(){Rn()})),"year"===t.target.id&&(Tn=document.getElementById("year").value,d3.select("#mapTitleRoad").text(i18next.t("mapTitle",{ns:"road",year:Tn})),Mn())}),d3.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})},d3.selection.prototype.moveToBack=function(){return this.each(function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)})}}();