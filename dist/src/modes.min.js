!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var v=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),m=(v.version,t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),o=t(function(t){var e="__core-js_shared__",n=m[e]||(m[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:v.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),e=0,n=Math.random(),u=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))},s=t(function(t){var e=o("wks"),n=m.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:u)("Symbol."+t))}).store=e}),p=function(t){return"object"==typeof t?null!==t:"function"==typeof t},O=function(t){if(!p(t))throw TypeError(t+" is not an object!");return t},f=function(t){try{return!!t()}catch(t){return!0}},r=!f(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),i=m.document,a=p(i)&&p(i.createElement),l=function(t){return a?i.createElement(t):{}},c=!r&&!f(function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}),d=function(t,e){if(!p(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!p(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},h=Object.defineProperty,y={f:r?Object.defineProperty:function(t,e,n){if(O(t),e=d(e,!0),O(n),c)try{return h(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},_=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=r?function(t,e,n){return y.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t},g=s("unscopables"),b=Array.prototype;null==b[g]&&E(b,g,{});var x=function(t){b[g][t]=!0},S=function(t,e){return{value:e,done:!!t}},w={},C={}.toString,k=function(t){return C.call(t).slice(8,-1)},T=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==k(t)?t.split(""):Object(t)},A=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},N=function(t){return T(A(t))},F={}.hasOwnProperty,j=function(t,e){return F.call(t,e)},I=t(function(t){var i=u("src"),e="toString",n=Function[e],a=(""+n).split(e);v.inspectSource=function(t){return n.call(t)},(t.exports=function(t,e,n,r){var o="function"==typeof n;o&&(j(n,"name")||E(n,"name",e)),t[e]!==n&&(o&&(j(n,i)||E(n,i,t[e]?""+t[e]:a.join(String(e)))),t===m?t[e]=n:r?t[e]?t[e]=n:E(t,e,n):(delete t[e],E(t,e,n)))})(Function.prototype,e,function(){return"function"==typeof this&&this[i]||n.call(this)})}),L=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},P=function(r,o,t){if(L(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},M="prototype",R=function(t,e,n){var r,o,i,a,u=t&R.F,l=t&R.G,c=t&R.S,s=t&R.P,f=t&R.B,d=l?m:c?m[e]||(m[e]={}):(m[e]||{})[M],p=l?v:v[e]||(v[e]={}),h=p[M]||(p[M]={});for(r in l&&(n=e),n)i=((o=!u&&d&&void 0!==d[r])?d:n)[r],a=f&&o?P(i,m):s&&"function"==typeof i?P(Function.call,i):i,d&&I(d,r,i,t&R.U),p[r]!=i&&E(p,r,a),s&&h[r]!=i&&(h[r]=i)};m.core=v,R.F=1,R.G=2,R.S=4,R.P=8,R.B=16,R.W=32,R.U=64,R.R=128;var U=R,B=Math.ceil,D=Math.floor,V=function(t){return isNaN(t=+t)?0:(0<t?D:B)(t)},G=Math.min,H=function(t){return 0<t?G(V(t),9007199254740991):0},z=Math.max,W=Math.min,Y=function(c){return function(t,e,n){var r,o,i,a=N(t),u=H(a.length),l=(o=u,(r=V(r=n))<0?z(r+o,0):W(r,o));if(c&&e!=e){for(;l<u;)if((i=a[l++])!=i)return!0}else for(;l<u;l++)if((c||l in a)&&a[l]===e)return c||l||0;return!c&&-1}},X=o("keys"),q=function(t){return X[t]||(X[t]=u(t))},K=Y(!1),J=q("IE_PROTO"),Q=function(t,e){var n,r=N(t),o=0,i=[];for(n in r)n!=J&&j(r,n)&&i.push(n);for(;e.length>o;)j(r,n=e[o++])&&(~K(i,n)||i.push(n));return i},Z="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),tt=Object.keys||function(t){return Q(t,Z)},et=r?Object.defineProperties:function(t,e){O(t);for(var n,r=tt(e),o=r.length,i=0;i<o;)y.f(t,n=r[i++],e[n]);return t},nt=m.document,rt=nt&&nt.documentElement,ot=q("IE_PROTO"),it=function(){},at="prototype",ut=function(){var t,e=l("iframe"),n=Z.length;for(e.style.display="none",rt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ut=t.F;n--;)delete ut[at][Z[n]];return ut()},lt=Object.create||function(t,e){var n;return null!==t?(it[at]=O(t),n=new it,it[at]=null,n[ot]=t):n=ut(),void 0===e?n:et(n,e)},ct=y.f,st=s("toStringTag"),ft=function(t,e,n){t&&!j(t=n?t:t.prototype,st)&&ct(t,st,{configurable:!0,value:e})},dt={};E(dt,s("iterator"),function(){return this});var pt=function(t){return Object(A(t))},ht=q("IE_PROTO"),vt=Object.prototype,mt=Object.getPrototypeOf||function(t){return t=pt(t),j(t,ht)?t[ht]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?vt:null},yt=s("iterator"),gt=!([].keys&&"next"in[].keys()),bt="values",xt=function(){return this},St=function(t,e,n,r,o,i,a){var u,l,c;l=e,c=r,(u=n).prototype=lt(dt,{next:_(1,c)}),ft(u,l+" Iterator");var s,f,d,p=function(t){if(!gt&&t in y)return y[t];switch(t){case"keys":case bt:return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",v=o==bt,m=!1,y=t.prototype,g=y[yt]||y["@@iterator"]||o&&y[o],b=g||p(o),x=o?v?p("entries"):b:void 0,S="Array"==e&&y.entries||g;if(S&&(d=mt(S.call(new t)))!==Object.prototype&&d.next&&(ft(d,h,!0),"function"!=typeof d[yt]&&E(d,yt,xt)),v&&g&&g.name!==bt&&(m=!0,b=function(){return g.call(this)}),(gt||m||!y[yt])&&E(y,yt,b),w[e]=b,w[h]=xt,o)if(s={values:v?b:p(bt),keys:i?b:p("keys"),entries:x},a)for(f in s)f in y||I(y,f,s[f]);else U(U.P+U.F*(gt||m),e,s);return s}(Array,"Array",function(t,e){this._t=N(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,S(1)):S(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");w.Arguments=w.Array,x("keys"),x("values"),x("entries");for(var _t=s("iterator"),Et=s("toStringTag"),Ot=w.Array,wt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Ct=tt(wt),kt=0;kt<Ct.length;kt++){var Tt,At=Ct[kt],Nt=wt[At],Ft=m[At],jt=Ft&&Ft.prototype;if(jt&&(jt[_t]||E(jt,_t,Ot),jt[Et]||E(jt,Et,At),w[At]=Ot,Nt))for(Tt in St)jt[Tt]||I(jt,Tt,St[Tt],!0)}var It=Array.isArray||function(t){return"Array"==k(t)},Lt=s("species"),Pt=function(t,e){return It(n=t)&&("function"!=typeof(r=n.constructor)||r!==Array&&!It(r.prototype)||(r=void 0),p(r)&&null===(r=r[Lt])&&(r=void 0)),new(void 0===r?Array:r)(e);var n,r},Mt=function(f,t){var d=1==f,p=2==f,h=3==f,v=4==f,m=6==f,y=5==f||m,g=t||Pt;return function(t,e,n){for(var r,o,i=pt(t),a=T(i),u=P(e,n,3),l=H(a.length),c=0,s=d?g(t,l):p?g(t,0):void 0;c<l;c++)if((y||c in a)&&(o=u(r=a[c],c,i),f))if(d)s[c]=o;else if(o)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:s.push(r)}else if(v)return!1;return m?-1:h||v?v:s}},Rt=function(t,e){return!!t&&f(function(){e?t.call(null,function(){},1):t.call(null)})},Ut=Mt(0),Bt=Rt([].forEach,!0);U(U.P+U.F*!Bt,"Array",{forEach:function(t){return Ut(this,t,arguments[1])}});var Dt=Mt(1);U(U.P+U.F*!Rt([].map,!0),"Array",{map:function(t){return Dt(this,t,arguments[1])}});function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e,n){return e&&Gt(t.prototype,e),n&&Gt(t,n),t}function $t(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},e=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.forEach(function(t){var e,n,r;e=o,r=i[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r})}return o}function zt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}U(U.P+U.F*!Rt([].reduce,!0),"Array",{reduce:function(t){return function(t,e,n,r,o){L(e);var i=pt(t),a=T(i),u=H(i.length),l=o?u-1:0,c=o?-1:1;if(n<2)for(;;){if(l in a){r=a[l],l+=c;break}if(l+=c,o?l<0:u<=l)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=l:l<u;l+=c)l in a&&(r=e(r,a[l],l,i));return r}(this,t,arguments.length,arguments[1],!1)}});var Wt={f:{}.propertyIsEnumerable},Yt=Object.getOwnPropertyDescriptor,Xt={f:r?Yt:function(t,e){if(t=N(t),e=d(e,!0),c)try{return Yt(t,e)}catch(t){}if(j(t,e))return _(!Wt.f.call(t,e),t[e])}},qt=function(t,e){if(O(t),!p(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Kt={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=P(Function.call,Xt.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return qt(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:qt}.set,Jt=Z.concat("length","prototype"),Qt={f:Object.getOwnPropertyNames||function(t){return Q(t,Jt)}},Zt="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",te="["+Zt+"]",ee=RegExp("^"+te+te+"*"),ne=RegExp(te+te+"*$"),re=function(t,e,n){var r={},o=f(function(){return!!Zt[t]()||"​"!="​"[t]()}),i=r[t]=o?e(oe):Zt[t];n&&(r[n]=i),U(U.P+U.F*o,"String",r)},oe=re.trim=function(t,e){return t=String(A(t)),1&e&&(t=t.replace(ee,"")),2&e&&(t=t.replace(ne,"")),t},ie=re,ae=Qt.f,ue=Xt.f,le=y.f,ce=ie.trim,se="Number",fe=m[se],de=fe,pe=fe.prototype,he=k(lt(pe))==se,ve="trim"in String.prototype,me=function(t){var e=d(t,!1);if("string"==typeof e&&2<e.length){var n,r,o,i=(e=ve?e.trim():ce(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||o<a)return NaN;return parseInt(u,r)}}return+e};if(!fe(" 0o1")||!fe("0b1")||fe("+0x1")){fe=function(t){var e,n,r,o,i=arguments.length<1?0:t,a=this;return a instanceof fe&&(he?f(function(){pe.valueOf.call(a)}):k(a)!=se)?(e=new de(me(i)),n=fe,(o=a.constructor)!==n&&"function"==typeof o&&(r=o.prototype)!==n.prototype&&p(r)&&Kt&&Kt(e,r),e):me(i)};for(var ye,ge=r?ae(de):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),be=0;ge.length>be;be++)j(de,ye=ge[be])&&!j(fe,ye)&&le(fe,ye,ue(de,ye));(fe.prototype=pe).constructor=fe,I(m,se,fe)}var xe,Se,_e,Ee=s("match"),Oe=s("species"),we=(xe=!0,function(t,e){var n,r,o=String(A(t)),i=V(e),a=o.length;return i<0||a<=i?xe?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?xe?o.charAt(i):n:xe?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}),Ce=s("toStringTag"),ke="Arguments"==k(function(){return arguments}()),Te=RegExp.prototype.exec,Ae=function(t,e){var n,r,o,i,a=t.exec;if("function"==typeof a){var u=a.call(t,e);if("object"!=typeof u)throw new TypeError("RegExp exec method returned something other than an Object or null");return u}if("RegExp"!==(void 0===(n=t)?"Undefined":null===n?"Null":"string"==typeof(o=function(t,e){try{return t[e]}catch(t){}}(r=Object(n),Ce))?o:ke?k(r):"Object"==(i=k(r))&&"function"==typeof r.callee?"Arguments":i))throw new TypeError("RegExp#exec called on incompatible receiver");return Te.call(t,e)},Ne=RegExp.prototype.exec,Fe=String.prototype.replace,je=Ne,Ie="lastIndex",Le=(Se=/a/,_e=/b*/g,Ne.call(Se,"a"),Ne.call(_e,"a"),0!==Se[Ie]||0!==_e[Ie]),Pe=void 0!==/()??/.exec("")[1];(Le||Pe)&&(je=function(t){var e,n,r,o,i=this;return Pe&&(n=new RegExp("^"+i.source+"$(?!\\s)",function(){var t=O(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}.call(i))),Le&&(e=i[Ie]),r=Ne.call(i,t),Le&&r&&(i[Ie]=i.global?r.index+r[0].length:e),Pe&&r&&1<r.length&&Fe.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var Me=je;U({target:"RegExp",proto:!0,forced:Me!==/./.exec},{exec:Me});var Re=s("species"),Ue=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Be=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),De=Math.min,Ve=[].push,Ge="split",He="length",$e="lastIndex",ze=4294967295,We=!f(function(){});!function(n,t,e){var r=s(n),i=!f(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),o=i?!f(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[Re]=function(){return e}),e[r](""),!t}):void 0;if(!i||!o||"replace"===n&&!Ue||"split"===n&&!Be){var a=/./[r],u=e(A,r,""[n],function(t,e,n,r,o){return e.exec===Me?i&&!o?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),l=u[0],c=u[1];I(String.prototype,n,l),E(RegExp.prototype,r,2==t?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)})}}("split",2,function(o,i,S,_){var E;return E="c"=="abbc"[Ge](/(b)*/)[1]||4!="test"[Ge](/(?:)/,-1)[He]||2!="ab"[Ge](/(?:ab)*/)[He]||4!="."[Ge](/(.?)(.?)/)[He]||1<"."[Ge](/()()/)[He]||""[Ge](/.?/)[He]?function(t,e){var n,r,o=String(this);if(void 0===t&&0===e)return[];if(!p(n=t)||(void 0!==(r=n[Ee])?!r:"RegExp"!=k(n)))return S.call(o,t,e);for(var i,a,u,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,f=void 0===e?ze:e>>>0,d=new RegExp(t.source,c+"g");(i=Me.call(d,o))&&!(s<(a=d[$e])&&(l.push(o.slice(s,i.index)),1<i[He]&&i.index<o[He]&&Ve.apply(l,i.slice(1)),u=i[0][He],s=a,l[He]>=f));)d[$e]===i.index&&d[$e]++;return s===o[He]?!u&&d.test("")||l.push(""):l.push(o.slice(s)),l[He]>f?l.slice(0,f):l}:"0"[Ge](void 0,0)[He]?function(t,e){return void 0===t&&0===e?[]:S.call(this,t,e)}:S,[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):E.call(String(n),t,e)},function(t,e){var n=_(E,t,this,e,E!==S);if(n.done)return n.value;var r,o,i,a=O(t),u=String(this),l=(r=RegExp,void 0===(i=O(a).constructor)||null==(o=O(i)[Oe])?r:L(o)),c=a.unicode,s=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(We?"y":"g"),f=new l(We?a:"^(?:"+a.source+")",s),d=void 0===e?ze:e>>>0;if(0===d)return[];if(0===u.length)return null===Ae(f,u)?[u]:[];for(var p,h,v=0,m=0,y=[];m<u.length;){f.lastIndex=We?m:0;var g,b=Ae(f,We?u:u.slice(m));if(null===b||(g=De(H(f.lastIndex+(We?0:m)),u.length))===v)p=u,m=(h=m)+(c?we(p,h).length:1);else{if(y.push(u.slice(v,m)),y.length===d)return y;for(var x=1;x<=b.length-1;x++)if(y.push(b[x]),y.length===d)return y;m=v=g}}return y.push(u.slice(v)),y}]});var Ye=Y(!1),Xe=[].indexOf,qe=!!Xe&&1/[1].indexOf(1,-0)<0;U(U.P+U.F*(qe||!Rt(Xe)),"Array",{indexOf:function(t){return qe?Xe.apply(this,arguments)||0:Ye(this,t,arguments[1])}});var Ke=[].sort,Je=[1,2,3];U(U.P+U.F*(f(function(){Je.sort(void 0)})||!f(function(){Je.sort(null)})||!Rt(Ke)),"Array",{sort:function(t){return void 0===t?Ke.call(pt(this)):Ke.call(pt(this),L(t))}});var Qe,Ze,tn=/"/g;(Ze={})[Qe="link"]=function(e){return function(t){return e(this,"a","href",t)}}(function(t,e,n,r){var o=String(A(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+String(r).replace(tn,"&quot;")+'"'),i+">"+o+"</"+e+">"}),U(U.P+U.F*f(function(){var t=""[Qe]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",Ze);var en=y.f,nn=Function.prototype,rn=/^\s*function ([^ (]*)/;"name"in nn||r&&en(nn,"name",{configurable:!0,get:function(){try{return(""+this).match(rn)[1]}catch(t){return""}}});var on=Y(!0);U(U.P,"Array",{includes:function(t){return on(this,t,1<arguments.length?arguments[1]:void 0)}}),x("includes");var an=Mt(2);U(U.P+U.F*!Rt([].filter,!0),"Array",{filter:function(t){return an(this,t,arguments[1])}});var un={aspectRatio:1.6,width:900,margin:{top:30,right:10,bottom:30,left:10}};var ln={tableTitle:i18next.t("alt",{ns:"modes"}),y:{getValue:function(t,e){return t[e]}},z:{getId:function(t){return t.name},getKeys:function(t){var e=["name","value"];return-1!==e.indexOf(this.y.totalProperty)&&e.splice(e.indexOf(this.y.totalProperty),1),e},getKeyText:function(t){return i18next.t(t,{ns:"modes_sankey"})},getText:function(t){var e="USres_other"===t.name?1:2,n="<sup id='fn".concat(e,"-rf'><a class='fn-lnk' href='#fn1'><span class='wb-inv'>Footnote </span>1</a></sup>");return-1!==t.name.indexOf("other")?"".concat(i18next.t(t.name,{ns:"modes"})).concat(n):i18next.t(t.name,{ns:"modes"})}}},cn=[].slice,sn={},fn=Function.bind||function(e){var n=L(this),r=cn.call(arguments,1),o=function(){var t=r.concat(cn.call(arguments));return this instanceof o?function(t,e,n){if(!(e in sn)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";sn[e]=Function("F,a","return new F("+r.join(",")+")")}return sn[e](t,n)}(n,t.length,t):function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}(n,t,e)};return p(n.prototype)&&(o.prototype=n.prototype),o};U(U.P,"Function",{bind:fn});var dn=function(){function n(t,e){Vt(this,n),this.pNode=t||document.createElement("div"),this.options=e||{},this.nodes={},this.data=null,this.instanceNumber=++n.n,this.class=this.options.class||""}return Ht(n,[{key:"build",value:function(t){t&&(this.options=t),t.pNode&&(this.pNode=t.pNode),t.class&&(this.class=t.class),this.root=document.createElement("div"),this.root.setAttribute("class","copy-button button-"+this.instanceNumber+" "+this.class),this.pNode.appendChild(this.root),this.nodes.btnCopy=document.createElement("button"),this.nodes.btnCopy.setAttribute("type","button"),this.nodes.btnCopy.setAttribute("class","btn btn-primary copy button-"+this.instanceNumber+" "+this.class),this.nodes.btnCopy.setAttribute("title",this.options.title||""),this.root.appendChild(this.nodes.btnCopy);var e=document.createElement("span");e.setAttribute("class","fa fa-clipboard clipboard button-"+this.instanceNumber+" "+this.class),this.nodes.btnCopy.appendChild(e);var n=document.createElement("span");n.setAttribute("class","wb-inv button-"+this.instanceNumber+" "+this.class),n.innerHTML=this.options.accessibility||"",this.nodes.btnCopy.appendChild(n),this.nodes.msgCopyConfirm=document.createElement("div"),this.nodes.msgCopyConfirm.setAttribute("class","copy-confirm button-"+this.instanceNumber+" "+this.class),this.nodes.msgCopyConfirm.setAttribute("aria-live","polite"),this.nodes.msgCopyConfirm.innerHTML=this.options.msgCopyConfirm||"",this.root.appendChild(this.nodes.msgCopyConfirm),this.nodes.btnCopy.addEventListener("click",this.onBtnClick.bind(this))}},{key:"onBtnClick",value:function(t){this.copyData(this.data)}},{key:"copyData",value:function(t){var e=t||[];this.clipboard(this.toCSV("\t",e),this.root),this.fade(this.nodes.msgCopyConfirm,!0),setTimeout(function(t){this.fade(this.nodes.msgCopyConfirm,!1)}.bind(this),1500)}},{key:"toCSV",value:function(e,t){return t.map(function(t){return t.join(e)}).join("\r\n")}},{key:"clipboard",value:function(t,e){if(this.isIE())window.clipboardData.setData("Text",t);else{var n=document.createElement("textarea");n.textContent=t,e.appendChild(n),n.select(),document.execCommand("copy"),e.removeChild(n)}}},{key:"fade",value:function(t,e){var n=["copy-confirm button-"+this.instanceNumber+" "+this.class],r=e?"fadeIn":"fadeOut";n.push(r),t.setAttribute("class",n.join(" "))}},{key:"appendTo",value:function(t){this.pNode=t,this.pNode.appendChild(this.root),this.nodes.msgCopyConfirm.setAttribute("class","copy-confirm button-"+this.instanceNumber+" "+this.class)}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return 0<r&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}}]),n}();dn.n=0;var pn,hn=Wt.f,vn=(pn=!0,function(t){for(var e,n=N(t),r=tt(n),o=r.length,i=0,a=[];i<o;)hn.call(n,e=r[i++])&&a.push(pn?[e,n[e]]:n[e]);return a});U(U.S,"Object",{entries:function(t){return vn(t)}});var mn=Mt(5),yn="find",gn=!0;yn in[]&&Array(1)[yn](function(){gn=!1}),U(U.P+U.F*gn,"Array",{find:function(t){return mn(this,t,1<arguments.length?arguments[1]:void 0)}}),x(yn);var bn=function(){function t(){Vt(this,t),this.tree=this.buildTree(),this.data=null}return Ht(t,[{key:"setData",value:function(n){this.data=n,this.iterTree(this.tree,function(e){var t=n.find(function(t){return t.target==e.target});e.value=null!=t?t.value:0}),this.tree.value=0,this.tree.children.forEach(function(t){this.tree.value+=t.value}.bind(this))}},{key:"iterTree",value:function(t,e){var n=this;e(t),0<t.children.length&&t.children.forEach(function(t){return n.iterTree(t,e)})}},{key:"toArray",value:function(){var e=[];return this.iterTree(this.tree,function(t){e.push(function(t){for(var e={},n=Object.entries(t),r=0;r<n.length;r++){var o=zt(n[r],1),i=o[0];e[i]=t[i]}return e}(t))}),e}},{key:"toLines",value:function(t,e){var n=[],r=[t],o=e,i=this.toArray();return n.push(r,[],o),i.forEach(function(t){n.push([i18next.t(t.name,{ns:"modes"}),t.value])}),n}},{key:"buildTree",value:function(){return{node:0,target:0,level:0,value:null,name:"intl",children:[{node:1,target:1,level:1,value:null,name:"USres",children:[{node:5,target:5,level:2,value:null,name:"USres_air",children:[]},{node:6,target:6,level:2,value:null,name:"USres_marine",children:[]},{node:7,target:7,level:2,value:null,name:"USres_land",children:[{node:17,target:17,level:3,value:null,name:"USres_car",children:[]},{node:18,target:18,level:3,value:null,name:"USres_bus",children:[]},{node:19,target:19,level:3,value:null,name:"USres_train",children:[]},{node:20,target:20,level:3,value:null,name:"USres_other",children:[]}]}]},{node:2,target:2,level:1,value:null,name:"nonUSres",children:[{node:8,target:8,level:2,value:null,name:"nonUSres_air",children:[]},{node:9,target:9,level:2,value:null,name:"nonUSres_marine",children:[]},{node:10,target:10,level:2,value:null,name:"nonUSres_land",children:[]}]},{node:3,target:3,level:1,value:null,name:"cdnFromUS",children:[{node:11,target:11,level:2,value:null,name:"cdnFromUS_air",children:[]},{node:12,target:12,level:2,value:null,name:"cdnFromUS_marine",children:[]},{node:13,target:13,level:2,value:null,name:"cdnFromUS_land",children:[{node:21,target:21,level:3,value:null,name:"cdnFromUS_car",children:[]},{node:22,target:22,level:3,value:null,name:"cdnFromUS_bus",children:[]},{node:23,target:23,level:3,value:null,name:"cdnFromUS_train",children:[]},{node:24,target:24,level:3,value:null,name:"cdnFromUS_other",children:[]}]}]},{node:4,target:4,level:1,value:null,name:"cdnFromOther",children:[{node:14,target:14,level:2,value:null,name:"cdnFromOther_air",children:[]},{node:15,target:15,level:2,value:null,name:"cdnFromOther_marine",children:[]},{node:16,target:16,level:2,value:null,name:"cdnFromOther_land",children:[]}]}]}}}]),t}();var xn,Sn,_n,En=new dn,On=new bn,wn=document.getElementsByTagName("html")[0].getAttribute("lang"),Cn={formatNum:function(){var e;if("fr"===wn){var t=d3.formatLocale({decimal:",",thousands:" ",grouping:[3]});e=t.format(",d")}else e=d3.format(",d");return function(t){return Number(t)?e(t):t}}},kn=$t({},ln,Cn),Tn="Canada",An={},Nn=On.toArray(),Fn=function(n,r,o){An[n+"-"+r]?o():d3.json("data/modes/"+n+"-"+r+".json",function(t,e){t&&console.log("file does not exist"),An[n+"-"+r]=e,o()})},jn=d3.select("#sankeyGraph").append("svg").attr("id","svg_sankeyChart"),In=d3.select(".tabledata");function Ln(){var t=i18next.t(xn,{ns:"months"}),e=i18next.t(Tn,{ns:"modesTable"});0===An[Sn+"-"+xn][Tn].map(function(t){return t.value}).reduce(function(t,e){return t+e})?(d3.selectAll("svg > *").remove(),d3.select("#zeroFlag").text("".concat(i18next.t("noData",{ns:"modes_sankey"})," ").concat(e,",\n          ").concat(t," ").concat(Sn))):(d3.selectAll("svg > *").remove(),function(t,r,i){var e=un,n=e.width,o=Math.ceil(n/e.aspectRatio),a=e.innerHeight=o-e.margin.top-e.margin.bottom,u=e.innerWidth=n-e.margin.left-e.margin.right,l=t.select("g.margin-offset"),c=l.select(".data"),s=[];function f(){for(var n,t=!1,r=["USres_land","cdnFromUS_land"],e=function(e){i.nodes.map(function(t){t.name===r[e]&&0<t.sourceLinks.length&&(n=!0)}),t=t||n},o=0;o<r.length;o++)e(o);return t}i={links:i.links.map(function(t){return $t({},t)}).filter(function(t){return 0<t.value&&(s.push(t.source,t.target),!0)}),nodes:i.nodes.map(function(t){return $t({},t)}).filter(function(t){return s.includes(t.node)})},e.innerHeight=o-e.margin.top-e.margin.bottom;var d=d3.sankey().size([u,a]),p=d.link();t.attr("viewBox","0 0 "+n+" "+o).attr("preserveAspectRatio","xMidYMid meet").attr("role","img").attr("aria-label",e.altText),l.empty()&&(l=t.append("g").attr("class","margin-offset").attr("transform","translate("+e.margin.left+","+e.margin.top+")")),d3.stcExt.addIEShim(t,o,n),function(){d.nodes(i.nodes).links(i.links).layout(32);var n=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);c.empty()&&(c=l.append("g").attr("class","data")),c.append("g").selectAll(".link").data(d.links()).enter().append("path").attr("class","link").attr("d",p).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy}).on("mousemove",function(t){var e=t.source.name;n.transition().style("opacity",.9),n.html("<b>"+i18next.t(e,{ns:"modes"})+"</b><br><br><table><tr><td><b>"+i18next.t(t.target.name,{ns:"modes"})+": </b></td><td style='padding: 5px 10px 5px 5px;'>"+r.formatNum()(t.value)+" "+i18next.t("units",{ns:"modes_sankey"})+"</td></tr></table>").style("left",d3.event.pageX+15+"px").style("top",d3.event.pageY+"px")}).on("mouseout",function(t){n.transition().style("opacity",0)});var t=c.append("g").selectAll(".node").data(d.nodes()).enter().append("g").attr("class",function(t){return"node "+t.name}).attr("transform",function(t){return"translate(".concat(t.x||0,", ").concat(t.y||0,")")});t.on("mousemove",function(t){var e=-1!==t.name.indexOf("other")?"".concat(i18next.t(t.name,{ns:"modes"}),"<sup>1</sup>"):i18next.t(t.name,{ns:"modes"});n.transition().style("opacity",.9),n.html("<b>".concat(e,"</b><br><br>\n                <table>\n                  <tr>\n                    <td><b> Total: </b></td>\n                    <td style='padding: 5px 10px 5px 5px;'> ").concat(r.formatNum()(t.value)," ").concat(i18next.t("units",{ns:"modes_sankey"})," </td>\n                    </tr>\n              </table>")).style("left",d3.event.pageX+15+"px").style("top",d3.event.pageY+"px")}).on("mouseout",function(t){n.transition().style("opacity",0)}),t.append("rect").attr("height",function(t){return t.dy}).attr("width",d.nodeWidth()).style("stroke",function(t){return d3.rgb(t.color).darker(2)}).text(function(t){return i18next.t(t.name,{ns:"modes"})+"\n"+r.formatNum()(t.value)}),t.append("text").attr("x",function(t){var e=f();return 2===t.level&&!0===e?40:-6}).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor",function(t){var e=f();return 2===t.level&&!0===e?"start":"end"}).attr("transform",null).text(function(t){return i18next.t(t.name,{ns:"modes"})}).filter(function(t){return t.x<u/2}).attr("x",6+d.nodeWidth()).attr("text-anchor","start").call(function(t,l){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),r=[],o=0,i=e.attr("y"),a=parseFloat(e.attr("dy"))-.55,u=e.text(null).append("tspan").attr("class","nowrap").attr("x",40).attr("y",i).attr("dy",a+"em");t=n.pop();)r.push(t),u.text(r.join(" ")),u.node().getComputedTextLength()>l&&(r.pop(),u.text(r.join(" ")),r=[t],u=e.append("tspan").attr("class","wordwrap").attr("x",40).attr("y",i).attr("dy",function(){return 1.1*++o+a+"em"}).text(t))})},200)}()}(jn,Cn,{nodes:Nn,links:An[Sn+"-"+xn][Tn]}));var n=An[Sn+"-"+xn][Tn];On.setData(n);var r,o,i,a,u,l,c,s=On.toArray();s.forEach(function(t){}),drawTable(In,kn,s),$(".wb-fnote").trigger("wb-init.wb-fnote"),d3.select("#symbolLink").html("<a href=".concat(i18next.t("linkURL",{ns:"symbolLink"})," target='_blank'>").concat(i18next.t("linkText",{ns:"symbolLink"}),"</a>")),r=i18next.t(Tn,{ns:"modesTable"}),o=i18next.t(xn,{ns:"months"}),i=i18next.t("tableTitle",{ns:"modesTable"})+" "+r+", "+o+" "+Sn+", "+i18next.t("byType",{ns:"modesTable"}),d3.select("#only-dt-tbl").text(i),d3.select("#table-caption").text(i),En.appendTo(document.getElementById("copy-button-container")),a=i18next.t(Tn,{ns:"modesTable"}),u=i18next.t(xn,{ns:"months"}),l=i18next.t("tableTitle",{ns:"modesTable"})+a+", "+u+" "+Sn+", "+i18next.t("byType",{ns:"modesTable"}),c=[i18next.t("name",{ns:"modes_sankey"}),i18next.t("value",{ns:"modes_sankey"})],En.data=On.toLines(l,c)}function Pn(){var t="#".concat("year"),e="#".concat("month");xn=function(t,e,n,r,o,i){var a=$(t);a.empty();for(var u=Number(n.min.substring(0,4));u<=Number(n.max.substring(0,4));u++)a.append($("<option></option>").attr("value",u).html(u));if(d3.select(t)._groups[0][0].value=r,i){var l=Number(n.max.substring(5,7)),c=Number(n.max.substring(0,4));if(Number(r)===c){$("".concat(e," > option")).each(function(){Number(this.value)>l&&(this.disabled=!0)});var s=Number(d3.select(e)._groups[0][0].value);l<s&&(o=n.max.substring(5,7),d3.select(e)._groups[0][0].value=o)}else d3.selectAll("".concat(e," > option")).property("disabled",!1)}return o}(t,e,_n,Sn,xn,!0)}i18n.load(["src/i18n"],function(){d3.queue().defer(d3.json,"data/modes/dateRange.json").await(function(t,e){xn=(_n=e).max.substring(5,7),Sn=_n.max.substring(0,4),Pn(),d3.select("#year")._groups[0][0].value=Sn,d3.select("#month")._groups[0][0].value=xn;var n={pNode:document.getElementById("copy-button-container"),title:i18next.t("CopyButton_Title",{ns:"CopyButton"}),msgCopyConfirm:i18next.t("CopyButton_Confirm",{ns:"CopyButton"}),accessibility:i18next.t("CopyButton_Title",{ns:"CopyButton"})};En.build(n),Fn(Sn,xn,Ln)})}),$(document).on("change",function(t){d3.selectAll(".tooltip").style("opacity",0),"groups"!==t.target.id&&"month"!==t.target.id&&"year"!==t.target.id||(Tn=document.getElementById("groups").value,xn=document.getElementById("month").value,Sn=document.getElementById("year").value,""!==d3.select("#zeroFlag").text()&&d3.select("#zeroFlag").text(""),Fn(Sn,xn,function(){Pn(),Ln()}))})}();